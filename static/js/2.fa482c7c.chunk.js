/*! For license information please see 2.fa482c7c.chunk.js.LICENSE.txt */
(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(86)},function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"c",(function(){return h}));var i=n(8),r=function(){},o=function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})},a={arr:Array.isArray,obj:function(t){return!!t&&"Object"===t.constructor.name},fun:function(t){return"function"===typeof t},str:function(t){return"string"===typeof t},num:function(t){return"number"===typeof t},und:function(t){return void 0===t}};function s(t,e){if(a.arr(t)){if(!a.arr(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var u=function(t){return a.str(t)&&("#"==t[0]||/\d/.test(t)||!(!i.colorNames||!i.colorNames[t]))},l=function(t,e,n){a.fun(t.forEach)?t.forEach(e,n):Object.keys(t).forEach((function(i){return e.call(n,t[i],i)}))},c=function(t){return a.und(t)?[]:a.arr(t)?t:[t]};function h(t,e){if(t.size){var n=Array.from(t);t.clear(),l(n,e)}}},function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"c",(function(){return h}));var i=n(9),r=function(){},o=function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})},a={arr:Array.isArray,obj:function(t){return!!t&&"Object"===t.constructor.name},fun:function(t){return"function"===typeof t},str:function(t){return"string"===typeof t},num:function(t){return"number"===typeof t},und:function(t){return void 0===t}};function s(t,e){if(a.arr(t)){if(!a.arr(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var u=function(t){return a.str(t)&&("#"==t[0]||/\d/.test(t)||!(!i.colorNames||!i.colorNames[t]))},l=function(t,e,n){a.fun(t.forEach)?t.forEach(e,n):Object.keys(t).forEach((function(i){return e.call(n,t[i],i)}))},c=function(t){return a.und(t)?[]:a.arr(t)?t:[t]};function h(t,e){if(t.size){var n=Array.from(t);t.clear(),l(n,e)}}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(43);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||Object(i.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(44);function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(i.a)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(13),r=n(52);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n(27);function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(a.a)(t):e}function u(t){var e=Object(r.a)();return function(){var n,r=Object(i.a)(t);if(e){var o=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}},function(t,e,n){t.exports=n(96)},function(t,e,n){"use strict";n.r(e),n.d(e,"createStringInterpolator",(function(){return i})),n.d(e,"frameLoop",(function(){return s})),n.d(e,"to",(function(){return r})),n.d(e,"now",(function(){return u})),n.d(e,"colorNames",(function(){return l})),n.d(e,"skipAnimation",(function(){return c})),n.d(e,"requestAnimationFrame",(function(){return h})),n.d(e,"batchedUpdates",(function(){return f})),n.d(e,"willAdvance",(function(){return m})),n.d(e,"assign",(function(){return d}));var i,r,o=n(46),a=n(1),s=new o.a,u=function(){return performance.now()},l=null,c=!1,h="undefined"!==typeof window?window.requestAnimationFrame:function(){return-1},f=function(t){return t()},m=a.g,d=function(t){var e;return e=Object.assign({to:r,now:u,frameLoop:s,colorNames:l,skipAnimation:c,createStringInterpolator:i,requestAnimationFrame:h,batchedUpdates:f,willAdvance:m},function(t){var e={};for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}(t)),r=e.to,u=e.now,s=e.frameLoop,l=e.colorNames,c=e.skipAnimation,i=e.createStringInterpolator,h=e.requestAnimationFrame,f=e.batchedUpdates,m=e.willAdvance,e}},function(t,e,n){"use strict";n.r(e),n.d(e,"createStringInterpolator",(function(){return i})),n.d(e,"frameLoop",(function(){return s})),n.d(e,"to",(function(){return r})),n.d(e,"now",(function(){return u})),n.d(e,"colorNames",(function(){return l})),n.d(e,"skipAnimation",(function(){return c})),n.d(e,"requestAnimationFrame",(function(){return h})),n.d(e,"batchedUpdates",(function(){return f})),n.d(e,"willAdvance",(function(){return m})),n.d(e,"assign",(function(){return d}));var i,r,o=n(47),a=n(2),s=new o.a,u=function(){return performance.now()},l=null,c=!1,h="undefined"!==typeof window?window.requestAnimationFrame:function(){return-1},f=function(t){return t()},m=a.g,d=function(t){var e;return e=Object.assign({to:r,now:u,frameLoop:s,colorNames:l,skipAnimation:c,createStringInterpolator:i,requestAnimationFrame:h,batchedUpdates:f,willAdvance:m},function(t){var e={};for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}(t)),r=e.to,u=e.now,s=e.frameLoop,l=e.colorNames,c=e.skipAnimation,i=e.createStringInterpolator,h=e.requestAnimationFrame,f=e.batchedUpdates,m=e.willAdvance,e}},function(t,e,n){"use strict";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=(n(63),n(22)),o=(n(91),n(48),n(61),n(42),n(45),n(51),function(t,e){var n=arguments;if(null==e||!r.e.call(e,"css"))return i.createElement.apply(void 0,n);var o=n.length,a=new Array(o);a[0]=r.a,a[1]=Object(r.d)(t,e);for(var s=2;s<o;s++)a[s]=n[s];return i.createElement.apply(null,a)})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(13);function r(t,e,n){return(r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(i.a)(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var i=Symbol.for("FluidValue:config");function r(t){var e=o(t);return e?e.get():t}function o(t){if(t)return t[i]}var a=function(){var t,e;t=this,e=this,Object.defineProperty(t,i,{value:e,configurable:!0})}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var i=Symbol.for("FluidValue:config");function r(t){var e=o(t);return e?e.get():t}function o(t){if(t)return t[i]}var a=function(){var t,e;t=this,e=this,Object.defineProperty(t,i,{value:e,configurable:!0})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return B})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return x})),n.d(e,"h",(function(){return g}));var i=n(27),r=n(15),o=n(13),a=n(5),s=n(6),u=n(3),l=n(11),c=n(1),h=n(35),f=n(16),m=n(38),d=n(12),_=n(8),p=n(0),v=n(30),y=Symbol.for("Animated:node"),b=function(t){return t&&t[y]},g=function(t,e){return Object(c.a)(t,y,e)},x=function(t){return t&&t[y]&&t[y].getPayload()},S=function(){function t(){Object(u.a)(this,t),this.payload=void 0,g(this,this)}return Object(l.a)(t,[{key:"getPayload",value:function(){return this.payload||[]}}]),t}(),w=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this))._value=t,i.done=!0,i.elapsedTime=void 0,i.lastPosition=void 0,i.lastVelocity=void 0,i.v0=void 0,c.d.num(i._value)&&(i.lastPosition=i._value),i}return Object(l.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(t,e){return c.d.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value!==t&&(this._value=t,!0)}},{key:"reset",value:function(){var t=this.done;this.done=!1,c.d.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(t,e){return new n(t)}}]),n}(S),C=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,0))._value=void 0,r._string=null,r._toString=void 0,r._toString=Object(h.a)({output:[t,i]}),r}return Object(l.a)(n,[{key:"getValue",value:function(){var t=this._string;return null==t?this._string=this._toString(this._value):t}},{key:"setValue",value:function(t){if(c.d.num(t)){if(!Object(r.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t))return!1;this._string=null}else this._string=t,this._value=1;return!0}},{key:"reset",value:function(t){t&&(this._toString=Object(h.a)({output:[this.getValue(),t]})),this._value=0,Object(r.a)(Object(o.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(c.d.str(t)&&c.d.str(e))return new n(t,e);throw TypeError('Expected "from" and "to" to be strings')}}]),n}(w),A={current:null},B=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.a)(this,n),(t=e.call(this)).source=void 0,t.setValue(i),t}return Object(l.a)(n,[{key:"getValue",value:function(t){if(!this.source)return null;var e={};return Object(c.b)(this.source,(function(n,i){if((o=n)&&o[y]===o)e[i]=n.getValue(t);else{var r=Object(f.b)(n);r?e[i]=r.get():t||(e[i]=n)}var o})),e}},{key:"setValue",value:function(t){this.source=t,this.payload=this._makePayload(t)}},{key:"reset",value:function(){this.payload&&Object(c.b)(this.payload,(function(t){return t.reset()}))}},{key:"_makePayload",value:function(t){if(t){var e=new Set;return Object(c.b)(t,this._addToPayload,e),Array.from(e)}}},{key:"_addToPayload",value:function(t){var e=this;Object(f.b)(t)&&A.current&&A.current.dependencies.add(t);var n=x(t);n&&Object(c.b)(n,(function(t){return e.add(t)}))}}]),n}(S),k=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,a){var s,l;return Object(u.a)(this,n),(l=e.call(this,null)).source=void 0,Object(r.a)((s=Object(i.a)(l),Object(o.a)(n.prototype)),"setValue",s).call(s,l._makeAnimated(t,a)),l}return Object(l.a)(n,[{key:"getValue",value:function(){return this.source.map((function(t){return t.getValue()}))}},{key:"setValue",value:function(t){var e=this.getPayload();t&&t.length==e.length?Object(c.b)(e,(function(e,n){return e.setValue(t[n])})):(this.source=this._makeAnimated(t),this.payload=this._makePayload(this.source))}},{key:"_makeAnimated",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t?t.map((function(t,n){return(Object(c.e)(t)?C:w).create(t,e[n])})):[]}}],[{key:"create",value:function(t,e){return new n(t,e)}}]),n}(B),V=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,null)).update=t,i.dirty=!1,i}return Object(l.a)(n,[{key:"setValue",value:function(t,e){if(t){if(e&&(A.current=e,t.style)){var i=e.host.createAnimatedStyle;t=Object(d.a)(Object(d.a)({},t),{},{style:i(t.style)})}Object(r.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t),A.current=null}}},{key:"onParentChange",value:function(t){var e=this,n=t.type;this.dirty||"change"!==n||(this.dirty=!0,_.frameLoop.onFrame((function(){e.dirty=!1,e.update()})))}}]),n}(B),P=function(t,e){return Object(p.forwardRef)((function(n,i){var r=Object(p.useRef)(null),o=!c.d.fun(t)||t.prototype&&t.prototype.isReactComponent,a=Object(m.a)(),s=new V((function(){var t=r.current;o&&!t||!1===(!!t&&e.applyAnimatedValues(t,s.getValue(!0)))&&a()})),u=new Set;return s.setValue(n,{dependencies:u,host:e}),Object(v.a)((function(){return Object(c.b)(u,(function(t){return t.addChild(s)})),function(){return Object(c.b)(u,(function(t){return t.removeChild(s)}))}})),Object(p.createElement)(t,Object(d.a)({},e.getComponentProps(s.getValue()),{ref:o&&function(t){r.current=function(t,e){t&&(c.d.fun(t)?t(e):t.current=e);return e}(i,t)}}))}))};var M=Symbol.for("AnimatedComponent"),O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.applyAnimatedValues,i=void 0===n?function(){return!1}:n,r=e.createAnimatedStyle,o=void 0===r?function(t){return new B(t)}:r,a=e.getComponentProps,s=void 0===a?function(t){return t}:a,u={applyAnimatedValues:i,createAnimatedStyle:o,getComponentProps:s},l=function(t){var e=I(t)||"Anonymous";return(t=c.d.str(t)?P(t,u):t[M]||(t[M]=P(t,u))).displayName="Animated("+e+")",t};return Object(c.b)(t,(function(t,e){c.d.str(e)||(e=I(t)),l[e]=l(t)})),{animated:l}},I=function(t){return c.d.str(t)?t:t&&c.d.str(t.displayName)?t.displayName:c.d.fun(t)&&t.name||null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return B})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return x})),n.d(e,"h",(function(){return g}));var i=n(27),r=n(15),o=n(13),a=n(5),s=n(6),u=n(3),l=n(11),c=n(2),h=n(37),f=n(17),m=n(39),d=n(10),_=n(9),p=n(0),v=n(31),y=Symbol.for("Animated:node"),b=function(t){return t&&t[y]},g=function(t,e){return Object(c.a)(t,y,e)},x=function(t){return t&&t[y]&&t[y].getPayload()},S=function(){function t(){Object(u.a)(this,t),this.payload=void 0,g(this,this)}return Object(l.a)(t,[{key:"getPayload",value:function(){return this.payload||[]}}]),t}(),w=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this))._value=t,i.done=!0,i.elapsedTime=void 0,i.lastPosition=void 0,i.lastVelocity=void 0,i.v0=void 0,c.d.num(i._value)&&(i.lastPosition=i._value),i}return Object(l.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(t,e){return c.d.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value!==t&&(this._value=t,!0)}},{key:"reset",value:function(){var t=this.done;this.done=!1,c.d.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(t,e){return new n(t)}}]),n}(S),C=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,0))._value=void 0,r._string=null,r._toString=void 0,r._toString=Object(h.a)({output:[t,i]}),r}return Object(l.a)(n,[{key:"getValue",value:function(){var t=this._string;return null==t?this._string=this._toString(this._value):t}},{key:"setValue",value:function(t){if(c.d.num(t)){if(!Object(r.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t))return!1;this._string=null}else this._string=t,this._value=1;return!0}},{key:"reset",value:function(t){t&&(this._toString=Object(h.a)({output:[this.getValue(),t]})),this._value=0,Object(r.a)(Object(o.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(c.d.str(t)&&c.d.str(e))return new n(t,e);throw TypeError('Expected "from" and "to" to be strings')}}]),n}(w),A={current:null},B=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.a)(this,n),(t=e.call(this)).source=void 0,t.setValue(i),t}return Object(l.a)(n,[{key:"getValue",value:function(t){if(!this.source)return null;var e={};return Object(c.b)(this.source,(function(n,i){if((o=n)&&o[y]===o)e[i]=n.getValue(t);else{var r=Object(f.b)(n);r?e[i]=r.get():t||(e[i]=n)}var o})),e}},{key:"setValue",value:function(t){this.source=t,this.payload=this._makePayload(t)}},{key:"reset",value:function(){this.payload&&Object(c.b)(this.payload,(function(t){return t.reset()}))}},{key:"_makePayload",value:function(t){if(t){var e=new Set;return Object(c.b)(t,this._addToPayload,e),Array.from(e)}}},{key:"_addToPayload",value:function(t){var e=this;Object(f.b)(t)&&A.current&&A.current.dependencies.add(t);var n=x(t);n&&Object(c.b)(n,(function(t){return e.add(t)}))}}]),n}(S),k=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,a){var s,l;return Object(u.a)(this,n),(l=e.call(this,null)).source=void 0,Object(r.a)((s=Object(i.a)(l),Object(o.a)(n.prototype)),"setValue",s).call(s,l._makeAnimated(t,a)),l}return Object(l.a)(n,[{key:"getValue",value:function(){return this.source.map((function(t){return t.getValue()}))}},{key:"setValue",value:function(t){var e=this.getPayload();t&&t.length==e.length?Object(c.b)(e,(function(e,n){return e.setValue(t[n])})):(this.source=this._makeAnimated(t),this.payload=this._makePayload(this.source))}},{key:"_makeAnimated",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t?t.map((function(t,n){return(Object(c.e)(t)?C:w).create(t,e[n])})):[]}}],[{key:"create",value:function(t,e){return new n(t,e)}}]),n}(B),V=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,null)).update=t,i.dirty=!1,i}return Object(l.a)(n,[{key:"setValue",value:function(t,e){if(t){if(e&&(A.current=e,t.style)){var i=e.host.createAnimatedStyle;t=Object(d.a)(Object(d.a)({},t),{},{style:i(t.style)})}Object(r.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t),A.current=null}}},{key:"onParentChange",value:function(t){var e=this,n=t.type;this.dirty||"change"!==n||(this.dirty=!0,_.frameLoop.onFrame((function(){e.dirty=!1,e.update()})))}}]),n}(B),P=function(t,e){return Object(p.forwardRef)((function(n,i){var r=Object(p.useRef)(null),o=!c.d.fun(t)||t.prototype&&t.prototype.isReactComponent,a=Object(m.a)(),s=new V((function(){var t=r.current;o&&!t||!1===(!!t&&e.applyAnimatedValues(t,s.getValue(!0)))&&a()})),u=new Set;return s.setValue(n,{dependencies:u,host:e}),Object(v.a)((function(){return Object(c.b)(u,(function(t){return t.addChild(s)})),function(){return Object(c.b)(u,(function(t){return t.removeChild(s)}))}})),Object(p.createElement)(t,Object(d.a)({},e.getComponentProps(s.getValue()),{ref:o&&function(t){r.current=function(t,e){t&&(c.d.fun(t)?t(e):t.current=e);return e}(i,t)}}))}))};var M=Symbol.for("AnimatedComponent"),O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.applyAnimatedValues,i=void 0===n?function(){return!1}:n,r=e.createAnimatedStyle,o=void 0===r?function(t){return new B(t)}:r,a=e.getComponentProps,s=void 0===a?function(t){return t}:a,u={applyAnimatedValues:i,createAnimatedStyle:o,getComponentProps:s},l=function(t){var e=I(t)||"Anonymous";return(t=c.d.str(t)?P(t,u):t[M]||(t[M]=P(t,u))).displayName="Animated("+e+")",t};return Object(c.b)(t,(function(t,e){c.d.str(e)||(e=I(t)),l[e]=l(t)})),{animated:l}},I=function(t){return c.d.str(t)?t:t&&c.d.str(t.displayName)?t.displayName:c.d.fun(t)&&t.name||null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(49);var r=n(43);function o(t){return function(t){if(Array.isArray(t))return Object(i.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(43);function r(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(i.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return h}));var i=n(0),r=n(63),o=n(10),a=n(48),s=(n(62),n(42)),u=n(45),l=Object.prototype.hasOwnProperty,c=Object(i.createContext)("undefined"!==typeof HTMLElement?Object(r.a)({key:"css"}):null),h=(c.Provider,function(t){return Object(i.forwardRef)((function(e,n){var r=Object(i.useContext)(c);return t(e,r,n)}))}),f=Object(i.createContext)({}),m=Object(a.a)((function(t){return Object(a.a)((function(e){return function(t,e){return"function"===typeof e?e(t):Object(o.a)({},t,{},e)}(t,e)}))})),d=function(t){var e=Object(i.useContext)(f);return t.theme!==e&&(e=m(e)(t.theme)),Object(i.createElement)(f.Provider,{value:e},t.children)};var _="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(t,e){var n={};for(var i in e)l.call(e,i)&&(n[i]=e[i]);return n[_]=t,n},v=h((function(t,e,n){var r=t.css;"string"===typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var o=t[_],a=[r],c="";"string"===typeof t.className?c=Object(s.a)(e.registered,a,t.className):null!=t.className&&(c=t.className+" ");var h=Object(u.a)(a,void 0,"function"===typeof r||Array.isArray(r)?Object(i.useContext)(f):void 0);Object(s.b)(e,h,"string"===typeof o);c+=e.key+"-"+h.name;var m={};for(var d in t)l.call(t,d)&&"css"!==d&&d!==_&&(m[d]=t[d]);return m.ref=n,m.className=c,Object(i.createElement)(o,m)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function r(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,u,"next",t)}function u(t){i(a,r,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var i=n(8);n.d(e,"Globals",(function(){return i}));n(16)},function(t,e,n){"use strict";var i=n(9);n.d(e,"Globals",(function(){return i}));n(17)},function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return i}))},function(t,e,n){var i=n(101),r=n(104),o=n(58),a=n(106),s=n(107),u=n(111),l=n(112),c=n(113);!function(t){"use strict";function e(t){if(!t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw c(Error,n)}}function n(t,e){return void 0!==t?t:e}var h=1e37,f=1e-5,m=f*f,d=3.14159265359,_=2,p=8,v=.1,y=2,b=.008,g=2/180*d,x=2*b,S=8,w=32,C=1,A=.2,B=8/180*d,k=2,V=k*k,P=.5*d,M=P*P,O=.2,I=.75,j=-1,D=2147483647,T=.75,L=1,R=.25,E=.5,F=2,G=F*F,N=256,z=2.5,q=.5,U=.01,J=2/180*d;function W(t){return null}function X(t){}function H(t){}var Q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;u(this,t),this.major=0,this.minor=0,this.revision=0,this.major=e,this.minor=n,this.revision=i}return l(t,[{key:"toString",value:function(){return this.major+"."+this.minor+"."+this.revision}}]),t}(),$=new Q(2,3,2),Z="master",K="fbf51801d80fc389d43dc46524520e89043b6faf";function Y(t){return parseInt(t,10)}function tt(t){return Math.abs(parseInt(t,10))}function et(t,e){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i);return n}function nt(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=null;return e}function it(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Array(t),i=0;i<t;++i)n[i]=e;return n}var rt=d/180,ot=180/d,at=2*d,st=Math.abs;function ut(t,e){return t<e?t:e}function lt(t,e){return t>e?t:e}function ct(t,e,n){return t<e?e:t>n?n:t}function ht(t,e){var n=t[0];t[0]=e[0],e[0]=n}var ft=isFinite;function mt(t){return t*t}function dt(t){return 1/Math.sqrt(t)}var _t=Math.sqrt,pt=Math.pow;function vt(t){return t*rt}function yt(t){return t*ot}var bt=Math.cos,gt=Math.sin,xt=Math.acos,St=Math.asin,wt=Math.atan2;function Ct(t){return t|=t>>1&2147483647,t|=t>>2&1073741823,t|=t>>4&268435455,t|=t>>8&16777215,1+(t|=t>>16&65535)}function At(t){return t>0&&0===(t&t-1)}function Bt(){return 2*Math.random()-1}function kt(t,e){return(e-t)*Math.random()+t}var Vt=function(){function t(){u(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n[0]instanceof Float32Array){if(2!==n[0].length)throw new Error;this.data=n[0]}else{var r="number"===typeof n[0]?n[0]:0,o="number"===typeof n[1]?n[1]:0;this.data=new Float32Array([r,o])}}return l(t,[{key:"Clone",value:function(){return new t(this.x,this.y)}},{key:"SetZero",value:function(){return this.x=0,this.y=0,this}},{key:"Set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"Copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"SelfAdd",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"SelfAddXY",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"SelfSub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"SelfSubXY",value:function(t,e){return this.x-=t,this.y-=e,this}},{key:"SelfMul",value:function(t){return this.x*=t,this.y*=t,this}},{key:"SelfMulAdd",value:function(t,e){return this.x+=t*e.x,this.y+=t*e.y,this}},{key:"SelfMulSub",value:function(t,e){return this.x-=t*e.x,this.y-=t*e.y,this}},{key:"Dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"Cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"Length",value:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}},{key:"LengthSquared",value:function(){var t=this.x,e=this.y;return t*t+e*e}},{key:"Normalize",value:function(){var t=this.Length();if(t>=f){var e=1/t;this.x*=e,this.y*=e}return t}},{key:"SelfNormalize",value:function(){var t=this.Length();if(t>=f){var e=1/t;this.x*=e,this.y*=e}return this}},{key:"SelfRotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.x;return this.x=e*i-n*this.y,this.y=n*i+e*this.y,this}},{key:"SelfRotateCosSin",value:function(t,e){var n=this.x;return this.x=t*n-e*this.y,this.y=e*n+t*this.y,this}},{key:"IsValid",value:function(){return isFinite(this.x)&&isFinite(this.y)}},{key:"SelfCrossVS",value:function(t){var e=this.x;return this.x=t*this.y,this.y=-t*e,this}},{key:"SelfCrossSV",value:function(t){var e=this.x;return this.x=-t*this.y,this.y=t*e,this}},{key:"SelfMinV",value:function(t){return this.x=ut(this.x,t.x),this.y=ut(this.y,t.y),this}},{key:"SelfMaxV",value:function(t){return this.x=lt(this.x,t.x),this.y=lt(this.y,t.y),this}},{key:"SelfAbs",value:function(){return this.x=st(this.x),this.y=st(this.y),this}},{key:"SelfNeg",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"SelfSkew",value:function(){var t=this.x;return this.x=-this.y,this.y=t,this}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}}],[{key:"MakeArray",value:function(e){return et(e,(function(e){return new t}))}},{key:"AbsV",value:function(t,e){return e.x=st(t.x),e.y=st(t.y),e}},{key:"MinV",value:function(t,e,n){return n.x=ut(t.x,e.x),n.y=ut(t.y,e.y),n}},{key:"MaxV",value:function(t,e,n){return n.x=lt(t.x,e.x),n.y=lt(t.y,e.y),n}},{key:"ClampV",value:function(t,e,n,i){return i.x=ct(t.x,e.x,n.x),i.y=ct(t.y,e.y,n.y),i}},{key:"RotateV",value:function(t,e,n){var i=t.x,r=t.y,o=Math.cos(e),a=Math.sin(e);return n.x=o*i-a*r,n.y=a*i+o*r,n}},{key:"DotVV",value:function(t,e){return t.x*e.x+t.y*e.y}},{key:"CrossVV",value:function(t,e){return t.x*e.y-t.y*e.x}},{key:"CrossVS",value:function(t,e,n){var i=t.x;return n.x=e*t.y,n.y=-e*i,n}},{key:"CrossVOne",value:function(t,e){var n=t.x;return e.x=t.y,e.y=-n,e}},{key:"CrossSV",value:function(t,e,n){var i=e.x;return n.x=-t*e.y,n.y=t*i,n}},{key:"CrossOneV",value:function(t,e){var n=t.x;return e.x=-t.y,e.y=n,e}},{key:"AddVV",value:function(t,e,n){return n.x=t.x+e.x,n.y=t.y+e.y,n}},{key:"SubVV",value:function(t,e,n){return n.x=t.x-e.x,n.y=t.y-e.y,n}},{key:"MulSV",value:function(t,e,n){return n.x=e.x*t,n.y=e.y*t,n}},{key:"MulVS",value:function(t,e,n){return n.x=t.x*e,n.y=t.y*e,n}},{key:"AddVMulSV",value:function(t,e,n,i){return i.x=t.x+e*n.x,i.y=t.y+e*n.y,i}},{key:"SubVMulSV",value:function(t,e,n,i){return i.x=t.x-e*n.x,i.y=t.y-e*n.y,i}},{key:"AddVCrossSV",value:function(t,e,n,i){var r=n.x;return i.x=t.x-e*n.y,i.y=t.y+e*r,i}},{key:"MidVV",value:function(t,e,n){return n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y),n}},{key:"ExtVV",value:function(t,e,n){return n.x=.5*(e.x-t.x),n.y=.5*(e.y-t.y),n}},{key:"IsEqualToV",value:function(t,e){return t.x===e.x&&t.y===e.y}},{key:"DistanceVV",value:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}},{key:"DistanceSquaredVV",value:function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}},{key:"NegV",value:function(t,e){return e.x=-t.x,e.y=-t.y,e}}]),t}();Vt.ZERO=new Vt(0,0),Vt.UNITX=new Vt(1,0),Vt.UNITY=new Vt(0,1),Vt.s_t0=new Vt,Vt.s_t1=new Vt,Vt.s_t2=new Vt,Vt.s_t3=new Vt;var Pt=new Vt(0,0),Mt=function(){function t(){u(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n[0]instanceof Float32Array){if(3!==n[0].length)throw new Error;this.data=n[0]}else{var r="number"===typeof n[0]?n[0]:0,o="number"===typeof n[1]?n[1]:0,a="number"===typeof n[2]?n[2]:0;this.data=new Float32Array([r,o,a])}}return l(t,[{key:"Clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"SetZero",value:function(){return this.x=0,this.y=0,this.z=0,this}},{key:"SetXYZ",value:function(t,e,n){return this.x=t,this.y=e,this.z=n,this}},{key:"Copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"SelfNeg",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"SelfAdd",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"SelfAddXYZ",value:function(t,e,n){return this.x+=t,this.y+=e,this.z+=n,this}},{key:"SelfSub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"SelfSubXYZ",value:function(t,e,n){return this.x-=t,this.y-=e,this.z-=n,this}},{key:"SelfMul",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"x",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"y",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"z",get:function(){return this.data[2]},set:function(t){this.data[2]=t}}],[{key:"DotV3V3",value:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}},{key:"CrossV3V3",value:function(t,e,n){var i=t.x,r=t.y,o=t.z,a=e.x,s=e.y,u=e.z;return n.x=r*u-o*s,n.y=o*a-i*u,n.z=i*s-r*a,n}}]),t}();Mt.ZERO=new Mt(0,0,0),Mt.s_t0=new Mt;var Ot=function(){function t(){u(this,t),this.data=new Float32Array([1,0,0,1]),this.ex=new Vt(this.data.subarray(0,2)),this.ey=new Vt(this.data.subarray(2,4))}return l(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"SetSSSS",value:function(t,e,n,i){return this.ex.Set(t,n),this.ey.Set(e,i),this}},{key:"SetVV",value:function(t,e){return this.ex.Copy(t),this.ey.Copy(e),this}},{key:"SetAngle",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.ex.Set(e,n),this.ey.Set(-n,e),this}},{key:"Copy",value:function(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this}},{key:"SetIdentity",value:function(){return this.ex.Set(1,0),this.ey.Set(0,1),this}},{key:"SetZero",value:function(){return this.ex.SetZero(),this.ey.SetZero(),this}},{key:"GetAngle",value:function(){return Math.atan2(this.ex.y,this.ex.x)}},{key:"GetInverse",value:function(t){var e=this.ex.x,n=this.ey.x,i=this.ex.y,r=this.ey.y,o=e*r-n*i;return 0!==o&&(o=1/o),t.ex.x=o*r,t.ey.x=-o*n,t.ex.y=-o*i,t.ey.y=o*e,t}},{key:"Solve",value:function(t,e,n){var i=this.ex.x,r=this.ey.x,o=this.ex.y,a=this.ey.y,s=i*a-r*o;return 0!==s&&(s=1/s),n.x=s*(a*t-r*e),n.y=s*(i*e-o*t),n}},{key:"SelfAbs",value:function(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this}},{key:"SelfInv",value:function(){return this.GetInverse(this),this}},{key:"SelfAddM",value:function(t){return this.ex.SelfAdd(t.ex),this.ey.SelfAdd(t.ey),this}},{key:"SelfSubM",value:function(t){return this.ex.SelfSub(t.ex),this.ey.SelfSub(t.ey),this}}],[{key:"FromVV",value:function(e,n){return(new t).SetVV(e,n)}},{key:"FromSSSS",value:function(e,n,i,r){return(new t).SetSSSS(e,n,i,r)}},{key:"FromAngle",value:function(e){return(new t).SetAngle(e)}},{key:"AbsM",value:function(t,e){var n=t.ex,i=t.ey;return e.ex.x=st(n.x),e.ex.y=st(n.y),e.ey.x=st(i.x),e.ey.y=st(i.y),e}},{key:"MulMV",value:function(t,e,n){var i=t.ex,r=t.ey,o=e.x,a=e.y;return n.x=i.x*o+r.x*a,n.y=i.y*o+r.y*a,n}},{key:"MulTMV",value:function(t,e,n){var i=t.ex,r=t.ey,o=e.x,a=e.y;return n.x=i.x*o+i.y*a,n.y=r.x*o+r.y*a,n}},{key:"AddMM",value:function(t,e,n){var i=t.ex,r=t.ey,o=e.ex,a=e.ey;return n.ex.x=i.x+o.x,n.ex.y=i.y+o.y,n.ey.x=r.x+a.x,n.ey.y=r.y+a.y,n}},{key:"MulMM",value:function(t,e,n){var i=t.ex.x,r=t.ex.y,o=t.ey.x,a=t.ey.y,s=e.ex.x,u=e.ex.y,l=e.ey.x,c=e.ey.y;return n.ex.x=i*s+o*u,n.ex.y=r*s+a*u,n.ey.x=i*l+o*c,n.ey.y=r*l+a*c,n}},{key:"MulTMM",value:function(t,e,n){var i=t.ex.x,r=t.ex.y,o=t.ey.x,a=t.ey.y,s=e.ex.x,u=e.ex.y,l=e.ey.x,c=e.ey.y;return n.ex.x=i*s+r*u,n.ex.y=o*s+a*u,n.ey.x=i*l+r*c,n.ey.y=o*l+a*c,n}}]),t}();Ot.IDENTITY=new Ot;var It=function(){function t(){u(this,t),this.data=new Float32Array([1,0,0,0,1,0,0,0,1]),this.ex=new Mt(this.data.subarray(0,3)),this.ey=new Mt(this.data.subarray(3,6)),this.ez=new Mt(this.data.subarray(6,9))}return l(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"SetVVV",value:function(t,e,n){return this.ex.Copy(t),this.ey.Copy(e),this.ez.Copy(n),this}},{key:"Copy",value:function(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this.ez.Copy(t.ez),this}},{key:"SetIdentity",value:function(){return this.ex.SetXYZ(1,0,0),this.ey.SetXYZ(0,1,0),this.ez.SetXYZ(0,0,1),this}},{key:"SetZero",value:function(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}},{key:"SelfAddM",value:function(t){return this.ex.SelfAdd(t.ex),this.ey.SelfAdd(t.ey),this.ez.SelfAdd(t.ez),this}},{key:"Solve33",value:function(t,e,n,i){var r=this.ex.x,o=this.ex.y,a=this.ex.z,s=this.ey.x,u=this.ey.y,l=this.ey.z,c=this.ez.x,h=this.ez.y,f=this.ez.z,m=r*(u*f-l*h)+o*(l*c-s*f)+a*(s*h-u*c);return 0!==m&&(m=1/m),i.x=m*(t*(u*f-l*h)+e*(l*c-s*f)+n*(s*h-u*c)),i.y=m*(r*(e*f-n*h)+o*(n*c-t*f)+a*(t*h-e*c)),i.z=m*(r*(u*n-l*e)+o*(l*t-s*n)+a*(s*e-u*t)),i}},{key:"Solve22",value:function(t,e,n){var i=this.ex.x,r=this.ey.x,o=this.ex.y,a=this.ey.y,s=i*a-r*o;return 0!==s&&(s=1/s),n.x=s*(a*t-r*e),n.y=s*(i*e-o*t),n}},{key:"GetInverse22",value:function(t){var e=this.ex.x,n=this.ey.x,i=this.ex.y,r=this.ey.y,o=e*r-n*i;0!==o&&(o=1/o),t.ex.x=o*r,t.ey.x=-o*n,t.ex.z=0,t.ex.y=-o*i,t.ey.y=o*e,t.ey.z=0,t.ez.x=0,t.ez.y=0,t.ez.z=0}},{key:"GetSymInverse33",value:function(t){var e=Mt.DotV3V3(this.ex,Mt.CrossV3V3(this.ey,this.ez,Mt.s_t0));0!==e&&(e=1/e);var n=this.ex.x,i=this.ey.x,r=this.ez.x,o=this.ey.y,a=this.ez.y,s=this.ez.z;t.ex.x=e*(o*s-a*a),t.ex.y=e*(r*a-i*s),t.ex.z=e*(i*a-r*o),t.ey.x=t.ex.y,t.ey.y=e*(n*s-r*r),t.ey.z=e*(r*i-n*a),t.ez.x=t.ex.z,t.ez.y=t.ey.z,t.ez.z=e*(n*o-i*i)}}],[{key:"MulM33V3",value:function(t,e,n){var i=e.x,r=e.y,o=e.z;return n.x=t.ex.x*i+t.ey.x*r+t.ez.x*o,n.y=t.ex.y*i+t.ey.y*r+t.ez.y*o,n.z=t.ex.z*i+t.ey.z*r+t.ez.z*o,n}},{key:"MulM33XYZ",value:function(t,e,n,i,r){return r.x=t.ex.x*e+t.ey.x*n+t.ez.x*i,r.y=t.ex.y*e+t.ey.y*n+t.ez.y*i,r.z=t.ex.z*e+t.ey.z*n+t.ez.z*i,r}},{key:"MulM33V2",value:function(t,e,n){var i=e.x,r=e.y;return n.x=t.ex.x*i+t.ey.x*r,n.y=t.ex.y*i+t.ey.y*r,n}},{key:"MulM33XY",value:function(t,e,n,i){return i.x=t.ex.x*e+t.ey.x*n,i.y=t.ex.y*e+t.ey.y*n,i}}]),t}();It.IDENTITY=new It;var jt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u(this,t),this.s=0,this.c=1,e&&(this.s=Math.sin(e),this.c=Math.cos(e))}return l(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.s=t.s,this.c=t.c,this}},{key:"SetAngle",value:function(t){return this.s=Math.sin(t),this.c=Math.cos(t),this}},{key:"SetIdentity",value:function(){return this.s=0,this.c=1,this}},{key:"GetAngle",value:function(){return Math.atan2(this.s,this.c)}},{key:"GetXAxis",value:function(t){return t.x=this.c,t.y=this.s,t}},{key:"GetYAxis",value:function(t){return t.x=-this.s,t.y=this.c,t}}],[{key:"MulRR",value:function(t,e,n){var i=t.c,r=t.s,o=e.c,a=e.s;return n.s=r*o+i*a,n.c=i*o-r*a,n}},{key:"MulTRR",value:function(t,e,n){var i=t.c,r=t.s,o=e.c,a=e.s;return n.s=i*a-r*o,n.c=i*o+r*a,n}},{key:"MulRV",value:function(t,e,n){var i=t.c,r=t.s,o=e.x,a=e.y;return n.x=i*o-r*a,n.y=r*o+i*a,n}},{key:"MulTRV",value:function(t,e,n){var i=t.c,r=t.s,o=e.x,a=e.y;return n.x=i*o+r*a,n.y=-r*o+i*a,n}}]),t}();jt.IDENTITY=new jt;var Dt=function(){function t(){u(this,t),this.p=new Vt,this.q=new jt}return l(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.p.Copy(t.p),this.q.Copy(t.q),this}},{key:"SetIdentity",value:function(){return this.p.SetZero(),this.q.SetIdentity(),this}},{key:"SetPositionRotation",value:function(t,e){return this.p.Copy(t),this.q.Copy(e),this}},{key:"SetPositionAngle",value:function(t,e){return this.p.Copy(t),this.q.SetAngle(e),this}},{key:"SetPosition",value:function(t){return this.p.Copy(t),this}},{key:"SetPositionXY",value:function(t,e){return this.p.Set(t,e),this}},{key:"SetRotation",value:function(t){return this.q.Copy(t),this}},{key:"SetRotationAngle",value:function(t){return this.q.SetAngle(t),this}},{key:"GetPosition",value:function(){return this.p}},{key:"GetRotation",value:function(){return this.q}},{key:"GetRotationAngle",value:function(){return this.q.GetAngle()}},{key:"GetAngle",value:function(){return this.q.GetAngle()}}],[{key:"MulXV",value:function(t,e,n){var i=t.q.c,r=t.q.s,o=e.x,a=e.y;return n.x=i*o-r*a+t.p.x,n.y=r*o+i*a+t.p.y,n}},{key:"MulTXV",value:function(t,e,n){var i=t.q.c,r=t.q.s,o=e.x-t.p.x,a=e.y-t.p.y;return n.x=i*o+r*a,n.y=-r*o+i*a,n}},{key:"MulXX",value:function(t,e,n){return jt.MulRR(t.q,e.q,n.q),Vt.AddVV(jt.MulRV(t.q,e.p,n.p),t.p,n.p),n}},{key:"MulTXX",value:function(t,e,n){return jt.MulTRR(t.q,e.q,n.q),jt.MulTRV(t.q,Vt.SubVV(e.p,t.p,n.p),n.p),n}}]),t}();Dt.IDENTITY=new Dt;var Tt,Lt=function(){function t(){u(this,t),this.localCenter=new Vt,this.c0=new Vt,this.c=new Vt,this.a0=0,this.a=0,this.alpha0=0}return l(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.localCenter.Copy(t.localCenter),this.c0.Copy(t.c0),this.c.Copy(t.c),this.a0=t.a0,this.a=t.a,this.alpha0=t.alpha0,this}},{key:"GetTransform",value:function(t,e){var n=1-e;t.p.x=n*this.c0.x+e*this.c.x,t.p.y=n*this.c0.y+e*this.c.y;var i=n*this.a0+e*this.a;return t.q.SetAngle(i),t.p.SelfSub(jt.MulRV(t.q,this.localCenter,Vt.s_t0)),t}},{key:"Advance",value:function(t){var e=(t-this.alpha0)/(1-this.alpha0),n=1-e;this.c0.x=n*this.c0.x+e*this.c.x,this.c0.y=n*this.c0.y+e*this.c.y,this.a0=n*this.a0+e*this.a,this.alpha0=t}},{key:"Normalize",value:function(){var t=at*Math.floor(this.a0/at);this.a0-=t,this.a-=t}}]),t}(),Rt=function(){function t(){u(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n[0]instanceof Float32Array){if(4!==n[0].length)throw new Error;this.data=n[0]}else{var r="number"===typeof n[0]?n[0]:.5,o="number"===typeof n[1]?n[1]:.5,a="number"===typeof n[2]?n[2]:.5,s="number"===typeof n[3]?n[3]:1;this.data=new Float32Array([r,o,a,s])}}return l(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}},{key:"IsEqual",value:function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}},{key:"IsZero",value:function(){return 0===this.r&&0===this.g&&0===this.b&&0===this.a}},{key:"Set",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.a;this.SetRGBA(t,e,n,i)}},{key:"SetByteRGB",value:function(t,e,n){return this.r=t/255,this.g=e/255,this.b=n/255,this}},{key:"SetByteRGBA",value:function(t,e,n,i){return this.r=t/255,this.g=e/255,this.b=n/255,this.a=i/255,this}},{key:"SetRGB",value:function(t,e,n){return this.r=t,this.g=e,this.b=n,this}},{key:"SetRGBA",value:function(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this}},{key:"SelfAdd",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this}},{key:"Add",value:function(t,e){return e.r=this.r+t.r,e.g=this.g+t.g,e.b=this.b+t.b,e.a=this.a+t.a,e}},{key:"SelfSub",value:function(t){return this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a,this}},{key:"Sub",value:function(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,e.a=this.a-t.a,e}},{key:"SelfMul",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this.a*=t,this}},{key:"Mul",value:function(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,e.a=this.a*t,e}},{key:"Mix",value:function(e,n){t.MixColors(this,e,n)}},{key:"MakeStyleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.a;return t.MakeStyleString(this.r,this.g,this.b,e)}},{key:"r",get:function(){return this.data[0]},set:function(t){this.data[0]=t}},{key:"g",get:function(){return this.data[1]},set:function(t){this.data[1]=t}},{key:"b",get:function(){return this.data[2]},set:function(t){this.data[2]=t}},{key:"a",get:function(){return this.data[3]},set:function(t){this.data[3]=t}}],[{key:"MixColors",value:function(t,e,n){var i=n*(e.r-t.r),r=n*(e.g-t.g),o=n*(e.b-t.b),a=n*(e.a-t.a);t.r+=i,t.g+=r,t.b+=o,t.a+=a,e.r-=i,e.g-=r,e.b-=o,e.a-=a}},{key:"MakeStyleString",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return t*=255,e*=255,n*=255,i<1?"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(i,")"):"rgb(".concat(t,",").concat(e,",").concat(n,")")}}]),t}();Rt.ZERO=new Rt(0,0,0,0),Rt.RED=new Rt(1,0,0),Rt.GREEN=new Rt(0,1,0),Rt.BLUE=new Rt(0,0,1),(Tt=t.b2DrawFlags||(t.b2DrawFlags={}))[Tt.e_none=0]="e_none",Tt[Tt.e_shapeBit=1]="e_shapeBit",Tt[Tt.e_jointBit=2]="e_jointBit",Tt[Tt.e_aabbBit=4]="e_aabbBit",Tt[Tt.e_pairBit=8]="e_pairBit",Tt[Tt.e_centerOfMassBit=16]="e_centerOfMassBit",Tt[Tt.e_particleBit=32]="e_particleBit",Tt[Tt.e_controllerBit=64]="e_controllerBit",Tt[Tt.e_all=63]="e_all";var Et=function(){function t(){u(this,t),this.m_drawFlags=0}return l(t,[{key:"SetFlags",value:function(t){this.m_drawFlags=t}},{key:"GetFlags",value:function(){return this.m_drawFlags}},{key:"AppendFlags",value:function(t){this.m_drawFlags|=t}},{key:"ClearFlags",value:function(t){this.m_drawFlags&=~t}}]),t}(),Ft=function(){function t(){u(this,t),this.m_start=Date.now()}return l(t,[{key:"Reset",value:function(){return this.m_start=Date.now(),this}},{key:"GetMilliseconds",value:function(){return Date.now()-this.m_start}}]),t}(),Gt=function(){function t(){u(this,t),this.m_count=0,this.m_min_count=0,this.m_max_count=0}return l(t,[{key:"GetCount",value:function(){return this.m_count}},{key:"GetMinCount",value:function(){return this.m_min_count}},{key:"GetMaxCount",value:function(){return this.m_max_count}},{key:"ResetCount",value:function(){var t=this.m_count;return this.m_count=0,t}},{key:"ResetMinCount",value:function(){this.m_min_count=0}},{key:"ResetMaxCount",value:function(){this.m_max_count=0}},{key:"Increment",value:function(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)}},{key:"Decrement",value:function(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)}}]),t}(),Nt=function(){function t(e){u(this,t),this.m_stack=[],this.m_count=0,this.m_stack=et(e,(function(t){return null})),this.m_count=0}return l(t,[{key:"Reset",value:function(){return this.m_count=0,this}},{key:"Push",value:function(t){this.m_stack[this.m_count]=t,this.m_count++}},{key:"Pop",value:function(){this.m_count--;var t=this.m_stack[this.m_count];if(this.m_stack[this.m_count]=null,null===t)throw new Error;return t}},{key:"GetCount",value:function(){return this.m_count}}]),t}(),zt=function t(){u(this,t)},qt=function t(){u(this,t)},Ut=function(){function t(){u(this,t),this.m_buffer=Vt.MakeArray(2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0}return l(t,[{key:"Copy",value:function(t){return t.m_vertices===t.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0].Copy(t.m_buffer[0]),this.m_buffer[1].Copy(t.m_buffer[1])):this.m_vertices=t.m_vertices,this.m_count=t.m_count,this.m_radius=t.m_radius,this}},{key:"Reset",value:function(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}},{key:"SetShape",value:function(t,e){t.SetupDistanceProxy(this,e)}},{key:"SetVerticesRadius",value:function(t,e,n){this.m_vertices=t,this.m_count=e,this.m_radius=n}},{key:"GetSupport",value:function(t){for(var e=0,n=Vt.DotVV(this.m_vertices[0],t),i=1;i<this.m_count;++i){var r=Vt.DotVV(this.m_vertices[i],t);r>n&&(e=i,n=r)}return e}},{key:"GetSupportVertex",value:function(t){for(var e=0,n=Vt.DotVV(this.m_vertices[0],t),i=1;i<this.m_count;++i){var r=Vt.DotVV(this.m_vertices[i],t);r>n&&(e=i,n=r)}return this.m_vertices[e]}},{key:"GetVertexCount",value:function(){return this.m_count}},{key:"GetVertex",value:function(t){return this.m_vertices[t]}}]),t}(),Jt=function(){function t(){u(this,t),this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0]}return l(t,[{key:"Reset",value:function(){return this.metric=0,this.count=0,this}}]),t}(),Wt=function(){function t(){u(this,t),this.proxyA=new Ut,this.proxyB=new Ut,this.transformA=new Dt,this.transformB=new Dt,this.useRadii=!1}return l(t,[{key:"Reset",value:function(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}}]),t}(),Xt=function(){function t(){u(this,t),this.pointA=new Vt,this.pointB=new Vt,this.distance=0,this.iterations=0}return l(t,[{key:"Reset",value:function(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}}]),t}(),Ht=function t(){u(this,t),this.proxyA=new Ut,this.proxyB=new Ut,this.transformA=new Dt,this.transformB=new Dt,this.translationB=new Vt},Qt=function t(){u(this,t),this.point=new Vt,this.normal=new Vt,this.lambda=0,this.iterations=0};function $t(){t.b2_gjkCalls=0,t.b2_gjkIters=0,t.b2_gjkMaxIters=0}t.b2_gjkCalls=0,t.b2_gjkIters=0,t.b2_gjkMaxIters=0;var Zt=function(){function t(){u(this,t),this.wA=new Vt,this.wB=new Vt,this.w=new Vt,this.a=0,this.indexA=0,this.indexB=0}return l(t,[{key:"Copy",value:function(t){return this.wA.Copy(t.wA),this.wB.Copy(t.wB),this.w.Copy(t.w),this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB,this}}]),t}(),Kt=function(){function t(){u(this,t),this.m_v1=new Zt,this.m_v2=new Zt,this.m_v3=new Zt,this.m_vertices=[],this.m_count=0,this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3}return l(t,[{key:"ReadCache",value:function(t,e,n,i,r){this.m_count=t.count;for(var o=this.m_vertices,a=0;a<this.m_count;++a){var s=o[a];s.indexA=t.indexA[a],s.indexB=t.indexB[a];var u=e.GetVertex(s.indexA),l=i.GetVertex(s.indexB);Dt.MulXV(n,u,s.wA),Dt.MulXV(r,l,s.wB),Vt.SubVV(s.wB,s.wA,s.w),s.a=0}if(this.m_count>1){var c=t.metric,h=this.GetMetric();(h<.5*c||2*c<h||h<f)&&(this.m_count=0)}if(0===this.m_count){var m=o[0];m.indexA=0,m.indexB=0;var d=e.GetVertex(0),_=i.GetVertex(0);Dt.MulXV(n,d,m.wA),Dt.MulXV(r,_,m.wB),Vt.SubVV(m.wB,m.wA,m.w),m.a=1,this.m_count=1}}},{key:"WriteCache",value:function(t){t.metric=this.GetMetric(),t.count=this.m_count;for(var e=this.m_vertices,n=0;n<this.m_count;++n)t.indexA[n]=e[n].indexA,t.indexB[n]=e[n].indexB}},{key:"GetSearchDirection",value:function(t){switch(this.m_count){case 1:return Vt.NegV(this.m_v1.w,t);case 2:var e=Vt.SubVV(this.m_v2.w,this.m_v1.w,t);return Vt.CrossVV(e,Vt.NegV(this.m_v1.w,Vt.s_t0))>0?Vt.CrossOneV(e,t):Vt.CrossVOne(e,t);default:return t.SetZero()}}},{key:"GetClosestPoint",value:function(t){switch(this.m_count){case 0:return t.SetZero();case 1:return t.Copy(this.m_v1.w);case 2:return t.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:default:return t.SetZero()}}},{key:"GetWitnessPoints",value:function(t,e){switch(this.m_count){case 0:break;case 1:t.Copy(this.m_v1.wA),e.Copy(this.m_v1.wB);break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y}}},{key:"GetMetric",value:function(){switch(this.m_count){case 0:case 1:return 0;case 2:return Vt.DistanceVV(this.m_v1.w,this.m_v2.w);case 3:return Vt.CrossVV(Vt.SubVV(this.m_v2.w,this.m_v1.w,Vt.s_t0),Vt.SubVV(this.m_v3.w,this.m_v1.w,Vt.s_t1));default:return 0}}},{key:"Solve2",value:function(){var e=this.m_v1.w,n=this.m_v2.w,i=Vt.SubVV(n,e,t.s_e12),r=-Vt.DotVV(e,i);if(r<=0)return this.m_v1.a=1,void(this.m_count=1);var o=Vt.DotVV(n,i);if(o<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);var a=1/(o+r);this.m_v1.a=o*a,this.m_v2.a=r*a,this.m_count=2}},{key:"Solve3",value:function(){var e=this.m_v1.w,n=this.m_v2.w,i=this.m_v3.w,r=Vt.SubVV(n,e,t.s_e12),o=Vt.DotVV(e,r),a=Vt.DotVV(n,r),s=-o,u=Vt.SubVV(i,e,t.s_e13),l=Vt.DotVV(e,u),c=Vt.DotVV(i,u),h=-l,f=Vt.SubVV(i,n,t.s_e23),m=Vt.DotVV(n,f),d=Vt.DotVV(i,f),_=-m,p=Vt.CrossVV(r,u),v=p*Vt.CrossVV(n,i),y=p*Vt.CrossVV(i,e),b=p*Vt.CrossVV(e,n);if(s<=0&&h<=0)return this.m_v1.a=1,void(this.m_count=1);if(a>0&&s>0&&b<=0){var g=1/(a+s);return this.m_v1.a=a*g,this.m_v2.a=s*g,void(this.m_count=2)}if(c>0&&h>0&&y<=0){var x=1/(c+h);return this.m_v1.a=c*x,this.m_v3.a=h*x,this.m_count=2,void this.m_v2.Copy(this.m_v3)}if(a<=0&&_<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);if(c<=0&&d<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v3);if(d>0&&_>0&&v<=0){var S=1/(d+_);return this.m_v2.a=d*S,this.m_v3.a=_*S,this.m_count=2,void this.m_v1.Copy(this.m_v3)}var w=1/(v+y+b);this.m_v1.a=v*w,this.m_v2.a=y*w,this.m_v3.a=b*w,this.m_count=3}}]),t}();Kt.s_e12=new Vt,Kt.s_e13=new Vt,Kt.s_e23=new Vt;var Yt=new Kt,te=[0,0,0],ee=[0,0,0],ne=new Vt,ie=new Vt,re=new Vt,oe=new Vt,ae=new Vt;function se(e,n,i){++t.b2_gjkCalls;var r=i.proxyA,o=i.proxyB,a=i.transformA,s=i.transformB,u=Yt;u.ReadCache(n,r,a,o,s);for(var l=u.m_vertices,c=20,h=te,d=ee,_=0,p=0;p<c;){_=u.m_count;for(var v=0;v<_;++v)h[v]=l[v].indexA,d[v]=l[v].indexB;switch(u.m_count){case 1:break;case 2:u.Solve2();break;case 3:u.Solve3()}if(3===u.m_count)break;var y=u.GetSearchDirection(ie);if(y.LengthSquared()<m)break;var b=l[u.m_count];b.indexA=r.GetSupport(jt.MulTRV(a.q,Vt.NegV(y,Vt.s_t0),oe)),Dt.MulXV(a,r.GetVertex(b.indexA),b.wA),b.indexB=o.GetSupport(jt.MulTRV(s.q,y,ae)),Dt.MulXV(s,o.GetVertex(b.indexB),b.wB),Vt.SubVV(b.wB,b.wA,b.w),++p,++t.b2_gjkIters;for(var g=!1,x=0;x<_;++x)if(b.indexA===h[x]&&b.indexB===d[x]){g=!0;break}if(g)break;++u.m_count}if(t.b2_gjkMaxIters=lt(t.b2_gjkMaxIters,p),u.GetWitnessPoints(e.pointA,e.pointB),e.distance=Vt.DistanceVV(e.pointA,e.pointB),e.iterations=p,u.WriteCache(n),i.useRadii){var S=r.m_radius,w=o.m_radius;if(e.distance>S+w&&e.distance>f){e.distance-=S+w;var C=Vt.SubVV(e.pointB,e.pointA,re);C.Normalize(),e.pointA.SelfMulAdd(S,C),e.pointB.SelfMulSub(w,C)}else{var A=Vt.MidVV(e.pointA,e.pointB,ne);e.pointA.Copy(A),e.pointB.Copy(A),e.distance=0}}}var ue,le=new Vt,ce=new Kt,he=new Vt,fe=new Vt,me=new Vt,de=new Vt,_e=new Vt,pe=new Vt;function ve(t,e){t.iterations=0,t.lambda=1,t.normal.SetZero(),t.point.SetZero();var n=e.proxyA,i=e.proxyB,r=lt(n.m_radius,x)+lt(i.m_radius,x),o=e.transformA,a=e.transformB,s=e.translationB,u=le.Set(0,0),l=0,c=ce;c.m_count=0;for(var h=c.m_vertices,f=n.GetSupport(jt.MulTRV(o.q,Vt.NegV(s,Vt.s_t1),Vt.s_t0)),m=Dt.MulXV(o,n.GetVertex(f),he),d=i.GetSupport(jt.MulTRV(a.q,s,Vt.s_t0)),_=Dt.MulXV(a,i.GetVertex(d),fe),p=Vt.SubVV(m,_,me),v=lt(x,r-x),y=.5*b,g=20,S=0;S<g&&st(p.Length()-v)>y;){t.iterations+=1,f=n.GetSupport(jt.MulTRV(o.q,Vt.NegV(p,Vt.s_t1),Vt.s_t0)),m=Dt.MulXV(o,n.GetVertex(f),he),d=i.GetSupport(jt.MulTRV(a.q,p,Vt.s_t0)),_=Dt.MulXV(a,i.GetVertex(d),fe);var w=Vt.SubVV(m,_,de);p.Normalize();var C=Vt.DotVV(p,w),A=Vt.DotVV(p,s);if(C-v>l*A){if(A<=0)return!1;if((l=(C-v)/A)>1)return!1;u.Copy(p).SelfNeg(),c.m_count=0}var B=h[c.m_count];switch(B.indexA=d,B.wA.Copy(_).SelfMulAdd(l,s),B.indexB=f,B.wB.Copy(m),B.w.Copy(B.wB).SelfSub(B.wA),B.a=1,c.m_count+=1,c.m_count){case 1:break;case 2:c.Solve2();break;case 3:c.Solve3()}if(3===c.m_count)return!1;c.GetClosestPoint(p),++S}var k=_e,V=pe;return c.GetWitnessPoints(k,V),p.LengthSquared()>0&&(u.Copy(p).SelfNeg(),u.Normalize()),t.normal.Copy(u),t.lambda=l,t.iterations=S,!0}(ue=t.b2ContactFeatureType||(t.b2ContactFeatureType={}))[ue.e_vertex=0]="e_vertex",ue[ue.e_face=1]="e_face";var ye,be=function(){function t(){u(this,t),this._key=0,this._key_invalid=!1,this._indexA=0,this._indexB=0,this._typeA=0,this._typeB=0}return l(t,[{key:"key",get:function(){return this._key_invalid&&(this._key_invalid=!1,this._key=this._indexA|this._indexB<<8|this._typeA<<16|this._typeB<<24),this._key},set:function(t){this._key=t,this._key_invalid=!1,this._indexA=255&this._key,this._indexB=this._key>>8&255,this._typeA=this._key>>16&255,this._typeB=this._key>>24&255}},{key:"indexA",get:function(){return this._indexA},set:function(t){this._indexA=t,this._key_invalid=!0}},{key:"indexB",get:function(){return this._indexB},set:function(t){this._indexB=t,this._key_invalid=!0}},{key:"typeA",get:function(){return this._typeA},set:function(t){this._typeA=t,this._key_invalid=!0}},{key:"typeB",get:function(){return this._typeB},set:function(t){this._typeB=t,this._key_invalid=!0}}]),t}(),ge=function(){function t(){u(this,t),this.cf=new be}return l(t,[{key:"Copy",value:function(t){return this.key=t.key,this}},{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"key",get:function(){return this.cf.key},set:function(t){this.cf.key=t}}]),t}(),xe=function(){function t(){u(this,t),this.localPoint=new Vt,this.normalImpulse=0,this.tangentImpulse=0,this.id=new ge}return l(t,[{key:"Reset",value:function(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}},{key:"Copy",value:function(t){return this.localPoint.Copy(t.localPoint),this.normalImpulse=t.normalImpulse,this.tangentImpulse=t.tangentImpulse,this.id.Copy(t.id),this}}],[{key:"MakeArray",value:function(e){return et(e,(function(e){return new t}))}}]),t}();(ye=t.b2ManifoldType||(t.b2ManifoldType={}))[ye.e_unknown=-1]="e_unknown",ye[ye.e_circles=0]="e_circles",ye[ye.e_faceA=1]="e_faceA",ye[ye.e_faceB=2]="e_faceB";var Se,we=function(){function e(){u(this,e),this.points=xe.MakeArray(_),this.localNormal=new Vt,this.localPoint=new Vt,this.type=t.b2ManifoldType.e_unknown,this.pointCount=0}return l(e,[{key:"Reset",value:function(){for(var e=0;e<_;++e)this.points[e].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=t.b2ManifoldType.e_unknown,this.pointCount=0}},{key:"Copy",value:function(t){this.pointCount=t.pointCount;for(var e=0;e<_;++e)this.points[e].Copy(t.points[e]);return this.localNormal.Copy(t.localNormal),this.localPoint.Copy(t.localPoint),this.type=t.type,this}},{key:"Clone",value:function(){return(new e).Copy(this)}}]),e}(),Ce=function(){function e(){u(this,e),this.normal=new Vt,this.points=Vt.MakeArray(_),this.separations=it(_)}return l(e,[{key:"Initialize",value:function(n,i,r,o,a){if(0!==n.pointCount)switch(n.type){case t.b2ManifoldType.e_circles:this.normal.Set(1,0);var s=Dt.MulXV(i,n.localPoint,e.Initialize_s_pointA),u=Dt.MulXV(o,n.points[0].localPoint,e.Initialize_s_pointB);Vt.DistanceSquaredVV(s,u)>m&&Vt.SubVV(u,s,this.normal).SelfNormalize();var l=Vt.AddVMulSV(s,r,this.normal,e.Initialize_s_cA),c=Vt.SubVMulSV(u,a,this.normal,e.Initialize_s_cB);Vt.MidVV(l,c,this.points[0]),this.separations[0]=Vt.DotVV(Vt.SubVV(c,l,Vt.s_t0),this.normal);break;case t.b2ManifoldType.e_faceA:jt.MulRV(i.q,n.localNormal,this.normal);for(var h=Dt.MulXV(i,n.localPoint,e.Initialize_s_planePoint),f=0;f<n.pointCount;++f){var d=Dt.MulXV(o,n.points[f].localPoint,e.Initialize_s_clipPoint),_=r-Vt.DotVV(Vt.SubVV(d,h,Vt.s_t0),this.normal),p=Vt.AddVMulSV(d,_,this.normal,e.Initialize_s_cA),v=Vt.SubVMulSV(d,a,this.normal,e.Initialize_s_cB);Vt.MidVV(p,v,this.points[f]),this.separations[f]=Vt.DotVV(Vt.SubVV(v,p,Vt.s_t0),this.normal)}break;case t.b2ManifoldType.e_faceB:jt.MulRV(o.q,n.localNormal,this.normal);for(var y=Dt.MulXV(o,n.localPoint,e.Initialize_s_planePoint),b=0;b<n.pointCount;++b){var g=Dt.MulXV(i,n.points[b].localPoint,e.Initialize_s_clipPoint),x=a-Vt.DotVV(Vt.SubVV(g,y,Vt.s_t0),this.normal),S=Vt.AddVMulSV(g,x,this.normal,e.Initialize_s_cB),w=Vt.SubVMulSV(g,r,this.normal,e.Initialize_s_cA);Vt.MidVV(w,S,this.points[b]),this.separations[b]=Vt.DotVV(Vt.SubVV(w,S,Vt.s_t0),this.normal)}this.normal.SelfNeg()}}}]),e}();function Ae(e,n,i,r){var o;for(o=0;o<i.pointCount;++o){var a=i.points[o].id.key;e[o]=t.b2PointState.b2_removeState;for(var s=0,u=r.pointCount;s<u;++s)if(r.points[s].id.key===a){e[o]=t.b2PointState.b2_persistState;break}}for(;o<_;++o)e[o]=t.b2PointState.b2_nullState;for(o=0;o<r.pointCount;++o){var l=r.points[o].id.key;n[o]=t.b2PointState.b2_addState;for(var c=0,h=i.pointCount;c<h;++c)if(i.points[c].id.key===l){n[o]=t.b2PointState.b2_persistState;break}}for(;o<_;++o)n[o]=t.b2PointState.b2_nullState}Ce.Initialize_s_pointA=new Vt,Ce.Initialize_s_pointB=new Vt,Ce.Initialize_s_cA=new Vt,Ce.Initialize_s_cB=new Vt,Ce.Initialize_s_planePoint=new Vt,Ce.Initialize_s_clipPoint=new Vt,(Se=t.b2PointState||(t.b2PointState={}))[Se.b2_nullState=0]="b2_nullState",Se[Se.b2_addState=1]="b2_addState",Se[Se.b2_persistState=2]="b2_persistState",Se[Se.b2_removeState=3]="b2_removeState";var Be=function(){function t(){u(this,t),this.v=new Vt,this.id=new ge}return l(t,[{key:"Copy",value:function(t){return this.v.Copy(t.v),this.id.Copy(t.id),this}}],[{key:"MakeArray",value:function(e){return et(e,(function(e){return new t}))}}]),t}(),ke=function(){function t(){u(this,t),this.p1=new Vt,this.p2=new Vt,this.maxFraction=1}return l(t,[{key:"Copy",value:function(t){return this.p1.Copy(t.p1),this.p2.Copy(t.p2),this.maxFraction=t.maxFraction,this}}]),t}(),Ve=function(){function t(){u(this,t),this.normal=new Vt,this.fraction=0}return l(t,[{key:"Copy",value:function(t){return this.normal.Copy(t.normal),this.fraction=t.fraction,this}}]),t}(),Pe=function(){function t(){u(this,t),this.lowerBound=new Vt,this.upperBound=new Vt,this.m_cache_center=new Vt,this.m_cache_extent=new Vt}return l(t,[{key:"Copy",value:function(t){return this.lowerBound.Copy(t.lowerBound),this.upperBound.Copy(t.upperBound),this}},{key:"IsValid",value:function(){return!!this.lowerBound.IsValid()&&!!this.upperBound.IsValid()&&!(this.upperBound.x<this.lowerBound.x)&&!(this.upperBound.y<this.lowerBound.y)}},{key:"GetCenter",value:function(){return Vt.MidVV(this.lowerBound,this.upperBound,this.m_cache_center)}},{key:"GetExtents",value:function(){return Vt.ExtVV(this.lowerBound,this.upperBound,this.m_cache_extent)}},{key:"GetPerimeter",value:function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))}},{key:"Combine1",value:function(t){return this.lowerBound.x=ut(this.lowerBound.x,t.lowerBound.x),this.lowerBound.y=ut(this.lowerBound.y,t.lowerBound.y),this.upperBound.x=lt(this.upperBound.x,t.upperBound.x),this.upperBound.y=lt(this.upperBound.y,t.upperBound.y),this}},{key:"Combine2",value:function(t,e){return this.lowerBound.x=ut(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=ut(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=lt(t.upperBound.x,e.upperBound.x),this.upperBound.y=lt(t.upperBound.y,e.upperBound.y),this}},{key:"Contains",value:function(t){return!(this.lowerBound.x<=t.lowerBound.x)&&!(this.lowerBound.y<=t.lowerBound.y)&&!(t.upperBound.x<=this.upperBound.x)&&!(t.upperBound.y<=this.upperBound.y)}},{key:"RayCast",value:function(t,e){var n=-h,i=h,r=e.p1.x,o=e.p1.y,a=e.p2.x-e.p1.x,s=e.p2.y-e.p1.y,u=st(a),l=st(s),c=t.normal;if(u<f){if(r<this.lowerBound.x||this.upperBound.x<r)return!1}else{var m=1/a,d=(this.lowerBound.x-r)*m,_=(this.upperBound.x-r)*m,p=-1;if(d>_){var v=d;d=_,_=v,p=1}if(d>n&&(c.x=p,c.y=0,n=d),n>(i=ut(i,_)))return!1}if(l<f){if(o<this.lowerBound.y||this.upperBound.y<o)return!1}else{var y=1/s,b=(this.lowerBound.y-o)*y,g=(this.upperBound.y-o)*y,x=-1;if(b>g){var S=b;b=g,g=S,x=1}if(b>n&&(c.x=0,c.y=x,n=b),n>(i=ut(i,g)))return!1}return!(n<0||e.maxFraction<n)&&(t.fraction=n,!0)}},{key:"TestContain",value:function(t){return!(t.x<this.lowerBound.x||this.upperBound.x<t.x)&&!(t.y<this.lowerBound.y||this.upperBound.y<t.y)}},{key:"TestOverlap",value:function(t){return!(this.upperBound.x<t.lowerBound.x)&&!(this.upperBound.y<t.lowerBound.y)&&!(t.upperBound.x<this.lowerBound.x)&&!(t.upperBound.y<this.lowerBound.y)}}],[{key:"Combine",value:function(t,e,n){return n.Combine2(t,e),n}}]),t}();function Me(t,e){return!(t.upperBound.x<e.lowerBound.x)&&!(t.upperBound.y<e.lowerBound.y)&&!(e.upperBound.x<t.lowerBound.x)&&!(e.upperBound.y<t.lowerBound.y)}function Oe(e,n,i,r,o){var a=0,s=n[0],u=n[1],l=Vt.DotVV(i,s.v)-r,c=Vt.DotVV(i,u.v)-r;if(l<=0&&e[a++].Copy(s),c<=0&&e[a++].Copy(u),l*c<0){var h=l/(l-c),f=e[a].v;f.x=s.v.x+h*(u.v.x-s.v.x),f.y=s.v.y+h*(u.v.y-s.v.y);var m=e[a].id;m.cf.indexA=o,m.cf.indexB=s.id.cf.indexB,m.cf.typeA=t.b2ContactFeatureType.e_vertex,m.cf.typeB=t.b2ContactFeatureType.e_face,++a}return a}var Ie=new Wt,je=new Jt,De=new Xt;function Te(t,e,n,i,r,o){var a=Ie.Reset();a.proxyA.SetShape(t,e),a.proxyB.SetShape(n,i),a.transformA.Copy(r),a.transformB.Copy(o),a.useRadii=!0;var s=je.Reset();s.count=0;var u=De.Reset();return se(u,s,a),u.distance<10*f}function Le(t){if(null===t)throw new Error;return t}var Re=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u(this,t),this.m_id=0,this.aabb=new Pe,this._userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=0,this.m_id=e}return l(t,[{key:"Reset",value:function(){this._userData=null}},{key:"IsLeaf",value:function(){return null===this.child1}},{key:"userData",get:function(){if(null===this._userData)throw new Error;return this._userData},set:function(t){if(null!==this._userData)throw new Error;this._userData=t}}]),t}(),Ee=function(){function t(){u(this,t),this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0,this.m_stack=new Nt(256)}return l(t,[{key:"Query",value:function(t,e){var n=this.m_stack.Reset();for(n.Push(this.m_root);n.GetCount()>0;){var i=n.Pop();if(null!==i&&i.aabb.TestOverlap(t))if(i.IsLeaf()){if(!e(i))return}else n.Push(i.child1),n.Push(i.child2)}}},{key:"QueryPoint",value:function(t,e){var n=this.m_stack.Reset();for(n.Push(this.m_root);n.GetCount()>0;){var i=n.Pop();if(null!==i&&i.aabb.TestContain(t))if(i.IsLeaf()){if(!e(i))return}else n.Push(i.child1),n.Push(i.child2)}}},{key:"RayCast",value:function(e,n){var i=e.p1,r=e.p2,o=Vt.SubVV(r,i,t.s_r);o.Normalize();var a=Vt.CrossOneV(o,t.s_v),s=Vt.AbsV(a,t.s_abs_v),u=e.maxFraction,l=t.s_segmentAABB,c=i.x+u*(r.x-i.x),h=i.y+u*(r.y-i.y);l.lowerBound.x=ut(i.x,c),l.lowerBound.y=ut(i.y,h),l.upperBound.x=lt(i.x,c),l.upperBound.y=lt(i.y,h);var f=this.m_stack.Reset();for(f.Push(this.m_root);f.GetCount()>0;){var m=f.Pop();if(null!==m&&Me(m.aabb,l)){var d=m.aabb.GetCenter(),_=m.aabb.GetExtents();if(!(st(Vt.DotVV(a,Vt.SubVV(i,d,Vt.s_t0)))-Vt.DotVV(s,_)>0))if(m.IsLeaf()){var p=t.s_subInput;p.p1.Copy(e.p1),p.p2.Copy(e.p2),p.maxFraction=u;var v=n(p,m);if(0===v)return;v>0&&(u=v,c=i.x+u*(r.x-i.x),h=i.y+u*(r.y-i.y),l.lowerBound.x=ut(i.x,c),l.lowerBound.y=ut(i.y,h),l.upperBound.x=lt(i.x,c),l.upperBound.y=lt(i.y,h))}else f.Push(m.child1),f.Push(m.child2)}}}},{key:"AllocateNode",value:function(){if(null!==this.m_freeList){var e=this.m_freeList;return this.m_freeList=e.parent,e.parent=null,e.child1=null,e.child2=null,e.height=0,e}return new Re(t.s_node_id++)}},{key:"FreeNode",value:function(t){t.parent=this.m_freeList,t.child1=null,t.child2=null,t.height=-1,t.Reset(),this.m_freeList=t}},{key:"CreateProxy",value:function(t,e){var n=this.AllocateNode(),i=v,r=v;return n.aabb.lowerBound.x=t.lowerBound.x-i,n.aabb.lowerBound.y=t.lowerBound.y-r,n.aabb.upperBound.x=t.upperBound.x+i,n.aabb.upperBound.y=t.upperBound.y+r,n.userData=e,n.height=0,this.InsertLeaf(n),n}},{key:"DestroyProxy",value:function(t){this.RemoveLeaf(t),this.FreeNode(t)}},{key:"MoveProxy",value:function(t,e,n){if(t.aabb.Contains(e))return!1;this.RemoveLeaf(t);var i=v,r=v;t.aabb.lowerBound.x=e.lowerBound.x-i,t.aabb.lowerBound.y=e.lowerBound.y-r,t.aabb.upperBound.x=e.upperBound.x+i,t.aabb.upperBound.y=e.upperBound.y+r;var o=y*n.x,a=y*n.y;return o<0?t.aabb.lowerBound.x+=o:t.aabb.upperBound.x+=o,a<0?t.aabb.lowerBound.y+=a:t.aabb.upperBound.y+=a,this.InsertLeaf(t),!0}},{key:"InsertLeaf",value:function(e){if(++this.m_insertionCount,null===this.m_root)return this.m_root=e,void(this.m_root.parent=null);for(var n=e.aabb,i=this.m_root;!i.IsLeaf();){var r=Le(i.child1),o=Le(i.child2),a=i.aabb.GetPerimeter(),s=t.s_combinedAABB;s.Combine2(i.aabb,n);var u=s.GetPerimeter(),l=2*u,c=2*(u-a),h=void 0,f=t.s_aabb,m=void 0;r.IsLeaf()?(f.Combine2(n,r.aabb),h=f.GetPerimeter()+c):(f.Combine2(n,r.aabb),m=r.aabb.GetPerimeter(),h=f.GetPerimeter()-m+c);var d=void 0;if(o.IsLeaf()?(f.Combine2(n,o.aabb),d=f.GetPerimeter()+c):(f.Combine2(n,o.aabb),m=o.aabb.GetPerimeter(),d=f.GetPerimeter()-m+c),l<h&&l<d)break;i=h<d?r:o}var _=i.parent,p=this.AllocateNode();p.parent=_,p.aabb.Combine2(n,i.aabb),p.height=i.height+1,null!==_?(_.child1===i?_.child1=p:_.child2=p,p.child1=i,p.child2=e,i.parent=p,e.parent=p):(p.child1=i,p.child2=e,i.parent=p,e.parent=p,this.m_root=p);for(var v=e.parent;null!==v;){var y=Le((v=this.Balance(v)).child1),b=Le(v.child2);v.height=1+lt(y.height,b.height),v.aabb.Combine2(y.aabb,b.aabb),v=v.parent}}},{key:"RemoveLeaf",value:function(t){if(t!==this.m_root){var e=Le(t.parent),n=e&&e.parent,i=Le(e.child1===t?e.child2:e.child1);if(null!==n){n.child1===e?n.child1=i:n.child2=i,i.parent=n,this.FreeNode(e);for(var r=n;null!==r;){var o=Le((r=this.Balance(r)).child1),a=Le(r.child2);r.aabb.Combine2(o.aabb,a.aabb),r.height=1+lt(o.height,a.height),r=r.parent}}else this.m_root=i,i.parent=null,this.FreeNode(e)}else this.m_root=null}},{key:"Balance",value:function(t){if(t.IsLeaf()||t.height<2)return t;var e=Le(t.child1),n=Le(t.child2),i=n.height-e.height;if(i>1){var r=Le(n.child1),o=Le(n.child2);return n.child1=t,n.parent=t.parent,t.parent=n,null!==n.parent?n.parent.child1===t?n.parent.child1=n:n.parent.child2=n:this.m_root=n,r.height>o.height?(n.child2=r,t.child2=o,o.parent=t,t.aabb.Combine2(e.aabb,o.aabb),n.aabb.Combine2(t.aabb,r.aabb),t.height=1+lt(e.height,o.height),n.height=1+lt(t.height,r.height)):(n.child2=o,t.child2=r,r.parent=t,t.aabb.Combine2(e.aabb,r.aabb),n.aabb.Combine2(t.aabb,o.aabb),t.height=1+lt(e.height,r.height),n.height=1+lt(t.height,o.height)),n}if(i<-1){var a=Le(e.child1),s=Le(e.child2);return e.child1=t,e.parent=t.parent,t.parent=e,null!==e.parent?e.parent.child1===t?e.parent.child1=e:e.parent.child2=e:this.m_root=e,a.height>s.height?(e.child2=a,t.child1=s,s.parent=t,t.aabb.Combine2(n.aabb,s.aabb),e.aabb.Combine2(t.aabb,a.aabb),t.height=1+lt(n.height,s.height),e.height=1+lt(t.height,a.height)):(e.child2=s,t.child1=a,a.parent=t,t.aabb.Combine2(n.aabb,a.aabb),e.aabb.Combine2(t.aabb,s.aabb),t.height=1+lt(n.height,a.height),e.height=1+lt(t.height,s.height)),e}return t}},{key:"GetHeight",value:function(){return null===this.m_root?0:this.m_root.height}},{key:"GetAreaRatio",value:function(){if(null===this.m_root)return 0;var e=this.m_root.aabb.GetPerimeter();return t.GetAreaNode(this.m_root)/e}},{key:"ComputeHeight",value:function(){return t.ComputeHeightNode(this.m_root)}},{key:"ValidateStructure",value:function(t){if(null!==t&&(this.m_root,!t.IsLeaf())){var e=Le(t.child1),n=Le(t.child2);this.ValidateStructure(e),this.ValidateStructure(n)}}},{key:"ValidateMetrics",value:function(e){if(null!==e&&!e.IsLeaf()){var n=Le(e.child1),i=Le(e.child2);t.s_aabb.Combine2(n.aabb,i.aabb),this.ValidateMetrics(n),this.ValidateMetrics(i)}}},{key:"Validate",value:function(){}},{key:"GetMaxBalance",value:function(){return t.GetMaxBalanceNode(this.m_root,0)}},{key:"RebuildBottomUp",value:function(){this.Validate()}},{key:"ShiftOrigin",value:function(e){t.ShiftOriginNode(this.m_root,e)}}],[{key:"GetAreaNode",value:function(e){if(null===e)return 0;if(e.IsLeaf())return 0;var n=e.aabb.GetPerimeter();return n+=t.GetAreaNode(e.child1),n+=t.GetAreaNode(e.child2)}},{key:"ComputeHeightNode",value:function(e){return null===e||e.IsLeaf()?0:1+lt(t.ComputeHeightNode(e.child1),t.ComputeHeightNode(e.child2))}},{key:"GetMaxBalanceNode",value:function(t,e){if(null===t)return e;if(t.height<=1)return e;var n=Le(t.child1),i=Le(t.child2);return lt(e,st(i.height-n.height))}},{key:"ShiftOriginNode",value:function(e,n){if(null!==e&&!(e.height<=1)){var i=e.child1,r=e.child2;t.ShiftOriginNode(i,n),t.ShiftOriginNode(r,n),e.aabb.lowerBound.SelfSub(n),e.aabb.upperBound.SelfSub(n)}}}]),t}();function Fe(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Ge(t,e){return t<e}function Ne(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ge,r=e,o=[],a=0;;){for(;r+1<n;n++){var s=t[r+Math.floor(Math.random()*(n-r))];o[a++]=n;for(var u=r-1;;){for(;i(t[++u],s););for(;i(s,t[--n]););if(u>=n)break;Fe(t,u,n)}}if(0===a)break;r=n,n=o[--a]}return t}Ee.s_r=new Vt,Ee.s_v=new Vt,Ee.s_abs_v=new Vt,Ee.s_segmentAABB=new Pe,Ee.s_subInput=new ke,Ee.s_combinedAABB=new Pe,Ee.s_aabb=new Pe,Ee.s_node_id=0;var ze=function t(e,n){u(this,t),this.proxyA=e,this.proxyB=n},qe=function(){function t(){u(this,t),this.m_tree=new Ee,this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[]}return l(t,[{key:"CreateProxy",value:function(t,e){var n=this.m_tree.CreateProxy(t,e);return++this.m_proxyCount,this.BufferMove(n),n}},{key:"DestroyProxy",value:function(t){this.UnBufferMove(t),--this.m_proxyCount,this.m_tree.DestroyProxy(t)}},{key:"MoveProxy",value:function(t,e,n){this.m_tree.MoveProxy(t,e,n)&&this.BufferMove(t)}},{key:"TouchProxy",value:function(t){this.BufferMove(t)}},{key:"GetProxyCount",value:function(){return this.m_proxyCount}},{key:"UpdatePairs",value:function(t){var e=this;this.m_pairCount=0;for(var n=function(t){var n=e.m_moveBuffer[t];if(null===n)return"continue";var i=n.aabb;e.m_tree.Query(i,(function(t){if(t.m_id===n.m_id)return!0;var i,r;if(t.m_id<n.m_id?(i=t,r=n):(i=n,r=t),e.m_pairCount===e.m_pairBuffer.length)e.m_pairBuffer[e.m_pairCount]=new ze(i,r);else{var o=e.m_pairBuffer[e.m_pairCount];o.proxyA=i,o.proxyB=r}return++e.m_pairCount,!0}))},i=0;i<this.m_moveCount;++i)n(i);this.m_moveCount=0,Ne(this.m_pairBuffer,0,this.m_pairCount,Ue);for(var r=0;r<this.m_pairCount;){var o=this.m_pairBuffer[r];for(t(o.proxyA.userData,o.proxyB.userData),++r;r<this.m_pairCount;){var a=this.m_pairBuffer[r];if(a.proxyA.m_id!==o.proxyA.m_id||a.proxyB.m_id!==o.proxyB.m_id)break;++r}}}},{key:"Query",value:function(t,e){this.m_tree.Query(t,e)}},{key:"QueryPoint",value:function(t,e){this.m_tree.QueryPoint(t,e)}},{key:"RayCast",value:function(t,e){this.m_tree.RayCast(t,e)}},{key:"GetTreeHeight",value:function(){return this.m_tree.GetHeight()}},{key:"GetTreeBalance",value:function(){return this.m_tree.GetMaxBalance()}},{key:"GetTreeQuality",value:function(){return this.m_tree.GetAreaRatio()}},{key:"ShiftOrigin",value:function(t){this.m_tree.ShiftOrigin(t)}},{key:"BufferMove",value:function(t){this.m_moveBuffer[this.m_moveCount]=t,++this.m_moveCount}},{key:"UnBufferMove",value:function(t){var e=this.m_moveBuffer.indexOf(t);this.m_moveBuffer[e]=null}}]),t}();function Ue(t,e){return t.proxyA.m_id<e.proxyA.m_id||t.proxyA.m_id===e.proxyA.m_id&&t.proxyB.m_id<e.proxyB.m_id}function Je(){t.b2_toiTime=0,t.b2_toiMaxTime=0,t.b2_toiCalls=0,t.b2_toiIters=0,t.b2_toiMaxIters=0,t.b2_toiRootIters=0,t.b2_toiMaxRootIters=0}t.b2_toiTime=0,t.b2_toiMaxTime=0,t.b2_toiCalls=0,t.b2_toiIters=0,t.b2_toiMaxIters=0,t.b2_toiRootIters=0,t.b2_toiMaxRootIters=0;var We,Xe=new Dt,He=new Dt,Qe=new Vt,$e=new Vt,Ze=new Vt,Ke=new Vt,Ye=new Vt,tn=function t(){u(this,t),this.proxyA=new Ut,this.proxyB=new Ut,this.sweepA=new Lt,this.sweepB=new Lt,this.tMax=0};(We=t.b2TOIOutputState||(t.b2TOIOutputState={}))[We.e_unknown=0]="e_unknown",We[We.e_failed=1]="e_failed",We[We.e_overlapped=2]="e_overlapped",We[We.e_touching=3]="e_touching",We[We.e_separated=4]="e_separated";var en,nn=function e(){u(this,e),this.state=t.b2TOIOutputState.e_unknown,this.t=0};(en=t.b2SeparationFunctionType||(t.b2SeparationFunctionType={}))[en.e_unknown=-1]="e_unknown",en[en.e_points=0]="e_points",en[en.e_faceA=1]="e_faceA",en[en.e_faceB=2]="e_faceB";var rn=function(){function e(){u(this,e),this.m_sweepA=new Lt,this.m_sweepB=new Lt,this.m_type=t.b2SeparationFunctionType.e_unknown,this.m_localPoint=new Vt,this.m_axis=new Vt}return l(e,[{key:"Initialize",value:function(e,n,i,r,o,a){this.m_proxyA=n,this.m_proxyB=r;var s=e.count;this.m_sweepA.Copy(i),this.m_sweepB.Copy(o);var u=Xe,l=He;if(this.m_sweepA.GetTransform(u,a),this.m_sweepB.GetTransform(l,a),1===s){this.m_type=t.b2SeparationFunctionType.e_points;var c=this.m_proxyA.GetVertex(e.indexA[0]),h=this.m_proxyB.GetVertex(e.indexB[0]),f=Dt.MulXV(u,c,Qe),m=Dt.MulXV(l,h,$e);Vt.SubVV(m,f,this.m_axis);var d=this.m_axis.Normalize();return this.m_localPoint.SetZero(),d}if(e.indexA[0]===e.indexA[1]){this.m_type=t.b2SeparationFunctionType.e_faceB;var _=this.m_proxyB.GetVertex(e.indexB[0]),p=this.m_proxyB.GetVertex(e.indexB[1]);Vt.CrossVOne(Vt.SubVV(p,_,Vt.s_t0),this.m_axis).SelfNormalize();var v=jt.MulRV(l.q,this.m_axis,Ze);Vt.MidVV(_,p,this.m_localPoint);var y=Dt.MulXV(l,this.m_localPoint,$e),b=this.m_proxyA.GetVertex(e.indexA[0]),g=Dt.MulXV(u,b,Qe),x=Vt.DotVV(Vt.SubVV(g,y,Vt.s_t0),v);return x<0&&(this.m_axis.SelfNeg(),x=-x),x}this.m_type=t.b2SeparationFunctionType.e_faceA;var S=this.m_proxyA.GetVertex(e.indexA[0]),w=this.m_proxyA.GetVertex(e.indexA[1]);Vt.CrossVOne(Vt.SubVV(w,S,Vt.s_t0),this.m_axis).SelfNormalize();var C=jt.MulRV(u.q,this.m_axis,Ze);Vt.MidVV(S,w,this.m_localPoint);var A=Dt.MulXV(u,this.m_localPoint,Qe),B=this.m_proxyB.GetVertex(e.indexB[0]),k=Dt.MulXV(l,B,$e),V=Vt.DotVV(Vt.SubVV(k,A,Vt.s_t0),C);return V<0&&(this.m_axis.SelfNeg(),V=-V),V}},{key:"FindMinSeparation",value:function(e,n,i){var r=Xe,o=He;switch(this.m_sweepA.GetTransform(r,i),this.m_sweepB.GetTransform(o,i),this.m_type){case t.b2SeparationFunctionType.e_points:var a=jt.MulTRV(r.q,this.m_axis,Ke),s=jt.MulTRV(o.q,Vt.NegV(this.m_axis,Vt.s_t0),Ye);e[0]=this.m_proxyA.GetSupport(a),n[0]=this.m_proxyB.GetSupport(s);var u=this.m_proxyA.GetVertex(e[0]),l=this.m_proxyB.GetVertex(n[0]),c=Dt.MulXV(r,u,Qe),h=Dt.MulXV(o,l,$e);return Vt.DotVV(Vt.SubVV(h,c,Vt.s_t0),this.m_axis);case t.b2SeparationFunctionType.e_faceA:var f=jt.MulRV(r.q,this.m_axis,Ze),m=Dt.MulXV(r,this.m_localPoint,Qe),d=jt.MulTRV(o.q,Vt.NegV(f,Vt.s_t0),Ye);e[0]=-1,n[0]=this.m_proxyB.GetSupport(d);var _=this.m_proxyB.GetVertex(n[0]),p=Dt.MulXV(o,_,$e);return Vt.DotVV(Vt.SubVV(p,m,Vt.s_t0),f);case t.b2SeparationFunctionType.e_faceB:var v=jt.MulRV(o.q,this.m_axis,Ze),y=Dt.MulXV(o,this.m_localPoint,$e),b=jt.MulTRV(r.q,Vt.NegV(v,Vt.s_t0),Ke);n[0]=-1,e[0]=this.m_proxyA.GetSupport(b);var g=this.m_proxyA.GetVertex(e[0]),x=Dt.MulXV(r,g,Qe);return Vt.DotVV(Vt.SubVV(x,y,Vt.s_t0),v);default:return e[0]=-1,n[0]=-1,0}}},{key:"Evaluate",value:function(e,n,i){var r=Xe,o=He;switch(this.m_sweepA.GetTransform(r,i),this.m_sweepB.GetTransform(o,i),this.m_type){case t.b2SeparationFunctionType.e_points:var a=this.m_proxyA.GetVertex(e),s=this.m_proxyB.GetVertex(n),u=Dt.MulXV(r,a,Qe),l=Dt.MulXV(o,s,$e);return Vt.DotVV(Vt.SubVV(l,u,Vt.s_t0),this.m_axis);case t.b2SeparationFunctionType.e_faceA:var c=jt.MulRV(r.q,this.m_axis,Ze),h=Dt.MulXV(r,this.m_localPoint,Qe),f=this.m_proxyB.GetVertex(n),m=Dt.MulXV(o,f,$e);return Vt.DotVV(Vt.SubVV(m,h,Vt.s_t0),c);case t.b2SeparationFunctionType.e_faceB:var d=jt.MulRV(o.q,this.m_axis,Ze),_=Dt.MulXV(o,this.m_localPoint,$e),p=this.m_proxyA.GetVertex(e),v=Dt.MulXV(r,p,Qe);return Vt.DotVV(Vt.SubVV(v,_,Vt.s_t0),d);default:return 0}}}]),e}(),on=new Ft,an=new Jt,sn=new Wt,un=new Xt,ln=new rn,cn=[0],hn=[0],fn=new Lt,mn=new Lt;function dn(e,n){var i=on.Reset();++t.b2_toiCalls,e.state=t.b2TOIOutputState.e_unknown,e.t=n.tMax;var r=n.proxyA,o=n.proxyB,a=lt(p,lt(r.m_count,o.m_count)),s=fn.Copy(n.sweepA),u=mn.Copy(n.sweepB);s.Normalize(),u.Normalize();var l=n.tMax,c=r.m_radius+o.m_radius,h=lt(b,c-3*b),f=.25*b,m=0,d=20,_=0,v=an;v.count=0;var y=sn;for(y.proxyA.Copy(n.proxyA),y.proxyB.Copy(n.proxyB),y.useRadii=!1;;){var g=Xe,x=He;s.GetTransform(g,m),u.GetTransform(x,m),y.transformA.Copy(g),y.transformB.Copy(x);var S=un;if(se(S,v,y),S.distance<=0){e.state=t.b2TOIOutputState.e_overlapped,e.t=0;break}if(S.distance<h+f){e.state=t.b2TOIOutputState.e_touching,e.t=m;break}var w=ln;w.Initialize(v,r,s,o,u,m);for(var C=!1,A=l,B=0;;){var k=cn,V=hn,P=w.FindMinSeparation(k,V,A);if(P>h+f){e.state=t.b2TOIOutputState.e_separated,e.t=l,C=!0;break}if(P>h-f){m=A;break}var M=w.Evaluate(k[0],V[0],m);if(M<h-f){e.state=t.b2TOIOutputState.e_failed,e.t=m,C=!0;break}if(M<=h+f){e.state=t.b2TOIOutputState.e_touching,e.t=m,C=!0;break}for(var O=0,I=m,j=A;;){var D=0;D=1&O?I+(h-M)*(j-I)/(P-M):.5*(I+j),++O,++t.b2_toiRootIters;var T=w.Evaluate(k[0],V[0],D);if(st(T-h)<f){A=D;break}if(T>h?(I=D,M=T):(j=D,P=T),50===O)break}if(t.b2_toiMaxRootIters=lt(t.b2_toiMaxRootIters,O),++B===a)break}if(++_,++t.b2_toiIters,C)break;if(_===d){e.state=t.b2TOIOutputState.e_failed,e.t=m;break}}t.b2_toiMaxIters=lt(t.b2_toiMaxIters,_);var L=i.GetMilliseconds();t.b2_toiMaxTime=lt(t.b2_toiMaxTime,L),t.b2_toiTime+=L}var _n=new Vt,pn=new Vt;function vn(e,n,i,r,o){e.pointCount=0;var a=Dt.MulXV(i,n.m_p,_n),s=Dt.MulXV(o,r.m_p,pn),u=Vt.DistanceSquaredVV(a,s),l=n.m_radius+r.m_radius;u>l*l||(e.type=t.b2ManifoldType.e_circles,e.localPoint.Copy(n.m_p),e.localNormal.SetZero(),e.pointCount=1,e.points[0].localPoint.Copy(r.m_p),e.points[0].id.key=0)}var yn=new Vt,bn=new Vt,gn=new Vt;function xn(e,n,i,r,o){e.pointCount=0;for(var a=Dt.MulXV(o,r.m_p,yn),s=Dt.MulTXV(i,a,bn),u=0,l=-h,c=n.m_radius+r.m_radius,m=n.m_count,d=n.m_vertices,_=n.m_normals,p=0;p<m;++p){var v=Vt.DotVV(_[p],Vt.SubVV(s,d[p],Vt.s_t0));if(v>c)return;v>l&&(l=v,u=p)}var y=u,b=(y+1)%m,g=d[y],x=d[b];if(l<f)return e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(_[u]),Vt.MidVV(g,x,e.localPoint),e.points[0].localPoint.Copy(r.m_p),void(e.points[0].id.key=0);var S=Vt.DotVV(Vt.SubVV(s,g,Vt.s_t0),Vt.SubVV(x,g,Vt.s_t1)),w=Vt.DotVV(Vt.SubVV(s,x,Vt.s_t0),Vt.SubVV(g,x,Vt.s_t1));if(S<=0){if(Vt.DistanceSquaredVV(s,g)>c*c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,Vt.SubVV(s,g,e.localNormal).SelfNormalize(),e.localPoint.Copy(g),e.points[0].localPoint.Copy(r.m_p),e.points[0].id.key=0}else if(w<=0){if(Vt.DistanceSquaredVV(s,x)>c*c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,Vt.SubVV(s,x,e.localNormal).SelfNormalize(),e.localPoint.Copy(x),e.points[0].localPoint.Copy(r.m_p),e.points[0].id.key=0}else{var C=Vt.MidVV(g,x,gn);if(Vt.DotVV(Vt.SubVV(s,C,Vt.s_t1),_[y])>c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(_[y]).SelfNormalize(),e.localPoint.Copy(C),e.points[0].localPoint.Copy(r.m_p),e.points[0].id.key=0}}var Sn=new Vt,wn=new Vt,Cn=new Vt,An=new Vt;function Bn(t,e,n,i,r){for(var o=t.m_vertices,a=t.m_normals,s=i.m_count,u=i.m_vertices,l=jt.MulRV(e.q,a[n],Sn),c=jt.MulTRV(r.q,l,wn),f=0,m=h,d=0;d<s;++d){var _=Vt.DotVV(u[d],c);_<m&&(m=_,f=d)}var p=Dt.MulXV(e,o[n],Cn),v=Dt.MulXV(r,u[f],An);return Vt.DotVV(Vt.SubVV(v,p,Vt.s_t0),l)}var kn=new Vt,Vn=new Vt;function Pn(t,e,n,i,r){for(var o=e.m_count,a=e.m_normals,s=Vt.SubVV(Dt.MulXV(r,i.m_centroid,Vt.s_t0),Dt.MulXV(n,e.m_centroid,Vt.s_t1),kn),u=jt.MulTRV(n.q,s,Vn),l=0,c=-h,f=0;f<o;++f){var m=Vt.DotVV(a[f],u);m>c&&(c=m,l=f)}var d=Bn(e,n,l,i,r),_=(l+o-1)%o,p=Bn(e,n,_,i,r),v=(l+1)%o,y=Bn(e,n,v,i,r),b=0,g=0,x=0;if(p>d&&p>y)x=-1,b=_,g=p;else{if(!(y>d))return t[0]=l,d;x=1,b=v,g=y}for(;(d=Bn(e,n,l=-1===x?(b+o-1)%o:(b+1)%o,i,r))>g;)b=l,g=d;return t[0]=b,g}var Mn=new Vt;function On(e,n,i,r,o,a){for(var s=n.m_normals,u=o.m_count,l=o.m_vertices,c=o.m_normals,f=jt.MulTRV(a.q,jt.MulRV(i.q,s[r],Vt.s_t0),Mn),m=0,d=h,_=0;_<u;++_){var p=Vt.DotVV(f,c[_]);p<d&&(d=p,m=_)}var v=m,y=(v+1)%u,b=e[0];Dt.MulXV(a,l[v],b.v);var g=b.id.cf;g.indexA=r,g.indexB=v,g.typeA=t.b2ContactFeatureType.e_face,g.typeB=t.b2ContactFeatureType.e_vertex;var x=e[1];Dt.MulXV(a,l[y],x.v);var S=x.id.cf;S.indexA=r,S.indexB=y,S.typeA=t.b2ContactFeatureType.e_face,S.typeB=t.b2ContactFeatureType.e_vertex}var In=Be.MakeArray(2),jn=Be.MakeArray(2),Dn=Be.MakeArray(2),Tn=[0],Ln=[0],Rn=new Vt,En=new Vt,Fn=new Vt,Gn=new Vt,Nn=new Vt,zn=new Vt,qn=new Vt,Un=new Vt;function Jn(e,n,i,r,o){e.pointCount=0;var a=n.m_radius+r.m_radius,s=Tn;s[0]=0;var u=Pn(s,n,i,r,o);if(!(u>a)){var l=Ln;l[0]=0;var c=Pn(l,r,o,n,i);if(!(c>a)){var h,f,m,d,p=0,v=0;c>.98*u+.001?(h=r,f=n,m=o,d=i,p=l[0],e.type=t.b2ManifoldType.e_faceB,v=1):(h=n,f=r,m=i,d=o,p=s[0],e.type=t.b2ManifoldType.e_faceA,v=0);var y=In;On(y,h,m,p,f,d);var b=h.m_count,g=h.m_vertices,x=p,S=(p+1)%b,w=g[x],C=g[S],A=Vt.SubVV(C,w,Rn);A.Normalize();var B=Vt.CrossVOne(A,En),k=Vt.MidVV(w,C,Fn),V=jt.MulRV(m.q,A,Nn),P=Vt.CrossVOne(V,Gn),M=Dt.MulXV(m,w,qn),O=Dt.MulXV(m,C,Un),I=Vt.DotVV(P,M),j=-Vt.DotVV(V,M)+a,D=Vt.DotVV(V,O)+a,T=jn,L=Dn;if(!(Oe(T,y,Vt.NegV(V,zn),j,x)<2)&&!(Oe(L,T,V,D,S)<2)){e.localNormal.Copy(B),e.localPoint.Copy(k);for(var R=0,E=0;E<_;++E){var F=L[E];if(Vt.DotVV(P,F.v)-I<=a){var G=e.points[R];if(Dt.MulTXV(d,F.v,G.localPoint),G.id.Copy(F.id),v){var N=G.id.cf;G.id.cf.indexA=N.indexB,G.id.cf.indexB=N.indexA,G.id.cf.typeA=N.typeB,G.id.cf.typeB=N.typeA}++R}}e.pointCount=R}}}}var Wn,Xn=new Vt,Hn=new Vt,Qn=new Vt,$n=new Vt,Zn=new Vt,Kn=new Vt,Yn=new Vt,ti=new ge;function ei(e,n,i,r,o){e.pointCount=0;var a=Dt.MulTXV(i,Dt.MulXV(o,r.m_p,Vt.s_t0),Xn),s=n.m_vertex1,u=n.m_vertex2,l=Vt.SubVV(u,s,Hn),c=Vt.DotVV(l,Vt.SubVV(u,a,Vt.s_t0)),h=Vt.DotVV(l,Vt.SubVV(a,s,Vt.s_t0)),f=n.m_radius+r.m_radius,m=ti;if(m.cf.indexB=0,m.cf.typeB=t.b2ContactFeatureType.e_vertex,h<=0){var d=s,_=Vt.SubVV(a,d,Qn);if(Vt.DotVV(_,_)>f*f)return;if(n.m_hasVertex0){var p=n.m_vertex0,v=s,y=Vt.SubVV(v,p,$n);if(Vt.DotVV(y,Vt.SubVV(v,a,Vt.s_t0))>0)return}return m.cf.indexA=0,m.cf.typeA=t.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=t.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(d),e.points[0].id.Copy(m),void e.points[0].localPoint.Copy(r.m_p)}if(c<=0){var b=u,g=Vt.SubVV(a,b,Qn);if(Vt.DotVV(g,g)>f*f)return;if(n.m_hasVertex3){var x=n.m_vertex3,S=u,w=Vt.SubVV(x,S,Zn);if(Vt.DotVV(w,Vt.SubVV(a,S,Vt.s_t0))>0)return}return m.cf.indexA=1,m.cf.typeA=t.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=t.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(b),e.points[0].id.Copy(m),void e.points[0].localPoint.Copy(r.m_p)}var C=Vt.DotVV(l,l),A=Kn;A.x=1/C*(c*s.x+h*u.x),A.y=1/C*(c*s.y+h*u.y);var B=Vt.SubVV(a,A,Qn);if(!(Vt.DotVV(B,B)>f*f)){var k=Yn.Set(-l.y,l.x);Vt.DotVV(k,Vt.SubVV(a,s,Vt.s_t0))<0&&k.Set(-k.x,-k.y),k.Normalize(),m.cf.indexA=0,m.cf.typeA=t.b2ContactFeatureType.e_face,e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(k),e.localPoint.Copy(s),e.points[0].id.Copy(m),e.points[0].localPoint.Copy(r.m_p)}}!function(t){t[t.e_unknown=0]="e_unknown",t[t.e_edgeA=1]="e_edgeA",t[t.e_edgeB=2]="e_edgeB"}(Wn||(Wn={}));var ni,ii=function t(){u(this,t),this.type=Wn.e_unknown,this.index=0,this.separation=0},ri=function t(){u(this,t),this.vertices=[],this.normals=[],this.count=0},oi=function t(){u(this,t),this.i1=0,this.i2=0,this.v1=new Vt,this.v2=new Vt,this.normal=new Vt,this.sideNormal1=new Vt,this.sideOffset1=0,this.sideNormal2=new Vt,this.sideOffset2=0};!function(t){t[t.e_isolated=0]="e_isolated",t[t.e_concave=1]="e_concave",t[t.e_convex=2]="e_convex"}(ni||(ni={}));var ai=function(){function e(){u(this,e),this.m_polygonB=new ri,this.m_xf=new Dt,this.m_centroidB=new Vt,this.m_v0=new Vt,this.m_v1=new Vt,this.m_v2=new Vt,this.m_v3=new Vt,this.m_normal0=new Vt,this.m_normal1=new Vt,this.m_normal2=new Vt,this.m_normal=new Vt,this.m_type1=ni.e_isolated,this.m_type2=ni.e_isolated,this.m_lowerLimit=new Vt,this.m_upperLimit=new Vt,this.m_radius=0,this.m_front=!1}return l(e,[{key:"Collide",value:function(n,i,r,o,a){Dt.MulTXX(r,a,this.m_xf),Dt.MulXV(this.m_xf,o.m_centroid,this.m_centroidB),this.m_v0.Copy(i.m_vertex0),this.m_v1.Copy(i.m_vertex1),this.m_v2.Copy(i.m_vertex2),this.m_v3.Copy(i.m_vertex3);var s=i.m_hasVertex0,u=i.m_hasVertex3,l=Vt.SubVV(this.m_v2,this.m_v1,e.s_edge1);l.Normalize(),this.m_normal1.Set(l.y,-l.x);var c=Vt.DotVV(this.m_normal1,Vt.SubVV(this.m_centroidB,this.m_v1,Vt.s_t0)),h=0,f=0,m=!1,d=!1;if(s){var p=Vt.SubVV(this.m_v1,this.m_v0,e.s_edge0);p.Normalize(),this.m_normal0.Set(p.y,-p.x),m=Vt.CrossVV(p,l)>=0,h=Vt.DotVV(this.m_normal0,Vt.SubVV(this.m_centroidB,this.m_v0,Vt.s_t0))}if(u){var v=Vt.SubVV(this.m_v3,this.m_v2,e.s_edge2);v.Normalize(),this.m_normal2.Set(v.y,-v.x),d=Vt.CrossVV(l,v)>0,f=Vt.DotVV(this.m_normal2,Vt.SubVV(this.m_centroidB,this.m_v2,Vt.s_t0))}s&&u?m&&d?(this.m_front=h>=0||c>=0||f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):m?(this.m_front=h>=0||c>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):d?(this.m_front=f>=0||h>=0&&c>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):(this.m_front=h>=0&&c>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):s?m?(this.m_front=h>=0||c>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):(this.m_front=h>=0&&c>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):u?d?(this.m_front=c>=0||f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=c>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=c>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1))),this.m_polygonB.count=o.m_count;for(var y=0;y<o.m_count;++y)this.m_polygonB.vertices.length<=y&&this.m_polygonB.vertices.push(new Vt),this.m_polygonB.normals.length<=y&&this.m_polygonB.normals.push(new Vt),Dt.MulXV(this.m_xf,o.m_vertices[y],this.m_polygonB.vertices[y]),jt.MulRV(this.m_xf.q,o.m_normals[y],this.m_polygonB.normals[y]);this.m_radius=o.m_radius+i.m_radius,n.pointCount=0;var b=this.ComputeEdgeSeparation(e.s_edgeAxis);if(b.type!==Wn.e_unknown&&!(b.separation>this.m_radius)){var g=this.ComputePolygonSeparation(e.s_polygonAxis);if(!(g.type!==Wn.e_unknown&&g.separation>this.m_radius)){var x,S=.98,w=.001;x=g.type===Wn.e_unknown?b:g.separation>S*b.separation+w?g:b;var C=e.s_ie,A=e.s_rf;if(x.type===Wn.e_edgeA){n.type=t.b2ManifoldType.e_faceA;for(var B=0,k=Vt.DotVV(this.m_normal,this.m_polygonB.normals[0]),V=1;V<this.m_polygonB.count;++V){var P=Vt.DotVV(this.m_normal,this.m_polygonB.normals[V]);P<k&&(k=P,B=V)}var M=B,O=(M+1)%this.m_polygonB.count,I=C[0];I.v.Copy(this.m_polygonB.vertices[M]),I.id.cf.indexA=0,I.id.cf.indexB=M,I.id.cf.typeA=t.b2ContactFeatureType.e_face,I.id.cf.typeB=t.b2ContactFeatureType.e_vertex;var j=C[1];j.v.Copy(this.m_polygonB.vertices[O]),j.id.cf.indexA=0,j.id.cf.indexB=O,j.id.cf.typeA=t.b2ContactFeatureType.e_face,j.id.cf.typeB=t.b2ContactFeatureType.e_vertex,this.m_front?(A.i1=0,A.i2=1,A.v1.Copy(this.m_v1),A.v2.Copy(this.m_v2),A.normal.Copy(this.m_normal1)):(A.i1=1,A.i2=0,A.v1.Copy(this.m_v2),A.v2.Copy(this.m_v1),A.normal.Copy(this.m_normal1).SelfNeg())}else{n.type=t.b2ManifoldType.e_faceB;var D=C[0];D.v.Copy(this.m_v1),D.id.cf.indexA=0,D.id.cf.indexB=x.index,D.id.cf.typeA=t.b2ContactFeatureType.e_vertex,D.id.cf.typeB=t.b2ContactFeatureType.e_face;var T=C[1];T.v.Copy(this.m_v2),T.id.cf.indexA=0,T.id.cf.indexB=x.index,T.id.cf.typeA=t.b2ContactFeatureType.e_vertex,T.id.cf.typeB=t.b2ContactFeatureType.e_face,A.i1=x.index,A.i2=(A.i1+1)%this.m_polygonB.count,A.v1.Copy(this.m_polygonB.vertices[A.i1]),A.v2.Copy(this.m_polygonB.vertices[A.i2]),A.normal.Copy(this.m_polygonB.normals[A.i1])}A.sideNormal1.Set(A.normal.y,-A.normal.x),A.sideNormal2.Copy(A.sideNormal1).SelfNeg(),A.sideOffset1=Vt.DotVV(A.sideNormal1,A.v1),A.sideOffset2=Vt.DotVV(A.sideNormal2,A.v2);var L=e.s_clipPoints1,R=e.s_clipPoints2;if(!(Oe(L,C,A.sideNormal1,A.sideOffset1,A.i1)<_)&&!(Oe(R,L,A.sideNormal2,A.sideOffset2,A.i2)<_)){x.type===Wn.e_edgeA?(n.localNormal.Copy(A.normal),n.localPoint.Copy(A.v1)):(n.localNormal.Copy(o.m_normals[A.i1]),n.localPoint.Copy(o.m_vertices[A.i1]));for(var E=0,F=0;F<_;++F)if(Vt.DotVV(A.normal,Vt.SubVV(R[F].v,A.v1,Vt.s_t0))<=this.m_radius){var G=n.points[E];x.type===Wn.e_edgeA?(Dt.MulTXV(this.m_xf,R[F].v,G.localPoint),G.id.Copy(R[F].id)):(G.localPoint.Copy(R[F].v),G.id.cf.typeA=R[F].id.cf.typeB,G.id.cf.typeB=R[F].id.cf.typeA,G.id.cf.indexA=R[F].id.cf.indexB,G.id.cf.indexB=R[F].id.cf.indexA),++E}n.pointCount=E}}}}},{key:"ComputeEdgeSeparation",value:function(t){var e=t;e.type=Wn.e_edgeA,e.index=this.m_front?0:1,e.separation=h;for(var n=0;n<this.m_polygonB.count;++n){var i=Vt.DotVV(this.m_normal,Vt.SubVV(this.m_polygonB.vertices[n],this.m_v1,Vt.s_t0));i<e.separation&&(e.separation=i)}return e}},{key:"ComputePolygonSeparation",value:function(t){var n=t;n.type=Wn.e_unknown,n.index=-1,n.separation=-h;for(var i=e.s_perp.Set(-this.m_normal.y,this.m_normal.x),r=0;r<this.m_polygonB.count;++r){var o=Vt.NegV(this.m_polygonB.normals[r],e.s_n),a=ut(Vt.DotVV(o,Vt.SubVV(this.m_polygonB.vertices[r],this.m_v1,Vt.s_t0)),Vt.DotVV(o,Vt.SubVV(this.m_polygonB.vertices[r],this.m_v2,Vt.s_t0)));if(a>this.m_radius)return n.type=Wn.e_edgeB,n.index=r,n.separation=a,n;if(Vt.DotVV(o,i)>=0){if(Vt.DotVV(Vt.SubVV(o,this.m_upperLimit,Vt.s_t0),this.m_normal)<-g)continue}else if(Vt.DotVV(Vt.SubVV(o,this.m_lowerLimit,Vt.s_t0),this.m_normal)<-g)continue;a>n.separation&&(n.type=Wn.e_edgeB,n.index=r,n.separation=a)}return n}}]),e}();ai.s_edge1=new Vt,ai.s_edge0=new Vt,ai.s_edge2=new Vt,ai.s_ie=Be.MakeArray(2),ai.s_rf=new oi,ai.s_clipPoints1=Be.MakeArray(2),ai.s_clipPoints2=Be.MakeArray(2),ai.s_edgeAxis=new ii,ai.s_polygonAxis=new ii,ai.s_n=new Vt,ai.s_perp=new Vt;var si=new ai;function ui(t,e,n,i,r){si.Collide(t,e,n,i,r)}var li,ci=function t(){u(this,t),this.mass=0,this.center=new Vt(0,0),this.I=0};(li=t.b2ShapeType||(t.b2ShapeType={}))[li.e_unknown=-1]="e_unknown",li[li.e_circleShape=0]="e_circleShape",li[li.e_edgeShape=1]="e_edgeShape",li[li.e_polygonShape=2]="e_polygonShape",li[li.e_chainShape=3]="e_chainShape",li[li.e_shapeTypeCount=4]="e_shapeTypeCount";var hi=function(){function e(n,i){u(this,e),this.m_type=t.b2ShapeType.e_unknown,this.m_radius=0,this.m_type=n,this.m_radius=i}return l(e,[{key:"Copy",value:function(t){return this.m_radius=t.m_radius,this}},{key:"GetType",value:function(){return this.m_type}}]),e}(),fi=function(e){a(i,e);var n=s(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return u(this,i),(e=n.call(this,t.b2ShapeType.e_circleShape,r)).m_p=new Vt,e}return l(i,[{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.m_radius;return this.m_p.Copy(t),this.m_radius=e,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return r(o(i.prototype),"Copy",this).call(this,t),this.m_p.Copy(t.m_p),this}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){var n=Dt.MulXV(t,this.m_p,i.TestPoint_s_center),r=Vt.SubVV(e,n,i.TestPoint_s_d);return Vt.DotVV(r,r)<=mt(this.m_radius)}},{key:"ComputeDistance",value:function(t,e,n,r){var o=Dt.MulXV(t,this.m_p,i.ComputeDistance_s_center);return Vt.SubVV(e,o,n),n.Normalize()-this.m_radius}},{key:"RayCast",value:function(t,e,n,r){var o=Dt.MulXV(n,this.m_p,i.RayCast_s_position),a=Vt.SubVV(e.p1,o,i.RayCast_s_s),s=Vt.DotVV(a,a)-mt(this.m_radius),u=Vt.SubVV(e.p2,e.p1,i.RayCast_s_r),l=Vt.DotVV(a,u),c=Vt.DotVV(u,u),h=l*l-c*s;if(h<0||c<f)return!1;var m=-(l+_t(h));return 0<=m&&m<=e.maxFraction*c&&(m/=c,t.fraction=m,Vt.AddVMulSV(a,m,u,t.normal).SelfNormalize(),!0)}},{key:"ComputeAABB",value:function(t,e,n){var r=Dt.MulXV(e,this.m_p,i.ComputeAABB_s_p);t.lowerBound.Set(r.x-this.m_radius,r.y-this.m_radius),t.upperBound.Set(r.x+this.m_radius,r.y+this.m_radius)}},{key:"ComputeMass",value:function(t,e){var n=mt(this.m_radius);t.mass=e*d*n,t.center.Copy(this.m_p),t.I=t.mass*(.5*n+Vt.DotVV(this.m_p,this.m_p))}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_p),t.m_count=1,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,n,i){var r=Dt.MulXV(n,this.m_p,new Vt),o=-(Vt.DotVV(t,r)-e);if(o<-this.m_radius+f)return 0;if(o>this.m_radius)return i.Copy(r),d*this.m_radius*this.m_radius;var a=this.m_radius*this.m_radius,s=o*o,u=a*(St(o/this.m_radius)+d/2)+o*_t(a-s),l=-2/3*pt(a-s,1.5)/u;return i.x=r.x+t.x*l,i.y=r.y+t.y*l,u}},{key:"Dump",value:function(t){t("    const shape: b2CircleShape = new b2CircleShape();\n"),t("    shape.m_radius = %.15f;\n",this.m_radius),t("    shape.m_p.Set(%.15f, %.15f);\n",this.m_p.x,this.m_p.y)}}]),i}(hi);fi.TestPoint_s_center=new Vt,fi.TestPoint_s_d=new Vt,fi.ComputeDistance_s_center=new Vt,fi.RayCast_s_position=new Vt,fi.RayCast_s_s=new Vt,fi.RayCast_s_r=new Vt,fi.ComputeAABB_s_p=new Vt;var mi=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2ShapeType.e_polygonShape,x)).m_centroid=new Vt(0,0),e.m_vertices=[],e.m_normals=[],e.m_count=0,e}return l(i,[{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){r(o(i.prototype),"Copy",this).call(this,t),this.m_centroid.Copy(t.m_centroid),this.m_count=t.m_count,this.m_vertices=Vt.MakeArray(this.m_count),this.m_normals=Vt.MakeArray(this.m_count);for(var e=0;e<this.m_count;++e)this.m_vertices[e].Copy(t.m_vertices[e]),this.m_normals[e].Copy(t.m_normals[e]);return this}},{key:"GetChildCount",value:function(){return 1}},{key:"Set",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("number"===typeof e[0][0]){var i=e[0];if(i.length%2!==0)throw new Error;return this._Set((function(t){return{x:i[2*t],y:i[2*t+1]}}),i.length/2)}var r=e[0],o=e[1]||r.length;return this._Set((function(t){return r[t]}),o)}},{key:"_Set",value:function(t,e){if(e<3)return this.SetAsBox(1,1);for(var n=e,r=[],o=0;o<n;++o){for(var a=t(o),s=!0,u=0;u<r.length;++u)if(Vt.DistanceSquaredVV(a,r[u])<.5*b*(.5*b)){s=!1;break}s&&r.push(a)}if((n=r.length)<3)return this.SetAsBox(1,1);for(var l=0,c=r[0].x,h=1;h<n;++h){var f=r[h].x;(f>c||f===c&&r[h].y<r[l].y)&&(l=h,c=f)}for(var m=[],d=0,_=l;;){m[d]=_;for(var p=0,v=1;v<n;++v)if(p!==_){var y=Vt.SubVV(r[p],r[m[d]],i.Set_s_r),g=Vt.SubVV(r[v],r[m[d]],i.Set_s_v),x=Vt.CrossVV(y,g);x<0&&(p=v),0===x&&g.LengthSquared()>y.LengthSquared()&&(p=v)}else p=v;if(++d,_=p,p===l)break}this.m_count=d,this.m_vertices=Vt.MakeArray(this.m_count),this.m_normals=Vt.MakeArray(this.m_count);for(var S=0;S<d;++S)this.m_vertices[S].Copy(r[m[S]]);for(var w=0;w<d;++w){var C=this.m_vertices[w],A=this.m_vertices[(w+1)%d],B=Vt.SubVV(A,C,Vt.s_t0);Vt.CrossVOne(B,this.m_normals[w]).SelfNormalize()}return i.ComputeCentroid(this.m_vertices,d,this.m_centroid),this}},{key:"SetAsBox",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.m_count=4,this.m_vertices=Vt.MakeArray(this.m_count),this.m_normals=Vt.MakeArray(this.m_count),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),n){this.m_centroid.Copy(n);var r=new Dt;r.SetPosition(n),r.SetRotationAngle(i);for(var o=0;o<this.m_count;++o)Dt.MulXV(r,this.m_vertices[o],this.m_vertices[o]),jt.MulRV(r.q,this.m_normals[o],this.m_normals[o])}return this}},{key:"TestPoint",value:function(t,e){for(var n=Dt.MulTXV(t,e,i.TestPoint_s_pLocal),r=0;r<this.m_count;++r)if(Vt.DotVV(this.m_normals[r],Vt.SubVV(n,this.m_vertices[r],Vt.s_t0))>0)return!1;return!0}},{key:"ComputeDistance",value:function(t,e,n,r){for(var o=Dt.MulTXV(t,e,i.ComputeDistance_s_pLocal),a=-h,s=i.ComputeDistance_s_normalForMaxDistance.Copy(o),u=0;u<this.m_count;++u){var l=Vt.DotVV(this.m_normals[u],Vt.SubVV(o,this.m_vertices[u],Vt.s_t0));l>a&&(a=l,s.Copy(this.m_normals[u]))}if(a>0){for(var c=i.ComputeDistance_s_minDistance.Copy(s),f=a*a,m=0;m<this.m_count;++m){var d=Vt.SubVV(o,this.m_vertices[m],i.ComputeDistance_s_distance),_=d.LengthSquared();f>_&&(c.Copy(d),f=_)}return jt.MulRV(t.q,c,n),n.Normalize(),Math.sqrt(f)}return jt.MulRV(t.q,s,n),a}},{key:"RayCast",value:function(t,e,n,r){for(var o=Dt.MulTXV(n,e.p1,i.RayCast_s_p1),a=Dt.MulTXV(n,e.p2,i.RayCast_s_p2),s=Vt.SubVV(a,o,i.RayCast_s_d),u=0,l=e.maxFraction,c=-1,h=0;h<this.m_count;++h){var f=Vt.DotVV(this.m_normals[h],Vt.SubVV(this.m_vertices[h],o,Vt.s_t0)),m=Vt.DotVV(this.m_normals[h],s);if(0===m){if(f<0)return!1}else m<0&&f<u*m?(u=f/m,c=h):m>0&&f<l*m&&(l=f/m);if(l<u)return!1}return c>=0&&(t.fraction=u,jt.MulRV(n.q,this.m_normals[c],t.normal),!0)}},{key:"ComputeAABB",value:function(t,e,n){for(var r=Dt.MulXV(e,this.m_vertices[0],t.lowerBound),o=t.upperBound.Copy(r),a=0;a<this.m_count;++a){var s=Dt.MulXV(e,this.m_vertices[a],i.ComputeAABB_s_v);Vt.MinV(s,r,r),Vt.MaxV(s,o,o)}var u=this.m_radius;r.SelfSubXY(u,u),o.SelfAddXY(u,u)}},{key:"ComputeMass",value:function(t,e){for(var n=i.ComputeMass_s_center.SetZero(),r=0,o=0,a=i.ComputeMass_s_s.SetZero(),s=0;s<this.m_count;++s)a.SelfAdd(this.m_vertices[s]);a.SelfMul(1/this.m_count);for(var u=1/3,l=0;l<this.m_count;++l){var c=Vt.SubVV(this.m_vertices[l],a,i.ComputeMass_s_e1),h=Vt.SubVV(this.m_vertices[(l+1)%this.m_count],a,i.ComputeMass_s_e2),f=Vt.CrossVV(c,h),m=.5*f;r+=m,n.SelfAdd(Vt.MulSV(m*u,Vt.AddVV(c,h,Vt.s_t0),Vt.s_t1));var d=c.x,_=c.y,p=h.x,v=h.y;o+=.25*u*f*(d*d+p*d+p*p+(_*_+v*_+v*v))}t.mass=e*r,n.SelfMul(1/r),Vt.AddVV(n,a,t.center),t.I=e*o,t.I+=t.mass*(Vt.DotVV(t.center,t.center)-Vt.DotVV(n,n))}},{key:"Validate",value:function(){for(var t=0;t<this.m_count;++t)for(var e=t,n=(t+1)%this.m_count,r=this.m_vertices[e],o=Vt.SubVV(this.m_vertices[n],r,i.Validate_s_e),a=0;a<this.m_count;++a)if(a!==e&&a!==n){var s=Vt.SubVV(this.m_vertices[a],r,i.Validate_s_v);if(Vt.CrossVV(o,s)<0)return!1}return!0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=this.m_vertices,t.m_count=this.m_count,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,n,r){for(var o=jt.MulTRV(n.q,t,i.ComputeSubmergedArea_s_normalL),a=e-Vt.DotVV(t,n.p),s=[],u=0,l=-1,c=-1,h=!1,m=0;m<this.m_count;++m){s[m]=Vt.DotVV(o,this.m_vertices[m])-a;var d=s[m]<-f;m>0&&(d?h||(l=m-1,u++):h&&(c=m-1,u++)),h=d}switch(u){case 0:if(h){var _=i.ComputeSubmergedArea_s_md;return this.ComputeMass(_,1),Dt.MulXV(n,_.center,r),_.mass}return 0;case 1:-1===l?l=this.m_count-1:c=this.m_count-1}for(var p,v=(l+1)%this.m_count,y=(c+1)%this.m_count,b=(0-s[l])/(s[v]-s[l]),g=(0-s[c])/(s[y]-s[c]),x=i.ComputeSubmergedArea_s_intoVec.Set(this.m_vertices[l].x*(1-b)+this.m_vertices[v].x*b,this.m_vertices[l].y*(1-b)+this.m_vertices[v].y*b),S=i.ComputeSubmergedArea_s_outoVec.Set(this.m_vertices[c].x*(1-g)+this.m_vertices[y].x*g,this.m_vertices[c].y*(1-g)+this.m_vertices[y].y*g),w=0,C=i.ComputeSubmergedArea_s_center.SetZero(),A=this.m_vertices[v],B=v;B!==y;){p=(B=(B+1)%this.m_count)===y?S:this.m_vertices[B];var k=.5*((A.x-x.x)*(p.y-x.y)-(A.y-x.y)*(p.x-x.x));w+=k,C.x+=k*(x.x+A.x+p.x)/3,C.y+=k*(x.y+A.y+p.y)/3,A=p}return C.SelfMul(1/w),Dt.MulXV(n,C,r),w}},{key:"Dump",value:function(t){t("    const shape: b2PolygonShape = new b2PolygonShape();\n"),t("    const vs: b2Vec2[] = [];\n");for(var e=0;e<this.m_count;++e)t("    vs[%d] = new b2Vec2(%.15f, %.15f);\n",e,this.m_vertices[e].x,this.m_vertices[e].y);t("    shape.Set(vs, %d);\n",this.m_count)}}],[{key:"ComputeCentroid",value:function(t,e,n){var r=n;r.SetZero();for(var o=0,a=i.ComputeCentroid_s_pRef.SetZero(),s=1/3,u=0;u<e;++u){var l=a,c=t[u],h=t[(u+1)%e],f=Vt.SubVV(c,l,i.ComputeCentroid_s_e1),m=Vt.SubVV(h,l,i.ComputeCentroid_s_e2),d=.5*Vt.CrossVV(f,m);o+=d,r.x+=d*s*(l.x+c.x+h.x),r.y+=d*s*(l.y+c.y+h.y)}return r.SelfMul(1/o),r}}]),i}(hi);mi.Set_s_r=new Vt,mi.Set_s_v=new Vt,mi.TestPoint_s_pLocal=new Vt,mi.ComputeDistance_s_pLocal=new Vt,mi.ComputeDistance_s_normalForMaxDistance=new Vt,mi.ComputeDistance_s_minDistance=new Vt,mi.ComputeDistance_s_distance=new Vt,mi.RayCast_s_p1=new Vt,mi.RayCast_s_p2=new Vt,mi.RayCast_s_d=new Vt,mi.ComputeAABB_s_v=new Vt,mi.ComputeMass_s_center=new Vt,mi.ComputeMass_s_s=new Vt,mi.ComputeMass_s_e1=new Vt,mi.ComputeMass_s_e2=new Vt,mi.Validate_s_e=new Vt,mi.Validate_s_v=new Vt,mi.ComputeSubmergedArea_s_normalL=new Vt,mi.ComputeSubmergedArea_s_md=new ci,mi.ComputeSubmergedArea_s_intoVec=new Vt,mi.ComputeSubmergedArea_s_outoVec=new Vt,mi.ComputeSubmergedArea_s_center=new Vt,mi.ComputeCentroid_s_pRef=new Vt,mi.ComputeCentroid_s_e1=new Vt,mi.ComputeCentroid_s_e2=new Vt;var di=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2ShapeType.e_edgeShape,x)).m_vertex1=new Vt,e.m_vertex2=new Vt,e.m_vertex0=new Vt,e.m_vertex3=new Vt,e.m_hasVertex0=!1,e.m_hasVertex3=!1,e}return l(i,[{key:"Set",value:function(t,e){return this.m_vertex1.Copy(t),this.m_vertex2.Copy(e),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return r(o(i.prototype),"Copy",this).call(this,t),this.m_vertex1.Copy(t.m_vertex1),this.m_vertex2.Copy(t.m_vertex2),this.m_vertex0.Copy(t.m_vertex0),this.m_vertex3.Copy(t.m_vertex3),this.m_hasVertex0=t.m_hasVertex0,this.m_hasVertex3=t.m_hasVertex3,this}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){return!1}},{key:"ComputeDistance",value:function(t,e,n,r){var o=Dt.MulXV(t,this.m_vertex1,i.ComputeDistance_s_v1),a=Dt.MulXV(t,this.m_vertex2,i.ComputeDistance_s_v2),s=Vt.SubVV(e,o,i.ComputeDistance_s_d),u=Vt.SubVV(a,o,i.ComputeDistance_s_s),l=Vt.DotVV(s,u);if(l>0){var c=Vt.DotVV(u,u);l>c?Vt.SubVV(e,a,s):s.SelfMulSub(l/c,u)}return n.Copy(s),n.Normalize()}},{key:"RayCast",value:function(t,e,n,r){var o=Dt.MulTXV(n,e.p1,i.RayCast_s_p1),a=Dt.MulTXV(n,e.p2,i.RayCast_s_p2),s=Vt.SubVV(a,o,i.RayCast_s_d),u=this.m_vertex1,l=this.m_vertex2,c=Vt.SubVV(l,u,i.RayCast_s_e),h=t.normal.Set(c.y,-c.x).SelfNormalize(),f=Vt.DotVV(h,Vt.SubVV(u,o,Vt.s_t0)),m=Vt.DotVV(h,s);if(0===m)return!1;var d=f/m;if(d<0||e.maxFraction<d)return!1;var _=Vt.AddVMulSV(o,d,s,i.RayCast_s_q),p=Vt.SubVV(l,u,i.RayCast_s_r),v=Vt.DotVV(p,p);if(0===v)return!1;var y=Vt.DotVV(Vt.SubVV(_,u,Vt.s_t0),p)/v;return!(y<0||1<y)&&(t.fraction=d,jt.MulRV(n.q,t.normal,t.normal),f>0&&t.normal.SelfNeg(),!0)}},{key:"ComputeAABB",value:function(t,e,n){var r=Dt.MulXV(e,this.m_vertex1,i.ComputeAABB_s_v1),o=Dt.MulXV(e,this.m_vertex2,i.ComputeAABB_s_v2);Vt.MinV(r,o,t.lowerBound),Vt.MaxV(r,o,t.upperBound);var a=this.m_radius;t.lowerBound.SelfSubXY(a,a),t.upperBound.SelfAddXY(a,a)}},{key:"ComputeMass",value:function(t,e){t.mass=0,Vt.MidVV(this.m_vertex1,this.m_vertex2,t.center),t.I=0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_vertex1),t.m_vertices[1].Copy(this.m_vertex2),t.m_count=2,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,n,i){return i.SetZero(),0}},{key:"Dump",value:function(t){t("    const shape: b2EdgeShape = new b2EdgeShape();\n"),t("    shape.m_radius = %.15f;\n",this.m_radius),t("    shape.m_vertex0.Set(%.15f, %.15f);\n",this.m_vertex0.x,this.m_vertex0.y),t("    shape.m_vertex1.Set(%.15f, %.15f);\n",this.m_vertex1.x,this.m_vertex1.y),t("    shape.m_vertex2.Set(%.15f, %.15f);\n",this.m_vertex2.x,this.m_vertex2.y),t("    shape.m_vertex3.Set(%.15f, %.15f);\n",this.m_vertex3.x,this.m_vertex3.y),t("    shape.m_hasVertex0 = %s;\n",this.m_hasVertex0),t("    shape.m_hasVertex3 = %s;\n",this.m_hasVertex3)}}]),i}(hi);di.ComputeDistance_s_v1=new Vt,di.ComputeDistance_s_v2=new Vt,di.ComputeDistance_s_d=new Vt,di.ComputeDistance_s_s=new Vt,di.RayCast_s_p1=new Vt,di.RayCast_s_p2=new Vt,di.RayCast_s_d=new Vt,di.RayCast_s_e=new Vt,di.RayCast_s_q=new Vt,di.RayCast_s_r=new Vt,di.ComputeAABB_s_v1=new Vt,di.ComputeAABB_s_v2=new Vt;var _i=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2ShapeType.e_chainShape,x)).m_vertices=[],e.m_count=0,e.m_prevVertex=new Vt,e.m_nextVertex=new Vt,e.m_hasPrevVertex=!1,e.m_hasNextVertex=!1,e}return l(i,[{key:"CreateLoop",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("number"===typeof e[0][0]){var i=e[0];if(i.length%2!==0)throw new Error;return this._CreateLoop((function(t){return{x:i[2*t],y:i[2*t+1]}}),i.length/2)}var r=e[0],o=e[1]||r.length;return this._CreateLoop((function(t){return r[t]}),o)}},{key:"_CreateLoop",value:function(t,e){if(e<3)return this;this.m_count=e+1,this.m_vertices=Vt.MakeArray(this.m_count);for(var n=0;n<e;++n)this.m_vertices[n].Copy(t(n));return this.m_vertices[e].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this}},{key:"CreateChain",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("number"===typeof e[0][0]){var i=e[0];if(i.length%2!==0)throw new Error;return this._CreateChain((function(t){return{x:i[2*t],y:i[2*t+1]}}),i.length/2)}var r=e[0],o=e[1]||r.length;return this._CreateChain((function(t){return r[t]}),o)}},{key:"_CreateChain",value:function(t,e){this.m_count=e,this.m_vertices=Vt.MakeArray(e);for(var n=0;n<e;++n)this.m_vertices[n].Copy(t(n));return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this}},{key:"SetPrevVertex",value:function(t){return this.m_prevVertex.Copy(t),this.m_hasPrevVertex=!0,this}},{key:"SetNextVertex",value:function(t){return this.m_nextVertex.Copy(t),this.m_hasNextVertex=!0,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return r(o(i.prototype),"Copy",this).call(this,t),this._CreateChain((function(e){return t.m_vertices[e]}),t.m_count),this.m_prevVertex.Copy(t.m_prevVertex),this.m_nextVertex.Copy(t.m_nextVertex),this.m_hasPrevVertex=t.m_hasPrevVertex,this.m_hasNextVertex=t.m_hasNextVertex,this}},{key:"GetChildCount",value:function(){return this.m_count-1}},{key:"GetChildEdge",value:function(t,e){t.m_radius=this.m_radius,t.m_vertex1.Copy(this.m_vertices[e]),t.m_vertex2.Copy(this.m_vertices[e+1]),e>0?(t.m_vertex0.Copy(this.m_vertices[e-1]),t.m_hasVertex0=!0):(t.m_vertex0.Copy(this.m_prevVertex),t.m_hasVertex0=this.m_hasPrevVertex),e<this.m_count-2?(t.m_vertex3.Copy(this.m_vertices[e+2]),t.m_hasVertex3=!0):(t.m_vertex3.Copy(this.m_nextVertex),t.m_hasVertex3=this.m_hasNextVertex)}},{key:"TestPoint",value:function(t,e){return!1}},{key:"ComputeDistance",value:function(t,e,n,r){var o=i.ComputeDistance_s_edgeShape;return this.GetChildEdge(o,r),o.ComputeDistance(t,e,n,0)}},{key:"RayCast",value:function(t,e,n,r){var o=i.RayCast_s_edgeShape;return o.m_vertex1.Copy(this.m_vertices[r]),o.m_vertex2.Copy(this.m_vertices[(r+1)%this.m_count]),o.RayCast(t,e,n,0)}},{key:"ComputeAABB",value:function(t,e,n){var r=this.m_vertices[n],o=this.m_vertices[(n+1)%this.m_count],a=Dt.MulXV(e,r,i.ComputeAABB_s_v1),s=Dt.MulXV(e,o,i.ComputeAABB_s_v2);Vt.MinV(a,s,t.lowerBound),Vt.MaxV(a,s,t.upperBound)}},{key:"ComputeMass",value:function(t,e){t.mass=0,t.center.SetZero(),t.I=0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_vertices[e]),e+1<this.m_count?t.m_vertices[1].Copy(this.m_vertices[e+1]):t.m_vertices[1].Copy(this.m_vertices[0]),t.m_count=2,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,n,i){return i.SetZero(),0}},{key:"Dump",value:function(t){t("    const shape: b2ChainShape = new b2ChainShape();\n"),t("    const vs: b2Vec2[] = [];\n");for(var e=0;e<this.m_count;++e)t("    vs[%d] = new bVec2(%.15f, %.15f);\n",e,this.m_vertices[e].x,this.m_vertices[e].y);t("    shape.CreateChain(vs, %d);\n",this.m_count),t("    shape.m_prevVertex.Set(%.15f, %.15f);\n",this.m_prevVertex.x,this.m_prevVertex.y),t("    shape.m_nextVertex.Set(%.15f, %.15f);\n",this.m_nextVertex.x,this.m_nextVertex.y),t("    shape.m_hasPrevVertex = %s;\n",this.m_hasPrevVertex?"true":"false"),t("    shape.m_hasNextVertex = %s;\n",this.m_hasNextVertex?"true":"false")}}]),i}(hi);_i.ComputeDistance_s_edgeShape=new di,_i.RayCast_s_edgeShape=new di,_i.ComputeAABB_s_v1=new Vt,_i.ComputeAABB_s_v2=new Vt;var pi=function(){function t(){u(this,t),this.categoryBits=1,this.maskBits=65535,this.groupIndex=0}return l(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.categoryBits=t.categoryBits,this.maskBits=t.maskBits,this.groupIndex=t.groupIndex||0,this}}]),t}();pi.DEFAULT=new pi;var vi=function t(){u(this,t),this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.isSensor=!1,this.filter=new pi},yi=function(){function t(e,n){u(this,t),this.aabb=new Pe,this.childIndex=0,this.fixture=e,this.childIndex=n,this.fixture.m_shape.ComputeAABB(this.aabb,this.fixture.m_body.GetTransform(),n),this.treeNode=this.fixture.m_body.m_world.m_contactManager.m_broadPhase.CreateProxy(this.aabb,this)}return l(t,[{key:"Reset",value:function(){this.fixture.m_body.m_world.m_contactManager.m_broadPhase.DestroyProxy(this.treeNode)}},{key:"Touch",value:function(){this.fixture.m_body.m_world.m_contactManager.m_broadPhase.TouchProxy(this.treeNode)}},{key:"Synchronize",value:function(e,n,i){if(e===n)this.fixture.m_shape.ComputeAABB(this.aabb,e,this.childIndex),this.fixture.m_body.m_world.m_contactManager.m_broadPhase.MoveProxy(this.treeNode,this.aabb,i);else{var r=t.Synchronize_s_aabb1,o=t.Synchronize_s_aabb2;this.fixture.m_shape.ComputeAABB(r,e,this.childIndex),this.fixture.m_shape.ComputeAABB(o,n,this.childIndex),this.aabb.Combine2(r,o),this.fixture.m_body.m_world.m_contactManager.m_broadPhase.MoveProxy(this.treeNode,this.aabb,i)}}}]),t}();yi.Synchronize_s_aabb1=new Pe,yi.Synchronize_s_aabb2=new Pe;var bi,gi=function(){function t(e,i){u(this,t),this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_proxies=[],this.m_filter=new pi,this.m_isSensor=!1,this.m_userData=null,this.m_body=e,this.m_shape=i.shape.Clone(),this.m_userData=n(i.userData,null),this.m_friction=n(i.friction,.2),this.m_restitution=n(i.restitution,0),this.m_filter.Copy(n(i.filter,pi.DEFAULT)),this.m_isSensor=n(i.isSensor,!1),this.m_density=n(i.density,0)}return l(t,[{key:"Reset",value:function(){}},{key:"GetType",value:function(){return this.m_shape.GetType()}},{key:"GetShape",value:function(){return this.m_shape}},{key:"SetSensor",value:function(t){t!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=t)}},{key:"IsSensor",value:function(){return this.m_isSensor}},{key:"SetFilterData",value:function(t){this.m_filter.Copy(t),this.Refilter()}},{key:"GetFilterData",value:function(){return this.m_filter}},{key:"Refilter",value:function(){for(var t=this.m_body.GetContactList();t;){var e=t.contact,n=e.GetFixtureA(),i=e.GetFixtureB();n!==this&&i!==this||e.FlagForFiltering(),t=t.next}this.TouchProxies()}},{key:"GetBody",value:function(){return this.m_body}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"TestPoint",value:function(t){return this.m_shape.TestPoint(this.m_body.GetTransform(),t)}},{key:"ComputeDistance",value:function(t,e,n){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),t,e,n)}},{key:"RayCast",value:function(t,e,n){return this.m_shape.RayCast(t,e,this.m_body.GetTransform(),n)}},{key:"GetMassData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ci;return this.m_shape.ComputeMass(t,this.m_density),t}},{key:"SetDensity",value:function(t){this.m_density=t}},{key:"GetDensity",value:function(){return this.m_density}},{key:"GetFriction",value:function(){return this.m_friction}},{key:"SetFriction",value:function(t){this.m_friction=t}},{key:"GetRestitution",value:function(){return this.m_restitution}},{key:"SetRestitution",value:function(t){this.m_restitution=t}},{key:"GetAABB",value:function(t){return this.m_proxies[t].aabb}},{key:"Dump",value:function(t,e){t("    const fd: b2FixtureDef = new b2FixtureDef();\n"),t("    fd.friction = %.15f;\n",this.m_friction),t("    fd.restitution = %.15f;\n",this.m_restitution),t("    fd.density = %.15f;\n",this.m_density),t("    fd.isSensor = %s;\n",this.m_isSensor?"true":"false"),t("    fd.filter.categoryBits = %d;\n",this.m_filter.categoryBits),t("    fd.filter.maskBits = %d;\n",this.m_filter.maskBits),t("    fd.filter.groupIndex = %d;\n",this.m_filter.groupIndex),this.m_shape.Dump(t),t("\n"),t("    fd.shape = shape;\n"),t("\n"),t("    bodies[%d].CreateFixture(fd);\n",e)}},{key:"CreateProxies",value:function(){if(0!==this.m_proxies.length)throw new Error;for(var t=0;t<this.m_shape.GetChildCount();++t)this.m_proxies[t]=new yi(this,t)}},{key:"DestroyProxies",value:function(){var t,e=i(this.m_proxies);try{for(e.s();!(t=e.n()).done;)t.value.Reset()}catch(n){e.e(n)}finally{e.f()}this.m_proxies.length=0}},{key:"TouchProxies",value:function(){var t,e=i(this.m_proxies);try{for(e.s();!(t=e.n()).done;)t.value.Touch()}catch(n){e.e(n)}finally{e.f()}}},{key:"SynchronizeProxies",value:function(t,e,n){var r,o=i(this.m_proxies);try{for(o.s();!(r=o.n()).done;)r.value.Synchronize(t,e,n)}catch(a){o.e(a)}finally{o.f()}}},{key:"m_proxyCount",get:function(){return this.m_proxies.length}}]),t}();(bi=t.b2BodyType||(t.b2BodyType={}))[bi.b2_unknown=-1]="b2_unknown",bi[bi.b2_staticBody=0]="b2_staticBody",bi[bi.b2_kinematicBody=1]="b2_kinematicBody",bi[bi.b2_dynamicBody=2]="b2_dynamicBody";var xi,Si,wi=function e(){u(this,e),this.type=t.b2BodyType.b2_staticBody,this.position=new Vt(0,0),this.angle=0,this.linearVelocity=new Vt(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.active=!0,this.userData=null,this.gravityScale=1},Ci=function(){function e(i,r){u(this,e),this.m_type=t.b2BodyType.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_activeFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new Dt,this.m_xf0=new Dt,this.m_sweep=new Lt,this.m_linearVelocity=new Vt,this.m_angularVelocity=0,this.m_force=new Vt,this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData=null,this.m_controllerList=null,this.m_controllerCount=0,this.m_bulletFlag=n(i.bullet,!1),this.m_fixedRotationFlag=n(i.fixedRotation,!1),this.m_autoSleepFlag=n(i.allowSleep,!0),this.m_awakeFlag=n(i.awake,!0),this.m_activeFlag=n(i.active,!0),this.m_world=r,this.m_xf.p.Copy(n(i.position,Vt.ZERO)),this.m_xf.q.SetAngle(n(i.angle,0)),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(n(i.linearVelocity,Vt.ZERO)),this.m_angularVelocity=n(i.angularVelocity,0),this.m_linearDamping=n(i.linearDamping,0),this.m_angularDamping=n(i.angularDamping,0),this.m_gravityScale=n(i.gravityScale,1),this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=n(i.type,t.b2BodyType.b2_staticBody),i.type===t.b2BodyType.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_userData=i.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0}return l(e,[{key:"CreateFixture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t instanceof hi?this.CreateFixtureShapeDensity(t,e):this.CreateFixtureDef(t)}},{key:"CreateFixtureDef",value:function(t){if(this.m_world.IsLocked())throw new Error;var e=new gi(this,t);return this.m_activeFlag&&e.CreateProxies(),e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_density>0&&this.ResetMassData(),this.m_world.m_newFixture=!0,e}},{key:"CreateFixtureShapeDensity",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.CreateFixtureShapeDensity_s_def;return i.shape=t,i.density=n,this.CreateFixtureDef(i)}},{key:"DestroyFixture",value:function(t){if(this.m_world.IsLocked())throw new Error;for(var e=this.m_fixtureList,n=null;null!==e;){if(e===t){n?n.m_next=t.m_next:this.m_fixtureList=t.m_next;break}n=e,e=e.m_next}for(var i=this.m_contactList;i;){var r=i.contact;i=i.next;var o=r.GetFixtureA(),a=r.GetFixtureB();t!==o&&t!==a||this.m_world.m_contactManager.Destroy(r)}this.m_activeFlag&&t.DestroyProxies(),t.m_next=null,t.Reset(),--this.m_fixtureCount,this.ResetMassData()}},{key:"SetTransformVec",value:function(t,e){this.SetTransformXY(t.x,t.y,e)}},{key:"SetTransformXY",value:function(t,e,n){if(this.m_world.IsLocked())throw new Error;this.m_xf.q.SetAngle(n),this.m_xf.p.Set(t,e),this.m_xf0.Copy(this.m_xf),Dt.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=n,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=n;for(var i=this.m_fixtureList;i;i=i.m_next)i.SynchronizeProxies(this.m_xf,this.m_xf,Vt.ZERO);this.m_world.m_contactManager.FindNewContacts()}},{key:"SetTransform",value:function(t){this.SetTransformVec(t.p,t.GetAngle())}},{key:"GetTransform",value:function(){return this.m_xf}},{key:"GetPosition",value:function(){return this.m_xf.p}},{key:"SetPosition",value:function(t){this.SetTransformVec(t,this.GetAngle())}},{key:"SetPositionXY",value:function(t,e){this.SetTransformXY(t,e,this.GetAngle())}},{key:"GetAngle",value:function(){return this.m_sweep.a}},{key:"SetAngle",value:function(t){this.SetTransformVec(this.GetPosition(),t)}},{key:"GetWorldCenter",value:function(){return this.m_sweep.c}},{key:"GetLocalCenter",value:function(){return this.m_sweep.localCenter}},{key:"SetLinearVelocity",value:function(e){this.m_type!==t.b2BodyType.b2_staticBody&&(Vt.DotVV(e,e)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(e))}},{key:"GetLinearVelocity",value:function(){return this.m_linearVelocity}},{key:"SetAngularVelocity",value:function(e){this.m_type!==t.b2BodyType.b2_staticBody&&(e*e>0&&this.SetAwake(!0),this.m_angularVelocity=e)}},{key:"GetAngularVelocity",value:function(){return this.m_angularVelocity}},{key:"GetDefinition",value:function(t){return t.type=this.GetType(),t.allowSleep=this.m_autoSleepFlag,t.angle=this.GetAngle(),t.angularDamping=this.m_angularDamping,t.gravityScale=this.m_gravityScale,t.angularVelocity=this.m_angularVelocity,t.fixedRotation=this.m_fixedRotationFlag,t.bullet=this.m_bulletFlag,t.awake=this.m_awakeFlag,t.linearDamping=this.m_linearDamping,t.linearVelocity.Copy(this.GetLinearVelocity()),t.position.Copy(this.GetPosition()),t.userData=this.GetUserData(),t}},{key:"ApplyForce",value:function(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=e.x,this.m_force.y+=e.y,this.m_torque+=(n.x-this.m_sweep.c.x)*e.y-(n.y-this.m_sweep.c.y)*e.x))}},{key:"ApplyForceToCenter",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=e.x,this.m_force.y+=e.y))}},{key:"ApplyTorque",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=e))}},{key:"ApplyLinearImpulse",value:function(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*e.x,this.m_linearVelocity.y+=this.m_invMass*e.y,this.m_angularVelocity+=this.m_invI*((n.x-this.m_sweep.c.x)*e.y-(n.y-this.m_sweep.c.y)*e.x)))}},{key:"ApplyLinearImpulseToCenter",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*e.x,this.m_linearVelocity.y+=this.m_invMass*e.y))}},{key:"ApplyAngularImpulse",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*e))}},{key:"GetMass",value:function(){return this.m_mass}},{key:"GetInertia",value:function(){return this.m_I+this.m_mass*Vt.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter)}},{key:"GetMassData",value:function(t){return t.mass=this.m_mass,t.I=this.m_I+this.m_mass*Vt.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter),t.center.Copy(this.m_sweep.localCenter),t}},{key:"SetMassData",value:function(n){if(this.m_world.IsLocked())throw new Error;if(this.m_type===t.b2BodyType.b2_dynamicBody){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=n.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,n.I>0&&!this.m_fixedRotationFlag&&(this.m_I=n.I-this.m_mass*Vt.DotVV(n.center,n.center),this.m_invI=1/this.m_I);var i=e.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(n.center),Dt.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),Vt.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,Vt.SubVV(this.m_sweep.c,i,Vt.s_t0),this.m_linearVelocity)}}},{key:"ResetMassData",value:function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===t.b2BodyType.b2_staticBody||this.m_type===t.b2BodyType.b2_kinematicBody)return this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),void(this.m_sweep.a0=this.m_sweep.a);for(var n=e.ResetMassData_s_localCenter.SetZero(),i=this.m_fixtureList;i;i=i.m_next)if(0!==i.m_density){var r=i.GetMassData(e.ResetMassData_s_massData);this.m_mass+=r.mass,n.x+=r.center.x*r.mass,n.y+=r.center.y*r.mass,this.m_I+=r.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,n.x*=this.m_invMass,n.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*Vt.DotVV(n,n),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var o=e.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(n),Dt.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),Vt.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,Vt.SubVV(this.m_sweep.c,o,Vt.s_t0),this.m_linearVelocity)}},{key:"GetWorldPoint",value:function(t,e){return Dt.MulXV(this.m_xf,t,e)}},{key:"GetWorldVector",value:function(t,e){return jt.MulRV(this.m_xf.q,t,e)}},{key:"GetLocalPoint",value:function(t,e){return Dt.MulTXV(this.m_xf,t,e)}},{key:"GetLocalVector",value:function(t,e){return jt.MulTRV(this.m_xf.q,t,e)}},{key:"GetLinearVelocityFromWorldPoint",value:function(t,e){return Vt.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,Vt.SubVV(t,this.m_sweep.c,Vt.s_t0),e)}},{key:"GetLinearVelocityFromLocalPoint",value:function(t,e){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(t,e),e)}},{key:"GetLinearDamping",value:function(){return this.m_linearDamping}},{key:"SetLinearDamping",value:function(t){this.m_linearDamping=t}},{key:"GetAngularDamping",value:function(){return this.m_angularDamping}},{key:"SetAngularDamping",value:function(t){this.m_angularDamping=t}},{key:"GetGravityScale",value:function(){return this.m_gravityScale}},{key:"SetGravityScale",value:function(t){this.m_gravityScale=t}},{key:"SetType",value:function(e){if(this.m_world.IsLocked())throw new Error;if(this.m_type!==e){this.m_type=e,this.ResetMassData(),this.m_type===t.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var n=this.m_contactList;n;){var i=n;n=n.next,this.m_world.m_contactManager.Destroy(i.contact)}this.m_contactList=null;for(var r=this.m_fixtureList;r;r=r.m_next)r.TouchProxies()}}},{key:"GetType",value:function(){return this.m_type}},{key:"SetBullet",value:function(t){this.m_bulletFlag=t}},{key:"IsBullet",value:function(){return this.m_bulletFlag}},{key:"SetSleepingAllowed",value:function(t){this.m_autoSleepFlag=t,t||this.SetAwake(!0)}},{key:"IsSleepingAllowed",value:function(){return this.m_autoSleepFlag}},{key:"SetAwake",value:function(t){t?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)}},{key:"IsAwake",value:function(){return this.m_awakeFlag}},{key:"SetActive",value:function(t){if(this.m_world.IsLocked())throw new Error;if(t!==this.IsActive())if(this.m_activeFlag=t,t)for(var e=this.m_fixtureList;e;e=e.m_next)e.CreateProxies();else{for(var n=this.m_fixtureList;n;n=n.m_next)n.DestroyProxies();for(var i=this.m_contactList;i;){var r=i;i=i.next,this.m_world.m_contactManager.Destroy(r.contact)}this.m_contactList=null}}},{key:"IsActive",value:function(){return this.m_activeFlag}},{key:"SetFixedRotation",value:function(t){this.m_fixedRotationFlag!==t&&(this.m_fixedRotationFlag=t,this.m_angularVelocity=0,this.ResetMassData())}},{key:"IsFixedRotation",value:function(){return this.m_fixedRotationFlag}},{key:"GetFixtureList",value:function(){return this.m_fixtureList}},{key:"GetJointList",value:function(){return this.m_jointList}},{key:"GetContactList",value:function(){return this.m_contactList}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"GetWorld",value:function(){return this.m_world}},{key:"Dump",value:function(e){var n=this.m_islandIndex;e("{\n"),e("  const bd: b2BodyDef = new b2BodyDef();\n");var i="";switch(this.m_type){case t.b2BodyType.b2_staticBody:i="b2BodyType.b2_staticBody";break;case t.b2BodyType.b2_kinematicBody:i="b2BodyType.b2_kinematicBody";break;case t.b2BodyType.b2_dynamicBody:i="b2BodyType.b2_dynamicBody"}e("  bd.type = %s;\n",i),e("  bd.position.Set(%.15f, %.15f);\n",this.m_xf.p.x,this.m_xf.p.y),e("  bd.angle = %.15f;\n",this.m_sweep.a),e("  bd.linearVelocity.Set(%.15f, %.15f);\n",this.m_linearVelocity.x,this.m_linearVelocity.y),e("  bd.angularVelocity = %.15f;\n",this.m_angularVelocity),e("  bd.linearDamping = %.15f;\n",this.m_linearDamping),e("  bd.angularDamping = %.15f;\n",this.m_angularDamping),e("  bd.allowSleep = %s;\n",this.m_autoSleepFlag?"true":"false"),e("  bd.awake = %s;\n",this.m_awakeFlag?"true":"false"),e("  bd.fixedRotation = %s;\n",this.m_fixedRotationFlag?"true":"false"),e("  bd.bullet = %s;\n",this.m_bulletFlag?"true":"false"),e("  bd.active = %s;\n",this.m_activeFlag?"true":"false"),e("  bd.gravityScale = %.15f;\n",this.m_gravityScale),e("\n"),e("  bodies[%d] = this.m_world.CreateBody(bd);\n",this.m_islandIndex),e("\n");for(var r=this.m_fixtureList;r;r=r.m_next)e("  {\n"),r.Dump(e,n),e("  }\n");e("}\n")}},{key:"SynchronizeFixtures",value:function(){var t=e.SynchronizeFixtures_s_xf1;t.q.SetAngle(this.m_sweep.a0),jt.MulRV(t.q,this.m_sweep.localCenter,t.p),Vt.SubVV(this.m_sweep.c0,t.p,t.p);for(var n=Vt.SubVV(this.m_sweep.c,this.m_sweep.c0,e.SynchronizeFixtures_s_displacement),i=this.m_fixtureList;i;i=i.m_next)i.SynchronizeProxies(t,this.m_xf,n)}},{key:"SynchronizeTransform",value:function(){this.m_xf.q.SetAngle(this.m_sweep.a),jt.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),Vt.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}},{key:"ShouldCollide",value:function(e){return(this.m_type!==t.b2BodyType.b2_staticBody||e.m_type!==t.b2BodyType.b2_staticBody)&&this.ShouldCollideConnected(e)}},{key:"ShouldCollideConnected",value:function(t){for(var e=this.m_jointList;e;e=e.next)if(e.other===t&&!e.joint.m_collideConnected)return!1;return!0}},{key:"Advance",value:function(t){this.m_sweep.Advance(t),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),jt.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),Vt.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}},{key:"GetControllerList",value:function(){return this.m_controllerList}},{key:"GetControllerCount",value:function(){return this.m_controllerCount}}]),e}();Ci.CreateFixtureShapeDensity_s_def=new vi,Ci.SetMassData_s_oldCenter=new Vt,Ci.ResetMassData_s_localCenter=new Vt,Ci.ResetMassData_s_oldCenter=new Vt,Ci.ResetMassData_s_massData=new ci,Ci.SynchronizeFixtures_s_xf1=new Dt,Ci.SynchronizeFixtures_s_displacement=new Vt,(Si=t.b2JointType||(t.b2JointType={}))[Si.e_unknownJoint=0]="e_unknownJoint",Si[Si.e_revoluteJoint=1]="e_revoluteJoint",Si[Si.e_prismaticJoint=2]="e_prismaticJoint",Si[Si.e_distanceJoint=3]="e_distanceJoint",Si[Si.e_pulleyJoint=4]="e_pulleyJoint",Si[Si.e_mouseJoint=5]="e_mouseJoint",Si[Si.e_gearJoint=6]="e_gearJoint",Si[Si.e_wheelJoint=7]="e_wheelJoint",Si[Si.e_weldJoint=8]="e_weldJoint",Si[Si.e_frictionJoint=9]="e_frictionJoint",Si[Si.e_ropeJoint=10]="e_ropeJoint",Si[Si.e_motorJoint=11]="e_motorJoint",Si[Si.e_areaJoint=12]="e_areaJoint",(xi=t.b2LimitState||(t.b2LimitState={}))[xi.e_inactiveLimit=0]="e_inactiveLimit",xi[xi.e_atLowerLimit=1]="e_atLowerLimit",xi[xi.e_atUpperLimit=2]="e_atUpperLimit",xi[xi.e_equalLimits=3]="e_equalLimits";var Ai=function(){function t(){u(this,t),this.linear=new Vt,this.angularA=0,this.angularB=0}return l(t,[{key:"SetZero",value:function(){return this.linear.SetZero(),this.angularA=0,this.angularB=0,this}},{key:"Set",value:function(t,e,n){return this.linear.Copy(t),this.angularA=e,this.angularB=n,this}}]),t}(),Bi=function(){function t(e){u(this,t),this._other=null,this.prev=null,this.next=null,this.joint=e}return l(t,[{key:"Reset",value:function(){this._other=null,this.prev=null,this.next=null}},{key:"other",get:function(){if(null===this._other)throw new Error;return this._other},set:function(t){if(null!==this._other)throw new Error;this._other=t}}]),t}(),ki=function e(n){u(this,e),this.type=t.b2JointType.e_unknownJoint,this.userData=null,this.collideConnected=!1,this.type=n},Vi=function(){function e(i){u(this,e),this.m_type=t.b2JointType.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_edgeA=new Bi(this),this.m_edgeB=new Bi(this),this.m_index=0,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData=null,this.m_type=i.type,this.m_edgeA.other=i.bodyB,this.m_edgeB.other=i.bodyA,this.m_bodyA=i.bodyA,this.m_bodyB=i.bodyB,this.m_collideConnected=n(i.collideConnected,!1),this.m_userData=n(i.userData,null)}return l(e,[{key:"GetType",value:function(){return this.m_type}},{key:"GetBodyA",value:function(){return this.m_bodyA}},{key:"GetBodyB",value:function(){return this.m_bodyB}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"IsActive",value:function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()}},{key:"GetCollideConnected",value:function(){return this.m_collideConnected}},{key:"Dump",value:function(t){t("// Dump is not supported for this joint type.\n")}},{key:"ShiftOrigin",value:function(t){}}]),e}(),Pi=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_distanceJoint)).localAnchorA=new Vt,e.localAnchorB=new Vt,e.length=1,e.frequencyHz=0,e.dampingRatio=0,e}return l(i,[{key:"Initialize",value:function(t,e,n,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(n,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.length=Vt.DistanceVV(n,i),this.frequencyHz=0,this.dampingRatio=0}}]),i}(ki),Mi=function(t){a(i,t);var e=s(i);function i(t){var r;return u(this,i),(r=e.call(this,t)).m_frequencyHz=0,r.m_dampingRatio=0,r.m_bias=0,r.m_localAnchorA=new Vt,r.m_localAnchorB=new Vt,r.m_gamma=0,r.m_impulse=0,r.m_length=0,r.m_indexA=0,r.m_indexB=0,r.m_u=new Vt,r.m_rA=new Vt,r.m_rB=new Vt,r.m_localCenterA=new Vt,r.m_localCenterB=new Vt,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_mass=0,r.m_qA=new jt,r.m_qB=new jt,r.m_lalcA=new Vt,r.m_lalcB=new Vt,r.m_frequencyHz=n(t.frequencyHz,0),r.m_dampingRatio=n(t.dampingRatio,0),r.m_localAnchorA.Copy(t.localAnchorA),r.m_localAnchorB.Copy(t.localAnchorB),r.m_length=t.length,r}return l(i,[{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse*this.m_u.x,e.y=t*this.m_impulse*this.m_u.y,e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetLength",value:function(t){this.m_length=t}},{key:"Length",value:function(){return this.m_length}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2DistanceJointDef = new b2DistanceJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.length = %.15f;\n",this.m_length),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.velocities[this.m_indexA].v,o=t.velocities[this.m_indexA].w,a=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,u=t.velocities[this.m_indexB].v,l=t.velocities[this.m_indexB].w,c=this.m_qA.SetAngle(n),h=this.m_qB.SetAngle(s);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),jt.MulRV(c,this.m_lalcA,this.m_rA),Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),jt.MulRV(h,this.m_lalcB,this.m_rB),this.m_u.x=a.x+this.m_rB.x-e.x-this.m_rA.x,this.m_u.y=a.y+this.m_rB.y-e.y-this.m_rA.y;var f=this.m_u.Length();f>b?this.m_u.SelfMul(1/f):this.m_u.SetZero();var m=Vt.CrossVV(this.m_rA,this.m_u),_=Vt.CrossVV(this.m_rB,this.m_u),p=this.m_invMassA+this.m_invIA*m*m+this.m_invMassB+this.m_invIB*_*_;if(this.m_mass=0!==p?1/p:0,this.m_frequencyHz>0){var v=f-this.m_length,y=2*d*this.m_frequencyHz,g=2*this.m_mass*this.m_dampingRatio*y,x=this.m_mass*y*y,S=t.step.dt;this.m_gamma=S*(g+S*x),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=v*S*x*this.m_gamma,p+=this.m_gamma,this.m_mass=0!==p?1/p:0}else this.m_gamma=0,this.m_bias=0;if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;var w=Vt.MulSV(this.m_impulse,this.m_u,i.InitVelocityConstraints_s_P);r.SelfMulSub(this.m_invMassA,w),o-=this.m_invIA*Vt.CrossVV(this.m_rA,w),u.SelfMulAdd(this.m_invMassB,w),l+=this.m_invIB*Vt.CrossVV(this.m_rB,w)}else this.m_impulse=0;t.velocities[this.m_indexA].w=o,t.velocities[this.m_indexB].w=l}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,o=t.velocities[this.m_indexB].w,a=Vt.AddVCrossSV(e,n,this.m_rA,i.SolveVelocityConstraints_s_vpA),s=Vt.AddVCrossSV(r,o,this.m_rB,i.SolveVelocityConstraints_s_vpB),u=Vt.DotVV(this.m_u,Vt.SubVV(s,a,Vt.s_t0)),l=-this.m_mass*(u+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=l;var c=Vt.MulSV(l,this.m_u,i.SolveVelocityConstraints_s_P);e.SelfMulSub(this.m_invMassA,c),n-=this.m_invIA*Vt.CrossVV(this.m_rA,c),r.SelfMulAdd(this.m_invMassB,c),o+=this.m_invIB*Vt.CrossVV(this.m_rB,c),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){if(this.m_frequencyHz>0)return!0;var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=this.m_qA.SetAngle(n),s=this.m_qB.SetAngle(o),u=jt.MulRV(a,this.m_lalcA,this.m_rA),l=jt.MulRV(s,this.m_lalcB,this.m_rB),c=this.m_u;c.x=r.x+l.x-e.x-u.x,c.y=r.y+l.y-e.y-u.y;var h=this.m_u.Normalize()-this.m_length;h=ct(h,-A,A);var f=-this.m_mass*h,m=Vt.MulSV(f,c,i.SolvePositionConstraints_s_P);return e.SelfMulSub(this.m_invMassA,m),n-=this.m_invIA*Vt.CrossVV(u,m),r.SelfMulAdd(this.m_invMassB,m),o+=this.m_invIB*Vt.CrossVV(l,m),t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=o,st(h)<b}}]),i}(Vi);Mi.InitVelocityConstraints_s_P=new Vt,Mi.SolveVelocityConstraints_s_vpA=new Vt,Mi.SolveVelocityConstraints_s_vpB=new Vt,Mi.SolveVelocityConstraints_s_P=new Vt,Mi.SolvePositionConstraints_s_P=new Vt;var Oi=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_areaJoint)).bodies=[],e.frequencyHz=0,e.dampingRatio=0,e}return l(i,[{key:"AddBody",value:function(t){this.bodies.push(t),1===this.bodies.length?this.bodyA=t:2===this.bodies.length&&(this.bodyB=t)}}]),i}(ki),Ii=function(t){a(i,t);var e=s(i);function i(t){var r;u(this,i),(r=e.call(this,t)).m_frequencyHz=0,r.m_dampingRatio=0,r.m_impulse=0,r.m_targetArea=0,r.m_delta=new Vt,r.m_bodies=t.bodies,r.m_frequencyHz=n(t.frequencyHz,0),r.m_dampingRatio=n(t.dampingRatio,0),r.m_targetLengths=it(t.bodies.length),r.m_normals=Vt.MakeArray(t.bodies.length),r.m_joints=[],r.m_deltas=Vt.MakeArray(t.bodies.length);var o=new Pi;o.frequencyHz=r.m_frequencyHz,o.dampingRatio=r.m_dampingRatio,r.m_targetArea=0;for(var a=0;a<r.m_bodies.length;++a){var s=r.m_bodies[a],l=r.m_bodies[(a+1)%r.m_bodies.length],c=s.GetWorldCenter(),h=l.GetWorldCenter();r.m_targetLengths[a]=Vt.DistanceVV(c,h),r.m_targetArea+=Vt.CrossVV(c,h),o.Initialize(s,l,c,h),r.m_joints[a]=s.GetWorld().CreateJoint(o)}return r.m_targetArea*=.5,r}return l(i,[{key:"GetAnchorA",value:function(t){return t}},{key:"GetAnchorB",value:function(t){return t}},{key:"GetReactionForce",value:function(t,e){return e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t;for(var e=0;e<this.m_joints.length;++e)this.m_joints[e].SetFrequency(t)}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t;for(var e=0;e<this.m_joints.length;++e)this.m_joints[e].SetDampingRatio(t)}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){t("Area joint dumping is not supported.\n")}},{key:"InitVelocityConstraints",value:function(t){for(var e=0;e<this.m_bodies.length;++e){var n=this.m_bodies[(e+this.m_bodies.length-1)%this.m_bodies.length],i=this.m_bodies[(e+1)%this.m_bodies.length],r=t.positions[n.m_islandIndex].c,o=t.positions[i.m_islandIndex].c,a=this.m_deltas[e];Vt.SubVV(o,r,a)}if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;for(var s=0;s<this.m_bodies.length;++s){var u=this.m_bodies[s],l=t.velocities[u.m_islandIndex].v,c=this.m_deltas[s];l.x+=u.m_invMass*c.y*.5*this.m_impulse,l.y+=u.m_invMass*-c.x*.5*this.m_impulse}}else this.m_impulse=0}},{key:"SolveVelocityConstraints",value:function(t){for(var e=0,n=0,i=0;i<this.m_bodies.length;++i){var r=this.m_bodies[i],o=t.velocities[r.m_islandIndex].v,a=this.m_deltas[i];e+=a.LengthSquared()/r.GetMass(),n+=Vt.CrossVV(o,a)}var s=-2*n/e;this.m_impulse+=s;for(var u=0;u<this.m_bodies.length;++u){var l=this.m_bodies[u],c=t.velocities[l.m_islandIndex].v,h=this.m_deltas[u];c.x+=l.m_invMass*h.y*.5*s,c.y+=l.m_invMass*-h.x*.5*s}}},{key:"SolvePositionConstraints",value:function(t){for(var e=0,n=0,i=0;i<this.m_bodies.length;++i){var r=this.m_bodies[i],o=this.m_bodies[(i+1)%this.m_bodies.length],a=t.positions[r.m_islandIndex].c,s=t.positions[o.m_islandIndex].c,u=Vt.SubVV(s,a,this.m_delta),l=u.Length();l<f&&(l=1),this.m_normals[i].x=u.y/l,this.m_normals[i].y=-u.x/l,e+=l,n+=Vt.CrossVV(a,s)}n*=.5;for(var c=.5*(this.m_targetArea-n)/e,h=!0,m=0;m<this.m_bodies.length;++m){var d=this.m_bodies[m],_=t.positions[d.m_islandIndex].c,p=(m+1)%this.m_bodies.length,v=Vt.AddVV(this.m_normals[m],this.m_normals[p],this.m_delta);v.SelfMul(c);var y=v.LengthSquared();y>mt(A)&&v.SelfMul(A/_t(y)),y>mt(b)&&(h=!1),_.x+=v.x,_.y+=v.y}return h}}]),i}(Vi),ji=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_frictionJoint)).localAnchorA=new Vt,e.localAnchorB=new Vt,e.maxForce=0,e.maxTorque=0,e}return l(i,[{key:"Initialize",value:function(t,e,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(n,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB)}}]),i}(ki),Di=function(t){a(i,t);var e=s(i);function i(t){var r;return u(this,i),(r=e.call(this,t)).m_localAnchorA=new Vt,r.m_localAnchorB=new Vt,r.m_linearImpulse=new Vt,r.m_angularImpulse=0,r.m_maxForce=0,r.m_maxTorque=0,r.m_indexA=0,r.m_indexB=0,r.m_rA=new Vt,r.m_rB=new Vt,r.m_localCenterA=new Vt,r.m_localCenterB=new Vt,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_linearMass=new Ot,r.m_angularMass=0,r.m_qA=new jt,r.m_qB=new jt,r.m_lalcA=new Vt,r.m_lalcB=new Vt,r.m_K=new Ot,r.m_localAnchorA.Copy(t.localAnchorA),r.m_localAnchorB.Copy(t.localAnchorB),r.m_linearImpulse.SetZero(),r.m_maxForce=n(t.maxForce,0),r.m_maxTorque=n(t.maxTorque,0),r.m_linearMass.SetZero(),r}return l(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v,i=t.velocities[this.m_indexA].w,r=t.positions[this.m_indexB].a,o=t.velocities[this.m_indexB].v,a=t.velocities[this.m_indexB].w,s=this.m_qA.SetAngle(e),u=this.m_qB.SetAngle(r);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var l=jt.MulRV(s,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var c=jt.MulRV(u,this.m_lalcB,this.m_rB),h=this.m_invMassA,f=this.m_invMassB,m=this.m_invIA,d=this.m_invIB,_=this.m_K;if(_.ex.x=h+f+m*l.y*l.y+d*c.y*c.y,_.ex.y=-m*l.x*l.y-d*c.x*c.y,_.ey.x=_.ex.y,_.ey.y=h+f+m*l.x*l.x+d*c.x*c.x,_.GetInverse(this.m_linearMass),this.m_angularMass=m+d,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.step.warmStarting){this.m_linearImpulse.SelfMul(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;var p=this.m_linearImpulse;n.SelfMulSub(h,p),i-=m*(Vt.CrossVV(this.m_rA,p)+this.m_angularImpulse),o.SelfMulAdd(f,p),a+=d*(Vt.CrossVV(this.m_rB,p)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=a}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,o=t.velocities[this.m_indexB].w,a=this.m_invMassA,s=this.m_invMassB,u=this.m_invIA,l=this.m_invIB,c=t.step.dt,h=o-n,f=-this.m_angularMass*h,m=this.m_angularImpulse,d=c*this.m_maxTorque;this.m_angularImpulse=ct(this.m_angularImpulse+f,-d,d),n-=u*(f=this.m_angularImpulse-m),o+=l*f;var _=Vt.SubVV(Vt.AddVCrossSV(r,o,this.m_rB,Vt.s_t0),Vt.AddVCrossSV(e,n,this.m_rA,Vt.s_t1),i.SolveVelocityConstraints_s_Cdot_v2),p=Ot.MulMV(this.m_linearMass,_,i.SolveVelocityConstraints_s_impulseV).SelfNeg(),v=i.SolveVelocityConstraints_s_oldImpulseV.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(p);var y=c*this.m_maxForce;this.m_linearImpulse.LengthSquared()>y*y&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(y)),Vt.SubVV(this.m_linearImpulse,v,p),e.SelfMulSub(a,p),n-=u*Vt.CrossVV(this.m_rA,p),r.SelfMulAdd(s,p),o+=l*Vt.CrossVV(this.m_rB,p),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_linearImpulse.x,e.y=t*this.m_linearImpulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_angularImpulse}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetMaxTorque",value:function(t){this.m_maxTorque=t}},{key:"GetMaxTorque",value:function(){return this.m_maxTorque}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2FrictionJointDef = new b2FrictionJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.maxForce = %.15f;\n",this.m_maxForce),t("  jd.maxTorque = %.15f;\n",this.m_maxTorque),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(Vi);Di.SolveVelocityConstraints_s_Cdot_v2=new Vt,Di.SolveVelocityConstraints_s_impulseV=new Vt,Di.SolveVelocityConstraints_s_oldImpulseV=new Vt;var Ti=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_gearJoint)).ratio=1,e}return i}(ki),Li=function(e){a(r,e);var i=s(r);function r(e){var o,a,s;u(this,r),(o=i.call(this,e)).m_typeA=t.b2JointType.e_unknownJoint,o.m_typeB=t.b2JointType.e_unknownJoint,o.m_localAnchorA=new Vt,o.m_localAnchorB=new Vt,o.m_localAnchorC=new Vt,o.m_localAnchorD=new Vt,o.m_localAxisC=new Vt,o.m_localAxisD=new Vt,o.m_referenceAngleA=0,o.m_referenceAngleB=0,o.m_constant=0,o.m_ratio=0,o.m_impulse=0,o.m_indexA=0,o.m_indexB=0,o.m_indexC=0,o.m_indexD=0,o.m_lcA=new Vt,o.m_lcB=new Vt,o.m_lcC=new Vt,o.m_lcD=new Vt,o.m_mA=0,o.m_mB=0,o.m_mC=0,o.m_mD=0,o.m_iA=0,o.m_iB=0,o.m_iC=0,o.m_iD=0,o.m_JvAC=new Vt,o.m_JvBD=new Vt,o.m_JwA=0,o.m_JwB=0,o.m_JwC=0,o.m_JwD=0,o.m_mass=0,o.m_qA=new jt,o.m_qB=new jt,o.m_qC=new jt,o.m_qD=new jt,o.m_lalcA=new Vt,o.m_lalcB=new Vt,o.m_lalcC=new Vt,o.m_lalcD=new Vt,o.m_joint1=e.joint1,o.m_joint2=e.joint2,o.m_typeA=o.m_joint1.GetType(),o.m_typeB=o.m_joint2.GetType(),o.m_bodyC=o.m_joint1.GetBodyA(),o.m_bodyA=o.m_joint1.GetBodyB();var l=o.m_bodyA.m_xf,c=o.m_bodyA.m_sweep.a,h=o.m_bodyC.m_xf,f=o.m_bodyC.m_sweep.a;if(o.m_typeA===t.b2JointType.e_revoluteJoint){var m=e.joint1;o.m_localAnchorC.Copy(m.m_localAnchorA),o.m_localAnchorA.Copy(m.m_localAnchorB),o.m_referenceAngleA=m.m_referenceAngle,o.m_localAxisC.SetZero(),a=c-f-o.m_referenceAngleA}else{var d=e.joint1;o.m_localAnchorC.Copy(d.m_localAnchorA),o.m_localAnchorA.Copy(d.m_localAnchorB),o.m_referenceAngleA=d.m_referenceAngle,o.m_localAxisC.Copy(d.m_localXAxisA);var _=o.m_localAnchorC,p=jt.MulTRV(h.q,Vt.AddVV(jt.MulRV(l.q,o.m_localAnchorA,Vt.s_t0),Vt.SubVV(l.p,h.p,Vt.s_t1),Vt.s_t0),Vt.s_t0);a=Vt.DotVV(Vt.SubVV(p,_,Vt.s_t0),o.m_localAxisC)}o.m_bodyD=o.m_joint2.GetBodyA(),o.m_bodyB=o.m_joint2.GetBodyB();var v=o.m_bodyB.m_xf,y=o.m_bodyB.m_sweep.a,b=o.m_bodyD.m_xf,g=o.m_bodyD.m_sweep.a;if(o.m_typeB===t.b2JointType.e_revoluteJoint){var x=e.joint2;o.m_localAnchorD.Copy(x.m_localAnchorA),o.m_localAnchorB.Copy(x.m_localAnchorB),o.m_referenceAngleB=x.m_referenceAngle,o.m_localAxisD.SetZero(),s=y-g-o.m_referenceAngleB}else{var S=e.joint2;o.m_localAnchorD.Copy(S.m_localAnchorA),o.m_localAnchorB.Copy(S.m_localAnchorB),o.m_referenceAngleB=S.m_referenceAngle,o.m_localAxisD.Copy(S.m_localXAxisA);var w=o.m_localAnchorD,C=jt.MulTRV(b.q,Vt.AddVV(jt.MulRV(v.q,o.m_localAnchorB,Vt.s_t0),Vt.SubVV(v.p,b.p,Vt.s_t1),Vt.s_t0),Vt.s_t0);s=Vt.DotVV(Vt.SubVV(C,w,Vt.s_t0),o.m_localAxisD)}return o.m_ratio=n(e.ratio,1),o.m_constant=a+o.m_ratio*s,o.m_impulse=0,o}return l(r,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var n=e.positions[this.m_indexA].a,i=e.velocities[this.m_indexA].v,o=e.velocities[this.m_indexA].w,a=e.positions[this.m_indexB].a,s=e.velocities[this.m_indexB].v,u=e.velocities[this.m_indexB].w,l=e.positions[this.m_indexC].a,c=e.velocities[this.m_indexC].v,h=e.velocities[this.m_indexC].w,f=e.positions[this.m_indexD].a,m=e.velocities[this.m_indexD].v,d=e.velocities[this.m_indexD].w,_=this.m_qA.SetAngle(n),p=this.m_qB.SetAngle(a),v=this.m_qC.SetAngle(l),y=this.m_qD.SetAngle(f);if(this.m_mass=0,this.m_typeA===t.b2JointType.e_revoluteJoint)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{var b=jt.MulRV(v,this.m_localAxisC,r.InitVelocityConstraints_s_u);Vt.SubVV(this.m_localAnchorC,this.m_lcC,this.m_lalcC);var g=jt.MulRV(v,this.m_lalcC,r.InitVelocityConstraints_s_rC);Vt.SubVV(this.m_localAnchorA,this.m_lcA,this.m_lalcA);var x=jt.MulRV(_,this.m_lalcA,r.InitVelocityConstraints_s_rA);this.m_JvAC.Copy(b),this.m_JwC=Vt.CrossVV(g,b),this.m_JwA=Vt.CrossVV(x,b),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===t.b2JointType.e_revoluteJoint)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{var S=jt.MulRV(y,this.m_localAxisD,r.InitVelocityConstraints_s_u);Vt.SubVV(this.m_localAnchorD,this.m_lcD,this.m_lalcD);var w=jt.MulRV(y,this.m_lalcD,r.InitVelocityConstraints_s_rD);Vt.SubVV(this.m_localAnchorB,this.m_lcB,this.m_lalcB);var C=jt.MulRV(p,this.m_lalcB,r.InitVelocityConstraints_s_rB);Vt.MulSV(this.m_ratio,S,this.m_JvBD),this.m_JwD=this.m_ratio*Vt.CrossVV(w,S),this.m_JwB=this.m_ratio*Vt.CrossVV(C,S),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,e.step.warmStarting?(i.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),o+=this.m_iA*this.m_impulse*this.m_JwA,s.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),u+=this.m_iB*this.m_impulse*this.m_JwB,c.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),h-=this.m_iC*this.m_impulse*this.m_JwC,m.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),d-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,e.velocities[this.m_indexA].w=o,e.velocities[this.m_indexB].w=u,e.velocities[this.m_indexC].w=h,e.velocities[this.m_indexD].w=d}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,i=t.velocities[this.m_indexB].v,r=t.velocities[this.m_indexB].w,o=t.velocities[this.m_indexC].v,a=t.velocities[this.m_indexC].w,s=t.velocities[this.m_indexD].v,u=t.velocities[this.m_indexD].w,l=Vt.DotVV(this.m_JvAC,Vt.SubVV(e,o,Vt.s_t0))+Vt.DotVV(this.m_JvBD,Vt.SubVV(i,s,Vt.s_t0));l+=this.m_JwA*n-this.m_JwC*a+(this.m_JwB*r-this.m_JwD*u);var c=-this.m_mass*l;this.m_impulse+=c,e.SelfMulAdd(this.m_mA*c,this.m_JvAC),n+=this.m_iA*c*this.m_JwA,i.SelfMulAdd(this.m_mB*c,this.m_JvBD),r+=this.m_iB*c*this.m_JwB,o.SelfMulSub(this.m_mC*c,this.m_JvAC),a-=this.m_iC*c*this.m_JwC,s.SelfMulSub(this.m_mD*c,this.m_JvBD),u-=this.m_iD*c*this.m_JwD,t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=r,t.velocities[this.m_indexC].w=a,t.velocities[this.m_indexD].w=u}},{key:"SolvePositionConstraints",value:function(e){var n,i,o,a,s,u,l=e.positions[this.m_indexA].c,c=e.positions[this.m_indexA].a,h=e.positions[this.m_indexB].c,f=e.positions[this.m_indexB].a,m=e.positions[this.m_indexC].c,d=e.positions[this.m_indexC].a,_=e.positions[this.m_indexD].c,p=e.positions[this.m_indexD].a,v=this.m_qA.SetAngle(c),y=this.m_qB.SetAngle(f),g=this.m_qC.SetAngle(d),x=this.m_qD.SetAngle(p),S=0,w=this.m_JvAC,C=this.m_JvBD,A=0;if(this.m_typeA===t.b2JointType.e_revoluteJoint)w.SetZero(),o=1,s=1,A+=this.m_iA+this.m_iC,n=c-d-this.m_referenceAngleA;else{var B=jt.MulRV(g,this.m_localAxisC,r.SolvePositionConstraints_s_u),k=jt.MulRV(g,this.m_lalcC,r.SolvePositionConstraints_s_rC),V=jt.MulRV(v,this.m_lalcA,r.SolvePositionConstraints_s_rA);w.Copy(B),s=Vt.CrossVV(k,B),o=Vt.CrossVV(V,B),A+=this.m_mC+this.m_mA+this.m_iC*s*s+this.m_iA*o*o;var P=this.m_lalcC,M=jt.MulTRV(g,Vt.AddVV(V,Vt.SubVV(l,m,Vt.s_t0),Vt.s_t0),Vt.s_t0);n=Vt.DotVV(Vt.SubVV(M,P,Vt.s_t0),this.m_localAxisC)}if(this.m_typeB===t.b2JointType.e_revoluteJoint)C.SetZero(),a=this.m_ratio,u=this.m_ratio,A+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),i=f-p-this.m_referenceAngleB;else{var O=jt.MulRV(x,this.m_localAxisD,r.SolvePositionConstraints_s_u),I=jt.MulRV(x,this.m_lalcD,r.SolvePositionConstraints_s_rD),j=jt.MulRV(y,this.m_lalcB,r.SolvePositionConstraints_s_rB);Vt.MulSV(this.m_ratio,O,C),u=this.m_ratio*Vt.CrossVV(I,O),a=this.m_ratio*Vt.CrossVV(j,O),A+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*u*u+this.m_iB*a*a;var D=this.m_lalcD,T=jt.MulTRV(x,Vt.AddVV(j,Vt.SubVV(h,_,Vt.s_t0),Vt.s_t0),Vt.s_t0);i=Vt.DotVV(Vt.SubVV(T,D,Vt.s_t0),this.m_localAxisD)}var L=n+this.m_ratio*i-this.m_constant,R=0;return A>0&&(R=-L/A),l.SelfMulAdd(this.m_mA*R,w),c+=this.m_iA*R*o,h.SelfMulAdd(this.m_mB*R,C),f+=this.m_iB*R*a,m.SelfMulSub(this.m_mC*R,w),d-=this.m_iC*R*s,_.SelfMulSub(this.m_mD*R,C),p-=this.m_iD*R*u,e.positions[this.m_indexA].a=c,e.positions[this.m_indexB].a=f,e.positions[this.m_indexC].a=d,e.positions[this.m_indexD].a=p,S<b}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return Vt.MulSV(t*this.m_impulse,this.m_JvAC,e)}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse*this.m_JwA}},{key:"GetJoint1",value:function(){return this.m_joint1}},{key:"GetJoint2",value:function(){return this.m_joint2}},{key:"GetRatio",value:function(){return this.m_ratio}},{key:"SetRatio",value:function(t){this.m_ratio=t}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex,i=this.m_joint1.m_index,r=this.m_joint2.m_index;t("  const jd: b2GearJointDef = new b2GearJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.joint1 = joints[%d];\n",i),t("  jd.joint2 = joints[%d];\n",r),t("  jd.ratio = %.15f;\n",this.m_ratio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),r}(Vi);Li.InitVelocityConstraints_s_u=new Vt,Li.InitVelocityConstraints_s_rA=new Vt,Li.InitVelocityConstraints_s_rB=new Vt,Li.InitVelocityConstraints_s_rC=new Vt,Li.InitVelocityConstraints_s_rD=new Vt,Li.SolvePositionConstraints_s_u=new Vt,Li.SolvePositionConstraints_s_rA=new Vt,Li.SolvePositionConstraints_s_rB=new Vt,Li.SolvePositionConstraints_s_rC=new Vt,Li.SolvePositionConstraints_s_rD=new Vt;var Ri=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_motorJoint)).linearOffset=new Vt(0,0),e.angularOffset=0,e.maxForce=1,e.maxTorque=1,e.correctionFactor=.3,e}return l(i,[{key:"Initialize",value:function(t,e){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);var n=this.bodyA.GetAngle(),i=this.bodyB.GetAngle();this.angularOffset=i-n}}]),i}(ki),Ei=function(t){a(i,t);var e=s(i);function i(t){var r;return u(this,i),(r=e.call(this,t)).m_linearOffset=new Vt,r.m_angularOffset=0,r.m_linearImpulse=new Vt,r.m_angularImpulse=0,r.m_maxForce=0,r.m_maxTorque=0,r.m_correctionFactor=.3,r.m_indexA=0,r.m_indexB=0,r.m_rA=new Vt,r.m_rB=new Vt,r.m_localCenterA=new Vt,r.m_localCenterB=new Vt,r.m_linearError=new Vt,r.m_angularError=0,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_linearMass=new Ot,r.m_angularMass=0,r.m_qA=new jt,r.m_qB=new jt,r.m_K=new Ot,r.m_linearOffset.Copy(n(t.linearOffset,Vt.ZERO)),r.m_linearImpulse.SetZero(),r.m_maxForce=n(t.maxForce,0),r.m_maxTorque=n(t.maxTorque,0),r.m_correctionFactor=n(t.correctionFactor,.3),r}return l(i,[{key:"GetAnchorA",value:function(t){var e=this.m_bodyA.GetPosition();return t.x=e.x,t.y=e.y,t}},{key:"GetAnchorB",value:function(t){var e=this.m_bodyB.GetPosition();return t.x=e.x,t.y=e.y,t}},{key:"GetReactionForce",value:function(t,e){return Vt.MulSV(t,this.m_linearImpulse,e)}},{key:"GetReactionTorque",value:function(t){return t*this.m_angularImpulse}},{key:"SetLinearOffset",value:function(t){Vt.IsEqualToV(t,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(t))}},{key:"GetLinearOffset",value:function(){return this.m_linearOffset}},{key:"SetAngularOffset",value:function(t){t!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=t)}},{key:"GetAngularOffset",value:function(){return this.m_angularOffset}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetMaxTorque",value:function(t){this.m_maxTorque=t}},{key:"GetMaxTorque",value:function(){return this.m_maxTorque}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,i=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,o=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,s=t.velocities[this.m_indexB].v,u=t.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(n),c=this.m_qB.SetAngle(a),h=jt.MulRV(l,Vt.SubVV(this.m_linearOffset,this.m_localCenterA,Vt.s_t0),this.m_rA),f=jt.MulRV(c,Vt.NegV(this.m_localCenterB,Vt.s_t0),this.m_rB),m=this.m_invMassA,d=this.m_invMassB,_=this.m_invIA,p=this.m_invIB,v=this.m_K;if(v.ex.x=m+d+_*h.y*h.y+p*f.y*f.y,v.ex.y=-_*h.x*h.y-p*f.x*f.y,v.ey.x=v.ex.y,v.ey.y=m+d+_*h.x*h.x+p*f.x*f.x,v.GetInverse(this.m_linearMass),this.m_angularMass=_+p,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),Vt.SubVV(Vt.AddVV(o,f,Vt.s_t0),Vt.AddVV(e,h,Vt.s_t1),this.m_linearError),this.m_angularError=a-n-this.m_angularOffset,t.step.warmStarting){this.m_linearImpulse.SelfMul(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;var y=this.m_linearImpulse;i.SelfMulSub(m,y),r-=_*(Vt.CrossVV(h,y)+this.m_angularImpulse),s.SelfMulAdd(d,y),u+=p*(Vt.CrossVV(f,y)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,o=t.velocities[this.m_indexB].w,a=this.m_invMassA,s=this.m_invMassB,u=this.m_invIA,l=this.m_invIB,c=t.step.dt,h=t.step.inv_dt,f=o-n+h*this.m_correctionFactor*this.m_angularError,m=-this.m_angularMass*f,d=this.m_angularImpulse,_=c*this.m_maxTorque;this.m_angularImpulse=ct(this.m_angularImpulse+m,-_,_),n-=u*(m=this.m_angularImpulse-d),o+=l*m;var p=this.m_rA,v=this.m_rB,y=Vt.AddVV(Vt.SubVV(Vt.AddVV(r,Vt.CrossSV(o,v,Vt.s_t0),Vt.s_t0),Vt.AddVV(e,Vt.CrossSV(n,p,Vt.s_t1),Vt.s_t1),Vt.s_t2),Vt.MulSV(h*this.m_correctionFactor,this.m_linearError,Vt.s_t3),i.SolveVelocityConstraints_s_Cdot_v2),b=Ot.MulMV(this.m_linearMass,y,i.SolveVelocityConstraints_s_impulse_v2).SelfNeg(),g=i.SolveVelocityConstraints_s_oldImpulse_v2.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(b);var x=c*this.m_maxForce;this.m_linearImpulse.LengthSquared()>x*x&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(x)),Vt.SubVV(this.m_linearImpulse,g,b),e.SelfMulSub(a,b),n-=u*Vt.CrossVV(p,b),r.SelfMulAdd(s,b),o+=l*Vt.CrossVV(v,b),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2MotorJointDef = new b2MotorJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.linearOffset.Set(%.15f, %.15f);\n",this.m_linearOffset.x,this.m_linearOffset.y),t("  jd.angularOffset = %.15f;\n",this.m_angularOffset),t("  jd.maxForce = %.15f;\n",this.m_maxForce),t("  jd.maxTorque = %.15f;\n",this.m_maxTorque),t("  jd.correctionFactor = %.15f;\n",this.m_correctionFactor),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(Vi);Ei.SolveVelocityConstraints_s_Cdot_v2=new Vt,Ei.SolveVelocityConstraints_s_impulse_v2=new Vt,Ei.SolveVelocityConstraints_s_oldImpulse_v2=new Vt;var Fi=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_mouseJoint)).target=new Vt,e.maxForce=0,e.frequencyHz=5,e.dampingRatio=.7,e}return i}(ki),Gi=function(t){a(i,t);var e=s(i);function i(t){var r;return u(this,i),(r=e.call(this,t)).m_localAnchorB=new Vt,r.m_targetA=new Vt,r.m_frequencyHz=0,r.m_dampingRatio=0,r.m_beta=0,r.m_impulse=new Vt,r.m_maxForce=0,r.m_gamma=0,r.m_indexA=0,r.m_indexB=0,r.m_rB=new Vt,r.m_localCenterB=new Vt,r.m_invMassB=0,r.m_invIB=0,r.m_mass=new Ot,r.m_C=new Vt,r.m_qB=new jt,r.m_lalcB=new Vt,r.m_K=new Ot,r.m_targetA.Copy(n(t.target,Vt.ZERO)),Dt.MulTXV(r.m_bodyB.GetTransform(),r.m_targetA,r.m_localAnchorB),r.m_maxForce=n(t.maxForce,0),r.m_impulse.SetZero(),r.m_frequencyHz=n(t.frequencyHz,0),r.m_dampingRatio=n(t.dampingRatio,0),r.m_beta=0,r.m_gamma=0,r}return l(i,[{key:"SetTarget",value:function(t){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(t)}},{key:"GetTarget",value:function(){return this.m_targetA}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"InitVelocityConstraints",value:function(t){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexB].c,n=t.positions[this.m_indexB].a,i=t.velocities[this.m_indexB].v,r=t.velocities[this.m_indexB].w,o=this.m_qB.SetAngle(n),a=this.m_bodyB.GetMass(),s=2*d*this.m_frequencyHz,u=2*a*this.m_dampingRatio*s,l=a*(s*s),c=t.step.dt;this.m_gamma=c*(u+c*l),0!==this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_beta=c*l*this.m_gamma,Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),jt.MulRV(o,this.m_lalcB,this.m_rB);var h=this.m_K;h.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,h.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,h.ey.x=h.ex.y,h.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,h.GetInverse(this.m_mass),this.m_C.x=e.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=e.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),r*=.98,t.step.warmStarting?(this.m_impulse.SelfMul(t.step.dtRatio),i.x+=this.m_invMassB*this.m_impulse.x,i.y+=this.m_invMassB*this.m_impulse.y,r+=this.m_invIB*Vt.CrossVV(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),t.velocities[this.m_indexB].w=r}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexB].v,n=t.velocities[this.m_indexB].w,r=Vt.AddVCrossSV(e,n,this.m_rB,i.SolveVelocityConstraints_s_Cdot),o=Ot.MulMV(this.m_mass,Vt.AddVV(r,Vt.AddVV(this.m_C,Vt.MulSV(this.m_gamma,this.m_impulse,Vt.s_t0),Vt.s_t0),Vt.s_t0).SelfNeg(),i.SolveVelocityConstraints_s_impulse),a=i.SolveVelocityConstraints_s_oldImpulse.Copy(this.m_impulse);this.m_impulse.SelfAdd(o);var s=t.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>s*s&&this.m_impulse.SelfMul(s/this.m_impulse.Length()),Vt.SubVV(this.m_impulse,a,o),e.SelfMulAdd(this.m_invMassB,o),n+=this.m_invIB*Vt.CrossVV(this.m_rB,o),t.velocities[this.m_indexB].w=n}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"GetAnchorA",value:function(t){return t.x=this.m_targetA.x,t.y=this.m_targetA.y,t}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return Vt.MulSV(t,this.m_impulse,e)}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"Dump",value:function(t){t("Mouse joint dumping is not supported.\n")}},{key:"ShiftOrigin",value:function(t){this.m_targetA.SelfSub(t)}}]),i}(Vi);Gi.SolveVelocityConstraints_s_Cdot=new Vt,Gi.SolveVelocityConstraints_s_impulse=new Vt,Gi.SolveVelocityConstraints_s_oldImpulse=new Vt;var Ni=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_prismaticJoint)).localAnchorA=new Vt,e.localAnchorB=new Vt,e.localAxisA=new Vt(1,0),e.referenceAngle=0,e.enableLimit=!1,e.lowerTranslation=0,e.upperTranslation=0,e.enableMotor=!1,e.maxMotorForce=0,e.motorSpeed=0,e}return l(i,[{key:"Initialize",value:function(t,e,n,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(n,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB),this.bodyA.GetLocalVector(i,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(ki),zi=function(e){a(r,e);var i=s(r);function r(e){var o;return u(this,r),(o=i.call(this,e)).m_localAnchorA=new Vt,o.m_localAnchorB=new Vt,o.m_localXAxisA=new Vt,o.m_localYAxisA=new Vt,o.m_referenceAngle=0,o.m_impulse=new Mt(0,0,0),o.m_motorImpulse=0,o.m_lowerTranslation=0,o.m_upperTranslation=0,o.m_maxMotorForce=0,o.m_motorSpeed=0,o.m_enableLimit=!1,o.m_enableMotor=!1,o.m_limitState=t.b2LimitState.e_inactiveLimit,o.m_indexA=0,o.m_indexB=0,o.m_localCenterA=new Vt,o.m_localCenterB=new Vt,o.m_invMassA=0,o.m_invMassB=0,o.m_invIA=0,o.m_invIB=0,o.m_axis=new Vt(0,0),o.m_perp=new Vt(0,0),o.m_s1=0,o.m_s2=0,o.m_a1=0,o.m_a2=0,o.m_K=new It,o.m_K3=new It,o.m_K2=new Ot,o.m_motorMass=0,o.m_qA=new jt,o.m_qB=new jt,o.m_lalcA=new Vt,o.m_lalcB=new Vt,o.m_rA=new Vt,o.m_rB=new Vt,o.m_localAnchorA.Copy(n(e.localAnchorA,Vt.ZERO)),o.m_localAnchorB.Copy(n(e.localAnchorB,Vt.ZERO)),o.m_localXAxisA.Copy(n(e.localAxisA,new Vt(1,0))).SelfNormalize(),Vt.CrossOneV(o.m_localXAxisA,o.m_localYAxisA),o.m_referenceAngle=n(e.referenceAngle,0),o.m_lowerTranslation=n(e.lowerTranslation,0),o.m_upperTranslation=n(e.upperTranslation,0),o.m_maxMotorForce=n(e.maxMotorForce,0),o.m_motorSpeed=n(e.motorSpeed,0),o.m_enableLimit=n(e.enableLimit,!1),o.m_enableMotor=n(e.enableMotor,!1),o}return l(r,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var n=e.positions[this.m_indexA].c,i=e.positions[this.m_indexA].a,o=e.velocities[this.m_indexA].v,a=e.velocities[this.m_indexA].w,s=e.positions[this.m_indexB].c,u=e.positions[this.m_indexB].a,l=e.velocities[this.m_indexB].v,c=e.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(i),f=this.m_qB.SetAngle(u);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var m=jt.MulRV(h,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var d=jt.MulRV(f,this.m_lalcB,this.m_rB),_=Vt.AddVV(Vt.SubVV(s,n,Vt.s_t0),Vt.SubVV(d,m,Vt.s_t1),r.InitVelocityConstraints_s_d),p=this.m_invMassA,v=this.m_invMassB,y=this.m_invIA,g=this.m_invIB;if(jt.MulRV(h,this.m_localXAxisA,this.m_axis),this.m_a1=Vt.CrossVV(Vt.AddVV(_,m,Vt.s_t0),this.m_axis),this.m_a2=Vt.CrossVV(d,this.m_axis),this.m_motorMass=p+v+y*this.m_a1*this.m_a1+g*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),jt.MulRV(h,this.m_localYAxisA,this.m_perp),this.m_s1=Vt.CrossVV(Vt.AddVV(_,m,Vt.s_t0),this.m_perp),this.m_s2=Vt.CrossVV(d,this.m_perp),this.m_K.ex.x=p+v+y*this.m_s1*this.m_s1+g*this.m_s2*this.m_s2,this.m_K.ex.y=y*this.m_s1+g*this.m_s2,this.m_K.ex.z=y*this.m_s1*this.m_a1+g*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=y+g,0===this.m_K.ey.y&&(this.m_K.ey.y=1),this.m_K.ey.z=y*this.m_a1+g*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=p+v+y*this.m_a1*this.m_a1+g*this.m_a2*this.m_a2,this.m_enableLimit){var x=Vt.DotVV(this.m_axis,_);st(this.m_upperTranslation-this.m_lowerTranslation)<2*b?this.m_limitState=t.b2LimitState.e_equalLimits:x<=this.m_lowerTranslation?this.m_limitState!==t.b2LimitState.e_atLowerLimit&&(this.m_limitState=t.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):x>=this.m_upperTranslation?this.m_limitState!==t.b2LimitState.e_atUpperLimit&&(this.m_limitState=t.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0;if(this.m_enableMotor||(this.m_motorImpulse=0),e.step.warmStarting){this.m_impulse.SelfMul(e.step.dtRatio),this.m_motorImpulse*=e.step.dtRatio;var S=Vt.AddVV(Vt.MulSV(this.m_impulse.x,this.m_perp,Vt.s_t0),Vt.MulSV(this.m_motorImpulse+this.m_impulse.z,this.m_axis,Vt.s_t1),r.InitVelocityConstraints_s_P),w=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,C=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;o.SelfMulSub(p,S),a-=y*w,l.SelfMulAdd(v,S),c+=g*C}else this.m_impulse.SetZero(),this.m_motorImpulse=0;e.velocities[this.m_indexA].w=a,e.velocities[this.m_indexB].w=c}},{key:"SolveVelocityConstraints",value:function(e){var n=e.velocities[this.m_indexA].v,i=e.velocities[this.m_indexA].w,o=e.velocities[this.m_indexB].v,a=e.velocities[this.m_indexB].w,s=this.m_invMassA,u=this.m_invMassB,l=this.m_invIA,c=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!==t.b2LimitState.e_equalLimits){var h=Vt.DotVV(this.m_axis,Vt.SubVV(o,n,Vt.s_t0))+this.m_a2*a-this.m_a1*i,f=this.m_motorMass*(this.m_motorSpeed-h),m=this.m_motorImpulse,d=e.step.dt*this.m_maxMotorForce;this.m_motorImpulse=ct(this.m_motorImpulse+f,-d,d),f=this.m_motorImpulse-m;var _=Vt.MulSV(f,this.m_axis,r.SolveVelocityConstraints_s_P),p=f*this.m_a1,v=f*this.m_a2;n.SelfMulSub(s,_),i-=l*p,o.SelfMulAdd(u,_),a+=c*v}var y=Vt.DotVV(this.m_perp,Vt.SubVV(o,n,Vt.s_t0))+this.m_s2*a-this.m_s1*i,b=a-i;if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit){var g=Vt.DotVV(this.m_axis,Vt.SubVV(o,n,Vt.s_t0))+this.m_a2*a-this.m_a1*i,x=r.SolveVelocityConstraints_s_f1.Copy(this.m_impulse),S=this.m_K.Solve33(-y,-b,-g,r.SolveVelocityConstraints_s_df3);this.m_impulse.SelfAdd(S),this.m_limitState===t.b2LimitState.e_atLowerLimit?this.m_impulse.z=lt(this.m_impulse.z,0):this.m_limitState===t.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=ut(this.m_impulse.z,0));var w=-y-(this.m_impulse.z-x.z)*this.m_K.ez.x,C=-b-(this.m_impulse.z-x.z)*this.m_K.ez.y,A=this.m_K.Solve22(w,C,r.SolveVelocityConstraints_s_f2r);A.x+=x.x,A.y+=x.y,this.m_impulse.x=A.x,this.m_impulse.y=A.y,S.x=this.m_impulse.x-x.x,S.y=this.m_impulse.y-x.y,S.z=this.m_impulse.z-x.z;var B=Vt.AddVV(Vt.MulSV(S.x,this.m_perp,Vt.s_t0),Vt.MulSV(S.z,this.m_axis,Vt.s_t1),r.SolveVelocityConstraints_s_P),k=S.x*this.m_s1+S.y+S.z*this.m_a1,V=S.x*this.m_s2+S.y+S.z*this.m_a2;n.SelfMulSub(s,B),i-=l*k,o.SelfMulAdd(u,B),a+=c*V}else{var P=this.m_K.Solve22(-y,-b,r.SolveVelocityConstraints_s_df2);this.m_impulse.x+=P.x,this.m_impulse.y+=P.y;var M=Vt.MulSV(P.x,this.m_perp,r.SolveVelocityConstraints_s_P),O=P.x*this.m_s1+P.y,I=P.x*this.m_s2+P.y;n.SelfMulSub(s,M),i-=l*O,o.SelfMulAdd(u,M),a+=c*I}e.velocities[this.m_indexA].w=i,e.velocities[this.m_indexB].w=a}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,i=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=this.m_qA.SetAngle(n),s=this.m_qB.SetAngle(o),u=this.m_invMassA,l=this.m_invMassB,c=this.m_invIA,h=this.m_invIB,f=jt.MulRV(a,this.m_lalcA,this.m_rA),m=jt.MulRV(s,this.m_lalcB,this.m_rB),d=Vt.SubVV(Vt.AddVV(i,m,Vt.s_t0),Vt.AddVV(e,f,Vt.s_t1),r.SolvePositionConstraints_s_d),_=jt.MulRV(a,this.m_localXAxisA,this.m_axis),p=Vt.CrossVV(Vt.AddVV(d,f,Vt.s_t0),_),v=Vt.CrossVV(m,_),y=jt.MulRV(a,this.m_localYAxisA,this.m_perp),x=Vt.CrossVV(Vt.AddVV(d,f,Vt.s_t0),y),S=Vt.CrossVV(m,y),w=r.SolvePositionConstraints_s_impulse,C=Vt.DotVV(y,d),B=o-n-this.m_referenceAngle,k=st(C),V=st(B),P=!1,M=0;if(this.m_enableLimit){var O=Vt.DotVV(_,d);st(this.m_upperTranslation-this.m_lowerTranslation)<2*b?(M=ct(O,-A,A),k=lt(k,st(O)),P=!0):O<=this.m_lowerTranslation?(M=ct(O-this.m_lowerTranslation+b,-A,0),k=lt(k,this.m_lowerTranslation-O),P=!0):O>=this.m_upperTranslation&&(M=ct(O-this.m_upperTranslation-b,0,A),k=lt(k,O-this.m_upperTranslation),P=!0)}if(P){var I=u+l+c*x*x+h*S*S,j=c*x+h*S,D=c*x*p+h*S*v,T=c+h;0===T&&(T=1);var L=c*p+h*v,R=u+l+c*p*p+h*v*v,E=this.m_K3;E.ex.SetXYZ(I,j,D),E.ey.SetXYZ(j,T,L),E.ez.SetXYZ(D,L,R),w=E.Solve33(-C,-B,-M,w)}else{var F=u+l+c*x*x+h*S*S,G=c*x+h*S,N=c+h;0===N&&(N=1);var z=this.m_K2;z.ex.Set(F,G),z.ey.Set(G,N);var q=z.Solve(-C,-B,r.SolvePositionConstraints_s_impulse1);w.x=q.x,w.y=q.y,w.z=0}var U=Vt.AddVV(Vt.MulSV(w.x,y,Vt.s_t0),Vt.MulSV(w.z,_,Vt.s_t1),r.SolvePositionConstraints_s_P),J=w.x*x+w.y+w.z*p,W=w.x*S+w.y+w.z*v;return e.SelfMulSub(u,U),n-=c*J,i.SelfMulAdd(l,U),o+=h*W,t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=o,k<=b&&V<=g}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),e.y=t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y),e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.y}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetLocalAxisA",value:function(){return this.m_localXAxisA}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"GetJointTranslation",value:function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,r.GetJointTranslation_s_pA),e=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,r.GetJointTranslation_s_pB),n=Vt.SubVV(e,t,r.GetJointTranslation_s_d),i=this.m_bodyA.GetWorldVector(this.m_localXAxisA,r.GetJointTranslation_s_axis);return Vt.DotVV(n,i)}},{key:"GetJointSpeed",value:function(){var t=this.m_bodyA,e=this.m_bodyB;Vt.SubVV(this.m_localAnchorA,t.m_sweep.localCenter,this.m_lalcA);var n=jt.MulRV(t.m_xf.q,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,e.m_sweep.localCenter,this.m_lalcB);var i=jt.MulRV(e.m_xf.q,this.m_lalcB,this.m_rB),r=Vt.AddVV(t.m_sweep.c,n,Vt.s_t0),o=Vt.AddVV(e.m_sweep.c,i,Vt.s_t1),a=Vt.SubVV(o,r,Vt.s_t2),s=t.GetWorldVector(this.m_localXAxisA,this.m_axis),u=t.m_linearVelocity,l=e.m_linearVelocity,c=t.m_angularVelocity,h=e.m_angularVelocity;return Vt.DotVV(a,Vt.CrossSV(c,s,Vt.s_t0))+Vt.DotVV(s,Vt.SubVV(Vt.AddVCrossSV(l,h,i,Vt.s_t0),Vt.AddVCrossSV(u,c,n,Vt.s_t1),Vt.s_t0))}},{key:"IsLimitEnabled",value:function(){return this.m_enableLimit}},{key:"EnableLimit",value:function(t){t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_impulse.z=0)}},{key:"GetLowerLimit",value:function(){return this.m_lowerTranslation}},{key:"GetUpperLimit",value:function(){return this.m_upperTranslation}},{key:"SetLimits",value:function(t,e){t===this.m_lowerTranslation&&e===this.m_upperTranslation||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e,this.m_impulse.z=0)}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"SetMaxMotorForce",value:function(t){t!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t)}},{key:"GetMaxMotorForce",value:function(){return this.m_maxMotorForce}},{key:"GetMotorForce",value:function(t){return t*this.m_motorImpulse}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2PrismaticJointDef = new b2PrismaticJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),t("  jd.lowerTranslation = %.15f;\n",this.m_lowerTranslation),t("  jd.upperTranslation = %.15f;\n",this.m_upperTranslation),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorForce = %.15f;\n",this.m_maxMotorForce),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),r}(Vi);zi.InitVelocityConstraints_s_d=new Vt,zi.InitVelocityConstraints_s_P=new Vt,zi.SolveVelocityConstraints_s_P=new Vt,zi.SolveVelocityConstraints_s_f2r=new Vt,zi.SolveVelocityConstraints_s_f1=new Mt,zi.SolveVelocityConstraints_s_df3=new Mt,zi.SolveVelocityConstraints_s_df2=new Vt,zi.SolvePositionConstraints_s_d=new Vt,zi.SolvePositionConstraints_s_impulse=new Mt,zi.SolvePositionConstraints_s_impulse1=new Vt,zi.SolvePositionConstraints_s_P=new Vt,zi.GetJointTranslation_s_pA=new Vt,zi.GetJointTranslation_s_pB=new Vt,zi.GetJointTranslation_s_d=new Vt,zi.GetJointTranslation_s_axis=new Vt;var qi=2,Ui=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_pulleyJoint)).groundAnchorA=new Vt(-1,1),e.groundAnchorB=new Vt(1,1),e.localAnchorA=new Vt(-1,0),e.localAnchorB=new Vt(1,0),e.lengthA=0,e.lengthB=0,e.ratio=1,e.collideConnected=!0,e}return l(i,[{key:"Initialize",value:function(t,e,n,i,r,o,a){this.bodyA=t,this.bodyB=e,this.groundAnchorA.Copy(n),this.groundAnchorB.Copy(i),this.bodyA.GetLocalPoint(r,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.lengthA=Vt.DistanceVV(r,n),this.lengthB=Vt.DistanceVV(o,i),this.ratio=a}}]),i}(ki),Ji=function(t){a(i,t);var e=s(i);function i(t){var r;return u(this,i),(r=e.call(this,t)).m_groundAnchorA=new Vt,r.m_groundAnchorB=new Vt,r.m_lengthA=0,r.m_lengthB=0,r.m_localAnchorA=new Vt,r.m_localAnchorB=new Vt,r.m_constant=0,r.m_ratio=0,r.m_impulse=0,r.m_indexA=0,r.m_indexB=0,r.m_uA=new Vt,r.m_uB=new Vt,r.m_rA=new Vt,r.m_rB=new Vt,r.m_localCenterA=new Vt,r.m_localCenterB=new Vt,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_mass=0,r.m_qA=new jt,r.m_qB=new jt,r.m_lalcA=new Vt,r.m_lalcB=new Vt,r.m_groundAnchorA.Copy(n(t.groundAnchorA,new Vt(-1,1))),r.m_groundAnchorB.Copy(n(t.groundAnchorB,new Vt(1,0))),r.m_localAnchorA.Copy(n(t.localAnchorA,new Vt(-1,0))),r.m_localAnchorB.Copy(n(t.localAnchorB,new Vt(1,0))),r.m_lengthA=n(t.lengthA,0),r.m_lengthB=n(t.lengthB,0),r.m_ratio=n(t.ratio,1),r.m_constant=n(t.lengthA,0)+r.m_ratio*n(t.lengthB,0),r.m_impulse=0,r}return l(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.velocities[this.m_indexA].v,o=t.velocities[this.m_indexA].w,a=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,u=t.velocities[this.m_indexB].v,l=t.velocities[this.m_indexB].w,c=this.m_qA.SetAngle(n),h=this.m_qB.SetAngle(s);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),jt.MulRV(c,this.m_lalcA,this.m_rA),Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),jt.MulRV(h,this.m_lalcB,this.m_rB),this.m_uA.Copy(e).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(a).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB);var f=this.m_uA.Length(),m=this.m_uB.Length();f>10*b?this.m_uA.SelfMul(1/f):this.m_uA.SetZero(),m>10*b?this.m_uB.SelfMul(1/m):this.m_uB.SetZero();var d=Vt.CrossVV(this.m_rA,this.m_uA),_=Vt.CrossVV(this.m_rB,this.m_uB),p=this.m_invMassA+this.m_invIA*d*d,v=this.m_invMassB+this.m_invIB*_*_;if(this.m_mass=p+this.m_ratio*this.m_ratio*v,this.m_mass>0&&(this.m_mass=1/this.m_mass),t.step.warmStarting){this.m_impulse*=t.step.dtRatio;var y=Vt.MulSV(-this.m_impulse,this.m_uA,i.InitVelocityConstraints_s_PA),g=Vt.MulSV(-this.m_ratio*this.m_impulse,this.m_uB,i.InitVelocityConstraints_s_PB);r.SelfMulAdd(this.m_invMassA,y),o+=this.m_invIA*Vt.CrossVV(this.m_rA,y),u.SelfMulAdd(this.m_invMassB,g),l+=this.m_invIB*Vt.CrossVV(this.m_rB,g)}else this.m_impulse=0;t.velocities[this.m_indexA].w=o,t.velocities[this.m_indexB].w=l}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,o=t.velocities[this.m_indexB].w,a=Vt.AddVCrossSV(e,n,this.m_rA,i.SolveVelocityConstraints_s_vpA),s=Vt.AddVCrossSV(r,o,this.m_rB,i.SolveVelocityConstraints_s_vpB),u=-Vt.DotVV(this.m_uA,a)-this.m_ratio*Vt.DotVV(this.m_uB,s),l=-this.m_mass*u;this.m_impulse+=l;var c=Vt.MulSV(-l,this.m_uA,i.SolveVelocityConstraints_s_PA),h=Vt.MulSV(-this.m_ratio*l,this.m_uB,i.SolveVelocityConstraints_s_PB);e.SelfMulAdd(this.m_invMassA,c),n+=this.m_invIA*Vt.CrossVV(this.m_rA,c),r.SelfMulAdd(this.m_invMassB,h),o+=this.m_invIB*Vt.CrossVV(this.m_rB,h),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=this.m_qA.SetAngle(n),s=this.m_qB.SetAngle(o);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var u=jt.MulRV(a,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var l=jt.MulRV(s,this.m_lalcB,this.m_rB),c=this.m_uA.Copy(e).SelfAdd(u).SelfSub(this.m_groundAnchorA),h=this.m_uB.Copy(r).SelfAdd(l).SelfSub(this.m_groundAnchorB),f=c.Length(),m=h.Length();f>10*b?c.SelfMul(1/f):c.SetZero(),m>10*b?h.SelfMul(1/m):h.SetZero();var d=Vt.CrossVV(u,c),_=Vt.CrossVV(l,h),p=this.m_invMassA+this.m_invIA*d*d,v=this.m_invMassB+this.m_invIB*_*_,y=p+this.m_ratio*this.m_ratio*v;y>0&&(y=1/y);var g=this.m_constant-f-this.m_ratio*m,x=st(g),S=-y*g,w=Vt.MulSV(-S,c,i.SolvePositionConstraints_s_PA),C=Vt.MulSV(-this.m_ratio*S,h,i.SolvePositionConstraints_s_PB);return e.SelfMulAdd(this.m_invMassA,w),n+=this.m_invIA*Vt.CrossVV(u,w),r.SelfMulAdd(this.m_invMassB,C),o+=this.m_invIB*Vt.CrossVV(l,C),t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=o,x<b}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse*this.m_uB.x,e.y=t*this.m_impulse*this.m_uB.y,e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetGroundAnchorA",value:function(){return this.m_groundAnchorA}},{key:"GetGroundAnchorB",value:function(){return this.m_groundAnchorB}},{key:"GetLengthA",value:function(){return this.m_lengthA}},{key:"GetLengthB",value:function(){return this.m_lengthB}},{key:"GetRatio",value:function(){return this.m_ratio}},{key:"GetCurrentLengthA",value:function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,i.GetCurrentLengthA_s_p),e=this.m_groundAnchorA;return Vt.DistanceVV(t,e)}},{key:"GetCurrentLengthB",value:function(){var t=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,i.GetCurrentLengthB_s_p),e=this.m_groundAnchorB;return Vt.DistanceVV(t,e)}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2PulleyJointDef = new b2PulleyJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.groundAnchorA.Set(%.15f, %.15f);\n",this.m_groundAnchorA.x,this.m_groundAnchorA.y),t("  jd.groundAnchorB.Set(%.15f, %.15f);\n",this.m_groundAnchorB.x,this.m_groundAnchorB.y),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.lengthA = %.15f;\n",this.m_lengthA),t("  jd.lengthB = %.15f;\n",this.m_lengthB),t("  jd.ratio = %.15f;\n",this.m_ratio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}},{key:"ShiftOrigin",value:function(t){this.m_groundAnchorA.SelfSub(t),this.m_groundAnchorB.SelfSub(t)}}]),i}(Vi);Ji.InitVelocityConstraints_s_PA=new Vt,Ji.InitVelocityConstraints_s_PB=new Vt,Ji.SolveVelocityConstraints_s_vpA=new Vt,Ji.SolveVelocityConstraints_s_vpB=new Vt,Ji.SolveVelocityConstraints_s_PA=new Vt,Ji.SolveVelocityConstraints_s_PB=new Vt,Ji.SolvePositionConstraints_s_PA=new Vt,Ji.SolvePositionConstraints_s_PB=new Vt,Ji.GetCurrentLengthA_s_p=new Vt,Ji.GetCurrentLengthB_s_p=new Vt;var Wi=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_revoluteJoint)).localAnchorA=new Vt(0,0),e.localAnchorB=new Vt(0,0),e.referenceAngle=0,e.enableLimit=!1,e.lowerAngle=0,e.upperAngle=0,e.enableMotor=!1,e.motorSpeed=0,e.maxMotorTorque=0,e}return l(i,[{key:"Initialize",value:function(t,e,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(n,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(ki),Xi=function(e){a(r,e);var i=s(r);function r(e){var o;return u(this,r),(o=i.call(this,e)).m_localAnchorA=new Vt,o.m_localAnchorB=new Vt,o.m_impulse=new Mt,o.m_motorImpulse=0,o.m_enableMotor=!1,o.m_maxMotorTorque=0,o.m_motorSpeed=0,o.m_enableLimit=!1,o.m_referenceAngle=0,o.m_lowerAngle=0,o.m_upperAngle=0,o.m_indexA=0,o.m_indexB=0,o.m_rA=new Vt,o.m_rB=new Vt,o.m_localCenterA=new Vt,o.m_localCenterB=new Vt,o.m_invMassA=0,o.m_invMassB=0,o.m_invIA=0,o.m_invIB=0,o.m_mass=new It,o.m_motorMass=0,o.m_limitState=t.b2LimitState.e_inactiveLimit,o.m_qA=new jt,o.m_qB=new jt,o.m_lalcA=new Vt,o.m_lalcB=new Vt,o.m_K=new Ot,o.m_localAnchorA.Copy(n(e.localAnchorA,Vt.ZERO)),o.m_localAnchorB.Copy(n(e.localAnchorB,Vt.ZERO)),o.m_referenceAngle=n(e.referenceAngle,0),o.m_impulse.SetZero(),o.m_motorImpulse=0,o.m_lowerAngle=n(e.lowerAngle,0),o.m_upperAngle=n(e.upperAngle,0),o.m_maxMotorTorque=n(e.maxMotorTorque,0),o.m_motorSpeed=n(e.motorSpeed,0),o.m_enableLimit=n(e.enableLimit,!1),o.m_enableMotor=n(e.enableMotor,!1),o.m_limitState=t.b2LimitState.e_inactiveLimit,o}return l(r,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var n=e.positions[this.m_indexA].a,i=e.velocities[this.m_indexA].v,o=e.velocities[this.m_indexA].w,a=e.positions[this.m_indexB].a,s=e.velocities[this.m_indexB].v,u=e.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(n),c=this.m_qB.SetAngle(a);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),jt.MulRV(l,this.m_lalcA,this.m_rA),Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),jt.MulRV(c,this.m_lalcB,this.m_rB);var h=this.m_invMassA,f=this.m_invMassB,m=this.m_invIA,d=this.m_invIB,_=m+d===0;if(this.m_mass.ex.x=h+f+this.m_rA.y*this.m_rA.y*m+this.m_rB.y*this.m_rB.y*d,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*m-this.m_rB.y*this.m_rB.x*d,this.m_mass.ez.x=-this.m_rA.y*m-this.m_rB.y*d,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=h+f+this.m_rA.x*this.m_rA.x*m+this.m_rB.x*this.m_rB.x*d,this.m_mass.ez.y=this.m_rA.x*m+this.m_rB.x*d,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=m+d,this.m_motorMass=m+d,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),this.m_enableMotor&&!_||(this.m_motorImpulse=0),this.m_enableLimit&&!_){var p=a-n-this.m_referenceAngle;st(this.m_upperAngle-this.m_lowerAngle)<2*g?this.m_limitState=t.b2LimitState.e_equalLimits:p<=this.m_lowerAngle?(this.m_limitState!==t.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=t.b2LimitState.e_atLowerLimit):p>=this.m_upperAngle?(this.m_limitState!==t.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=t.b2LimitState.e_atUpperLimit):(this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=t.b2LimitState.e_inactiveLimit;if(e.step.warmStarting){this.m_impulse.SelfMul(e.step.dtRatio),this.m_motorImpulse*=e.step.dtRatio;var v=r.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);i.SelfMulSub(h,v),o-=m*(Vt.CrossVV(this.m_rA,v)+this.m_motorImpulse+this.m_impulse.z),s.SelfMulAdd(f,v),u+=d*(Vt.CrossVV(this.m_rB,v)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.SetZero(),this.m_motorImpulse=0;e.velocities[this.m_indexA].w=o,e.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(e){var n=e.velocities[this.m_indexA].v,i=e.velocities[this.m_indexA].w,o=e.velocities[this.m_indexB].v,a=e.velocities[this.m_indexB].w,s=this.m_invMassA,u=this.m_invMassB,l=this.m_invIA,c=this.m_invIB,h=l+c===0;if(this.m_enableMotor&&this.m_limitState!==t.b2LimitState.e_equalLimits&&!h){var f=a-i-this.m_motorSpeed,m=-this.m_motorMass*f,d=this.m_motorImpulse,_=e.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=ct(this.m_motorImpulse+m,-_,_),i-=l*(m=this.m_motorImpulse-d),a+=c*m}if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit&&!h){var p=Vt.SubVV(Vt.AddVCrossSV(o,a,this.m_rB,Vt.s_t0),Vt.AddVCrossSV(n,i,this.m_rA,Vt.s_t1),r.SolveVelocityConstraints_s_Cdot1),v=a-i,y=this.m_mass.Solve33(p.x,p.y,v,r.SolveVelocityConstraints_s_impulse_v3).SelfNeg();if(this.m_limitState===t.b2LimitState.e_equalLimits)this.m_impulse.SelfAdd(y);else if(this.m_limitState===t.b2LimitState.e_atLowerLimit)if(this.m_impulse.z+y.z<0){var b=-p.x+this.m_impulse.z*this.m_mass.ez.x,g=-p.y+this.m_impulse.z*this.m_mass.ez.y,x=this.m_mass.Solve22(b,g,r.SolveVelocityConstraints_s_reduced_v2);y.x=x.x,y.y=x.y,y.z=-this.m_impulse.z,this.m_impulse.x+=x.x,this.m_impulse.y+=x.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(y);else if(this.m_limitState===t.b2LimitState.e_atUpperLimit)if(this.m_impulse.z+y.z>0){var S=-p.x+this.m_impulse.z*this.m_mass.ez.x,w=-p.y+this.m_impulse.z*this.m_mass.ez.y,C=this.m_mass.Solve22(S,w,r.SolveVelocityConstraints_s_reduced_v2);y.x=C.x,y.y=C.y,y.z=-this.m_impulse.z,this.m_impulse.x+=C.x,this.m_impulse.y+=C.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(y);var A=r.SolveVelocityConstraints_s_P.Set(y.x,y.y);n.SelfMulSub(s,A),i-=l*(Vt.CrossVV(this.m_rA,A)+y.z),o.SelfMulAdd(u,A),a+=c*(Vt.CrossVV(this.m_rB,A)+y.z)}else{var B=Vt.SubVV(Vt.AddVCrossSV(o,a,this.m_rB,Vt.s_t0),Vt.AddVCrossSV(n,i,this.m_rA,Vt.s_t1),r.SolveVelocityConstraints_s_Cdot_v2),k=this.m_mass.Solve22(-B.x,-B.y,r.SolveVelocityConstraints_s_impulse_v2);this.m_impulse.x+=k.x,this.m_impulse.y+=k.y,n.SelfMulSub(s,k),i-=l*Vt.CrossVV(this.m_rA,k),o.SelfMulAdd(u,k),a+=c*Vt.CrossVV(this.m_rB,k)}e.velocities[this.m_indexA].w=i,e.velocities[this.m_indexB].w=a}},{key:"SolvePositionConstraints",value:function(e){var n=e.positions[this.m_indexA].c,i=e.positions[this.m_indexA].a,o=e.positions[this.m_indexB].c,a=e.positions[this.m_indexB].a,s=this.m_qA.SetAngle(i),u=this.m_qB.SetAngle(a),l=0,c=0,h=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit&&!h){var f=a-i-this.m_referenceAngle,m=0;if(this.m_limitState===t.b2LimitState.e_equalLimits){var d=ct(f-this.m_lowerAngle,-B,B);m=-this.m_motorMass*d,l=st(d)}else if(this.m_limitState===t.b2LimitState.e_atLowerLimit){var _=f-this.m_lowerAngle;l=-_,_=ct(_+g,-B,0),m=-this.m_motorMass*_}else if(this.m_limitState===t.b2LimitState.e_atUpperLimit){var p=f-this.m_upperAngle;l=p,p=ct(p-g,0,B),m=-this.m_motorMass*p}i-=this.m_invIA*m,a+=this.m_invIB*m}s.SetAngle(i),u.SetAngle(a),Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var v=jt.MulRV(s,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var y=jt.MulRV(u,this.m_lalcB,this.m_rB),x=Vt.SubVV(Vt.AddVV(o,y,Vt.s_t0),Vt.AddVV(n,v,Vt.s_t1),r.SolvePositionConstraints_s_C_v2);c=x.Length();var S=this.m_invMassA,w=this.m_invMassB,C=this.m_invIA,A=this.m_invIB,k=this.m_K;k.ex.x=S+w+C*v.y*v.y+A*y.y*y.y,k.ex.y=-C*v.x*v.y-A*y.x*y.y,k.ey.x=k.ex.y,k.ey.y=S+w+C*v.x*v.x+A*y.x*y.x;var V=k.Solve(x.x,x.y,r.SolvePositionConstraints_s_impulse).SelfNeg();return n.SelfMulSub(S,V),i-=C*Vt.CrossVV(v,V),o.SelfMulAdd(w,V),a+=A*Vt.CrossVV(y,V),e.positions[this.m_indexA].a=i,e.positions[this.m_indexB].a=a,c<=b&&l<=g}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.z}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"GetJointAngle",value:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}},{key:"GetJointSpeed",value:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"GetMotorTorque",value:function(t){return t*this.m_motorImpulse}},{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"SetMaxMotorTorque",value:function(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}},{key:"GetMaxMotorTorque",value:function(){return this.m_maxMotorTorque}},{key:"IsLimitEnabled",value:function(){return this.m_enableLimit}},{key:"EnableLimit",value:function(t){t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_impulse.z=0)}},{key:"GetLowerLimit",value:function(){return this.m_lowerAngle}},{key:"GetUpperLimit",value:function(){return this.m_upperAngle}},{key:"SetLimits",value:function(t,e){t===this.m_lowerAngle&&e===this.m_upperAngle||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=t,this.m_upperAngle=e)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2RevoluteJointDef = new b2RevoluteJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),t("  jd.lowerAngle = %.15f;\n",this.m_lowerAngle),t("  jd.upperAngle = %.15f;\n",this.m_upperAngle),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),r}(Vi);Xi.InitVelocityConstraints_s_P=new Vt,Xi.SolveVelocityConstraints_s_P=new Vt,Xi.SolveVelocityConstraints_s_Cdot_v2=new Vt,Xi.SolveVelocityConstraints_s_Cdot1=new Vt,Xi.SolveVelocityConstraints_s_impulse_v3=new Mt,Xi.SolveVelocityConstraints_s_reduced_v2=new Vt,Xi.SolveVelocityConstraints_s_impulse_v2=new Vt,Xi.SolvePositionConstraints_s_C_v2=new Vt,Xi.SolvePositionConstraints_s_impulse=new Vt;var Hi=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_ropeJoint)).localAnchorA=new Vt(-1,0),e.localAnchorB=new Vt(1,0),e.maxLength=0,e}return i}(ki),Qi=function(e){a(r,e);var i=s(r);function r(e){var o;return u(this,r),(o=i.call(this,e)).m_localAnchorA=new Vt,o.m_localAnchorB=new Vt,o.m_maxLength=0,o.m_length=0,o.m_impulse=0,o.m_indexA=0,o.m_indexB=0,o.m_u=new Vt,o.m_rA=new Vt,o.m_rB=new Vt,o.m_localCenterA=new Vt,o.m_localCenterB=new Vt,o.m_invMassA=0,o.m_invMassB=0,o.m_invIA=0,o.m_invIB=0,o.m_mass=0,o.m_state=t.b2LimitState.e_inactiveLimit,o.m_qA=new jt,o.m_qB=new jt,o.m_lalcA=new Vt,o.m_lalcB=new Vt,o.m_localAnchorA.Copy(n(e.localAnchorA,new Vt(-1,0))),o.m_localAnchorB.Copy(n(e.localAnchorB,new Vt(1,0))),o.m_maxLength=n(e.maxLength,0),o}return l(r,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var n=e.positions[this.m_indexA].c,i=e.positions[this.m_indexA].a,o=e.velocities[this.m_indexA].v,a=e.velocities[this.m_indexA].w,s=e.positions[this.m_indexB].c,u=e.positions[this.m_indexB].a,l=e.velocities[this.m_indexB].v,c=e.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(i),f=this.m_qB.SetAngle(u);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),jt.MulRV(h,this.m_lalcA,this.m_rA),Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),jt.MulRV(f,this.m_lalcB,this.m_rB),this.m_u.Copy(s).SelfAdd(this.m_rB).SelfSub(n).SelfSub(this.m_rA),this.m_length=this.m_u.Length();var m=this.m_length-this.m_maxLength;if(this.m_state=m>0?t.b2LimitState.e_atUpperLimit:t.b2LimitState.e_inactiveLimit,!(this.m_length>b))return this.m_u.SetZero(),this.m_mass=0,void(this.m_impulse=0);this.m_u.SelfMul(1/this.m_length);var d=Vt.CrossVV(this.m_rA,this.m_u),_=Vt.CrossVV(this.m_rB,this.m_u),p=this.m_invMassA+this.m_invIA*d*d+this.m_invMassB+this.m_invIB*_*_;if(this.m_mass=0!==p?1/p:0,e.step.warmStarting){this.m_impulse*=e.step.dtRatio;var v=Vt.MulSV(this.m_impulse,this.m_u,r.InitVelocityConstraints_s_P);o.SelfMulSub(this.m_invMassA,v),a-=this.m_invIA*Vt.CrossVV(this.m_rA,v),l.SelfMulAdd(this.m_invMassB,v),c+=this.m_invIB*Vt.CrossVV(this.m_rB,v)}else this.m_impulse=0;e.velocities[this.m_indexA].w=a,e.velocities[this.m_indexB].w=c}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,i=t.velocities[this.m_indexB].v,o=t.velocities[this.m_indexB].w,a=Vt.AddVCrossSV(e,n,this.m_rA,r.SolveVelocityConstraints_s_vpA),s=Vt.AddVCrossSV(i,o,this.m_rB,r.SolveVelocityConstraints_s_vpB),u=this.m_length-this.m_maxLength,l=Vt.DotVV(this.m_u,Vt.SubVV(s,a,Vt.s_t0));u<0&&(l+=t.step.inv_dt*u);var c=-this.m_mass*l,h=this.m_impulse;this.m_impulse=ut(0,this.m_impulse+c),c=this.m_impulse-h;var f=Vt.MulSV(c,this.m_u,r.SolveVelocityConstraints_s_P);e.SelfMulSub(this.m_invMassA,f),n-=this.m_invIA*Vt.CrossVV(this.m_rA,f),i.SelfMulAdd(this.m_invMassB,f),o+=this.m_invIB*Vt.CrossVV(this.m_rB,f),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,i=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=this.m_qA.SetAngle(n),s=this.m_qB.SetAngle(o);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var u=jt.MulRV(a,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var l=jt.MulRV(s,this.m_lalcB,this.m_rB),c=this.m_u.Copy(i).SelfAdd(l).SelfSub(e).SelfSub(u),h=c.Normalize(),f=h-this.m_maxLength;f=ct(f,0,A);var m=-this.m_mass*f,d=Vt.MulSV(m,c,r.SolvePositionConstraints_s_P);return e.SelfMulSub(this.m_invMassA,d),n-=this.m_invIA*Vt.CrossVV(u,d),i.SelfMulAdd(this.m_invMassB,d),o+=this.m_invIB*Vt.CrossVV(l,d),t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=o,h-this.m_maxLength<b}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return Vt.MulSV(t*this.m_impulse,this.m_u,e)}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetMaxLength",value:function(t){this.m_maxLength=t}},{key:"GetMaxLength",value:function(){return this.m_maxLength}},{key:"GetLimitState",value:function(){return this.m_state}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2RopeJointDef = new b2RopeJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.maxLength = %.15f;\n",this.m_maxLength),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),r}(Vi);Qi.InitVelocityConstraints_s_P=new Vt,Qi.SolveVelocityConstraints_s_vpA=new Vt,Qi.SolveVelocityConstraints_s_vpB=new Vt,Qi.SolveVelocityConstraints_s_P=new Vt,Qi.SolvePositionConstraints_s_P=new Vt;var $i=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_weldJoint)).localAnchorA=new Vt,e.localAnchorB=new Vt,e.referenceAngle=0,e.frequencyHz=0,e.dampingRatio=0,e}return l(i,[{key:"Initialize",value:function(t,e,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(n,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(ki),Zi=function(t){a(i,t);var e=s(i);function i(t){var r;return u(this,i),(r=e.call(this,t)).m_frequencyHz=0,r.m_dampingRatio=0,r.m_bias=0,r.m_localAnchorA=new Vt,r.m_localAnchorB=new Vt,r.m_referenceAngle=0,r.m_gamma=0,r.m_impulse=new Mt(0,0,0),r.m_indexA=0,r.m_indexB=0,r.m_rA=new Vt,r.m_rB=new Vt,r.m_localCenterA=new Vt,r.m_localCenterB=new Vt,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_mass=new It,r.m_qA=new jt,r.m_qB=new jt,r.m_lalcA=new Vt,r.m_lalcB=new Vt,r.m_K=new It,r.m_frequencyHz=n(t.frequencyHz,0),r.m_dampingRatio=n(t.dampingRatio,0),r.m_localAnchorA.Copy(n(t.localAnchorA,Vt.ZERO)),r.m_localAnchorB.Copy(n(t.localAnchorB,Vt.ZERO)),r.m_referenceAngle=n(t.referenceAngle,0),r.m_impulse.SetZero(),r}return l(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,o=t.positions[this.m_indexB].a,a=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,u=this.m_qA.SetAngle(e),l=this.m_qB.SetAngle(o);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),jt.MulRV(u,this.m_lalcA,this.m_rA),Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),jt.MulRV(l,this.m_lalcB,this.m_rB);var c=this.m_invMassA,h=this.m_invMassB,f=this.m_invIA,m=this.m_invIB,_=this.m_K;if(_.ex.x=c+h+this.m_rA.y*this.m_rA.y*f+this.m_rB.y*this.m_rB.y*m,_.ey.x=-this.m_rA.y*this.m_rA.x*f-this.m_rB.y*this.m_rB.x*m,_.ez.x=-this.m_rA.y*f-this.m_rB.y*m,_.ex.y=_.ey.x,_.ey.y=c+h+this.m_rA.x*this.m_rA.x*f+this.m_rB.x*this.m_rB.x*m,_.ez.y=this.m_rA.x*f+this.m_rB.x*m,_.ex.z=_.ez.x,_.ey.z=_.ez.y,_.ez.z=f+m,this.m_frequencyHz>0){_.GetInverse22(this.m_mass);var p=f+m,v=p>0?1/p:0,y=o-e-this.m_referenceAngle,b=2*d*this.m_frequencyHz,g=2*v*this.m_dampingRatio*b,x=v*b*b,S=t.step.dt;this.m_gamma=S*(g+S*x),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=y*S*x*this.m_gamma,p+=this.m_gamma,this.m_mass.ez.z=0!==p?1/p:0}else _.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0;if(t.step.warmStarting){this.m_impulse.SelfMul(t.step.dtRatio);var w=i.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);n.SelfMulSub(c,w),r-=f*(Vt.CrossVV(this.m_rA,w)+this.m_impulse.z),a.SelfMulAdd(h,w),s+=m*(Vt.CrossVV(this.m_rB,w)+this.m_impulse.z)}else this.m_impulse.SetZero();t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=s}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,o=t.velocities[this.m_indexB].w,a=this.m_invMassA,s=this.m_invMassB,u=this.m_invIA,l=this.m_invIB;if(this.m_frequencyHz>0){var c=o-n,h=-this.m_mass.ez.z*(c+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=h,n-=u*h,o+=l*h;var f=Vt.SubVV(Vt.AddVCrossSV(r,o,this.m_rB,Vt.s_t0),Vt.AddVCrossSV(e,n,this.m_rA,Vt.s_t1),i.SolveVelocityConstraints_s_Cdot1),m=It.MulM33XY(this.m_mass,f.x,f.y,i.SolveVelocityConstraints_s_impulse1).SelfNeg();this.m_impulse.x+=m.x,this.m_impulse.y+=m.y;var d=m;e.SelfMulSub(a,d),n-=u*Vt.CrossVV(this.m_rA,d),r.SelfMulAdd(s,d),o+=l*Vt.CrossVV(this.m_rB,d)}else{var _=Vt.SubVV(Vt.AddVCrossSV(r,o,this.m_rB,Vt.s_t0),Vt.AddVCrossSV(e,n,this.m_rA,Vt.s_t1),i.SolveVelocityConstraints_s_Cdot1),p=o-n,v=It.MulM33XYZ(this.m_mass,_.x,_.y,p,i.SolveVelocityConstraints_s_impulse).SelfNeg();this.m_impulse.SelfAdd(v);var y=i.SolveVelocityConstraints_s_P.Set(v.x,v.y);e.SelfMulSub(a,y),n-=u*(Vt.CrossVV(this.m_rA,y)+v.z),r.SelfMulAdd(s,y),o+=l*(Vt.CrossVV(this.m_rB,y)+v.z)}t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=this.m_qA.SetAngle(n),s=this.m_qB.SetAngle(o),u=this.m_invMassA,l=this.m_invMassB,c=this.m_invIA,h=this.m_invIB;Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var f=jt.MulRV(a,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var m,d,_=jt.MulRV(s,this.m_lalcB,this.m_rB),p=this.m_K;if(p.ex.x=u+l+f.y*f.y*c+_.y*_.y*h,p.ey.x=-f.y*f.x*c-_.y*_.x*h,p.ez.x=-f.y*c-_.y*h,p.ex.y=p.ey.x,p.ey.y=u+l+f.x*f.x*c+_.x*_.x*h,p.ez.y=f.x*c+_.x*h,p.ex.z=p.ez.x,p.ey.z=p.ez.y,p.ez.z=c+h,this.m_frequencyHz>0){var v=Vt.SubVV(Vt.AddVV(r,_,Vt.s_t0),Vt.AddVV(e,f,Vt.s_t1),i.SolvePositionConstraints_s_C1);m=v.Length(),d=0;var y=p.Solve22(v.x,v.y,i.SolvePositionConstraints_s_P).SelfNeg();e.SelfMulSub(u,y),n-=c*Vt.CrossVV(f,y),r.SelfMulAdd(l,y),o+=h*Vt.CrossVV(_,y)}else{var x=Vt.SubVV(Vt.AddVV(r,_,Vt.s_t0),Vt.AddVV(e,f,Vt.s_t1),i.SolvePositionConstraints_s_C1),S=o-n-this.m_referenceAngle;m=x.Length(),d=st(S);var w=p.Solve33(x.x,x.y,S,i.SolvePositionConstraints_s_impulse).SelfNeg(),C=i.SolvePositionConstraints_s_P.Set(w.x,w.y);e.SelfMulSub(u,C),n-=c*(Vt.CrossVV(this.m_rA,C)+w.z),r.SelfMulAdd(l,C),o+=h*(Vt.CrossVV(this.m_rB,C)+w.z)}return t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=o,m<=b&&d<=g}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.z}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2WeldJointDef = new b2WeldJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(Vi);Zi.InitVelocityConstraints_s_P=new Vt,Zi.SolveVelocityConstraints_s_Cdot1=new Vt,Zi.SolveVelocityConstraints_s_impulse1=new Vt,Zi.SolveVelocityConstraints_s_impulse=new Mt,Zi.SolveVelocityConstraints_s_P=new Vt,Zi.SolvePositionConstraints_s_C1=new Vt,Zi.SolvePositionConstraints_s_P=new Vt,Zi.SolvePositionConstraints_s_impulse=new Mt;var Ki=function(e){a(i,e);var n=s(i);function i(){var e;return u(this,i),(e=n.call(this,t.b2JointType.e_wheelJoint)).localAnchorA=new Vt(0,0),e.localAnchorB=new Vt(0,0),e.localAxisA=new Vt(1,0),e.enableMotor=!1,e.maxMotorTorque=0,e.motorSpeed=0,e.frequencyHz=2,e.dampingRatio=.7,e}return l(i,[{key:"Initialize",value:function(t,e,n,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(n,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB),this.bodyA.GetLocalVector(i,this.localAxisA)}}]),i}(ki),Yi=function(t){a(i,t);var e=s(i);function i(t){var r;return u(this,i),(r=e.call(this,t)).m_frequencyHz=0,r.m_dampingRatio=0,r.m_localAnchorA=new Vt,r.m_localAnchorB=new Vt,r.m_localXAxisA=new Vt,r.m_localYAxisA=new Vt,r.m_impulse=0,r.m_motorImpulse=0,r.m_springImpulse=0,r.m_maxMotorTorque=0,r.m_motorSpeed=0,r.m_enableMotor=!1,r.m_indexA=0,r.m_indexB=0,r.m_localCenterA=new Vt,r.m_localCenterB=new Vt,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_ax=new Vt,r.m_ay=new Vt,r.m_sAx=0,r.m_sBx=0,r.m_sAy=0,r.m_sBy=0,r.m_mass=0,r.m_motorMass=0,r.m_springMass=0,r.m_bias=0,r.m_gamma=0,r.m_qA=new jt,r.m_qB=new jt,r.m_lalcA=new Vt,r.m_lalcB=new Vt,r.m_rA=new Vt,r.m_rB=new Vt,r.m_frequencyHz=n(t.frequencyHz,2),r.m_dampingRatio=n(t.dampingRatio,.7),r.m_localAnchorA.Copy(n(t.localAnchorA,Vt.ZERO)),r.m_localAnchorB.Copy(n(t.localAnchorB,Vt.ZERO)),r.m_localXAxisA.Copy(n(t.localAxisA,Vt.UNITX)),Vt.CrossOneV(r.m_localXAxisA,r.m_localYAxisA),r.m_maxMotorTorque=n(t.maxMotorTorque,0),r.m_motorSpeed=n(t.motorSpeed,0),r.m_enableMotor=n(t.enableMotor,!1),r.m_ax.SetZero(),r.m_ay.SetZero(),r}return l(i,[{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"GetMaxMotorTorque",value:function(){return this.m_maxMotorTorque}},{key:"SetSpringFrequencyHz",value:function(t){this.m_frequencyHz=t}},{key:"GetSpringFrequencyHz",value:function(){return this.m_frequencyHz}},{key:"SetSpringDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetSpringDampingRatio",value:function(){return this.m_dampingRatio}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=this.m_invMassA,n=this.m_invMassB,r=this.m_invIA,o=this.m_invIB,a=t.positions[this.m_indexA].c,s=t.positions[this.m_indexA].a,u=t.velocities[this.m_indexA].v,l=t.velocities[this.m_indexA].w,c=t.positions[this.m_indexB].c,h=t.positions[this.m_indexB].a,f=t.velocities[this.m_indexB].v,m=t.velocities[this.m_indexB].w,_=this.m_qA.SetAngle(s),p=this.m_qB.SetAngle(h);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var v=jt.MulRV(_,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var y=jt.MulRV(p,this.m_lalcB,this.m_rB),b=Vt.SubVV(Vt.AddVV(c,y,Vt.s_t0),Vt.AddVV(a,v,Vt.s_t1),i.InitVelocityConstraints_s_d);if(jt.MulRV(_,this.m_localYAxisA,this.m_ay),this.m_sAy=Vt.CrossVV(Vt.AddVV(b,v,Vt.s_t0),this.m_ay),this.m_sBy=Vt.CrossVV(y,this.m_ay),this.m_mass=e+n+r*this.m_sAy*this.m_sAy+o*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){jt.MulRV(_,this.m_localXAxisA,this.m_ax),this.m_sAx=Vt.CrossVV(Vt.AddVV(b,v,Vt.s_t0),this.m_ax),this.m_sBx=Vt.CrossVV(y,this.m_ax);var g=e+n+r*this.m_sAx*this.m_sAx+o*this.m_sBx*this.m_sBx;if(g>0){this.m_springMass=1/g;var x=Vt.DotVV(b,this.m_ax),S=2*d*this.m_frequencyHz,w=2*this.m_springMass*this.m_dampingRatio*S,C=this.m_springMass*S*S,A=t.step.dt;this.m_gamma=A*(w+A*C),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=x*A*C*this.m_gamma,this.m_springMass=g+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=r+o,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse*=t.step.dtRatio,this.m_springImpulse*=t.step.dtRatio,this.m_motorImpulse*=t.step.dtRatio;var B=Vt.AddVV(Vt.MulSV(this.m_impulse,this.m_ay,Vt.s_t0),Vt.MulSV(this.m_springImpulse,this.m_ax,Vt.s_t1),i.InitVelocityConstraints_s_P),k=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,V=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;u.SelfMulSub(this.m_invMassA,B),l-=this.m_invIA*k,f.SelfMulAdd(this.m_invMassB,B),m+=this.m_invIB*V}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;t.velocities[this.m_indexA].w=l,t.velocities[this.m_indexB].w=m}},{key:"SolveVelocityConstraints",value:function(t){var e=this.m_invMassA,n=this.m_invMassB,r=this.m_invIA,o=this.m_invIB,a=t.velocities[this.m_indexA].v,s=t.velocities[this.m_indexA].w,u=t.velocities[this.m_indexB].v,l=t.velocities[this.m_indexB].w,c=Vt.DotVV(this.m_ax,Vt.SubVV(u,a,Vt.s_t0))+this.m_sBx*l-this.m_sAx*s,h=-this.m_springMass*(c+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=h;var f=Vt.MulSV(h,this.m_ax,i.SolveVelocityConstraints_s_P),m=h*this.m_sAx,d=h*this.m_sBx;a.SelfMulSub(e,f),s-=r*m,u.SelfMulAdd(n,f);var _=(l+=o*d)-s-this.m_motorSpeed,p=-this.m_motorMass*_,v=this.m_motorImpulse,y=t.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=ct(this.m_motorImpulse+p,-y,y),s-=r*(p=this.m_motorImpulse-v),l+=o*p;var b=Vt.DotVV(this.m_ay,Vt.SubVV(u,a,Vt.s_t0))+this.m_sBy*l-this.m_sAy*s,g=-this.m_mass*b;this.m_impulse+=g;var x=Vt.MulSV(g,this.m_ay,i.SolveVelocityConstraints_s_P),S=g*this.m_sAy,w=g*this.m_sBy;a.SelfMulSub(e,x),s-=r*S,u.SelfMulAdd(n,x),l+=o*w,t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=l}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=this.m_qA.SetAngle(n),s=this.m_qB.SetAngle(o);Vt.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var u=jt.MulRV(a,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var l,c=jt.MulRV(s,this.m_lalcB,this.m_rB),h=Vt.AddVV(Vt.SubVV(r,e,Vt.s_t0),Vt.SubVV(c,u,Vt.s_t1),i.SolvePositionConstraints_s_d),f=jt.MulRV(a,this.m_localYAxisA,this.m_ay),m=Vt.CrossVV(Vt.AddVV(h,u,Vt.s_t0),f),d=Vt.CrossVV(c,f),_=Vt.DotVV(h,this.m_ay),p=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy;l=0!==p?-_/p:0;var v=Vt.MulSV(l,f,i.SolvePositionConstraints_s_P),y=l*m,g=l*d;return e.SelfMulSub(this.m_invMassA,v),n-=this.m_invIA*y,r.SelfMulAdd(this.m_invMassB,v),o+=this.m_invIB*g,t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=o,st(_)<=b}},{key:"GetDefinition",value:function(t){return t}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),e.y=t*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),e}},{key:"GetReactionTorque",value:function(t){return t*this.m_motorImpulse}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetLocalAxisA",value:function(){return this.m_localXAxisA}},{key:"GetJointTranslation",value:function(){return this.GetPrismaticJointTranslation()}},{key:"GetJointLinearSpeed",value:function(){return this.GetPrismaticJointSpeed()}},{key:"GetJointAngle",value:function(){return this.GetRevoluteJointAngle()}},{key:"GetJointAngularSpeed",value:function(){return this.GetRevoluteJointSpeed()}},{key:"GetPrismaticJointTranslation",value:function(){var t=this.m_bodyA,e=this.m_bodyB,n=t.GetWorldPoint(this.m_localAnchorA,new Vt),i=e.GetWorldPoint(this.m_localAnchorB,new Vt),r=Vt.SubVV(i,n,new Vt),o=t.GetWorldVector(this.m_localXAxisA,new Vt);return Vt.DotVV(r,o)}},{key:"GetPrismaticJointSpeed",value:function(){var t=this.m_bodyA,e=this.m_bodyB;Vt.SubVV(this.m_localAnchorA,t.m_sweep.localCenter,this.m_lalcA);var n=jt.MulRV(t.m_xf.q,this.m_lalcA,this.m_rA);Vt.SubVV(this.m_localAnchorB,e.m_sweep.localCenter,this.m_lalcB);var i=jt.MulRV(e.m_xf.q,this.m_lalcB,this.m_rB),r=Vt.AddVV(t.m_sweep.c,n,Vt.s_t0),o=Vt.AddVV(e.m_sweep.c,i,Vt.s_t1),a=Vt.SubVV(o,r,Vt.s_t2),s=t.GetWorldVector(this.m_localXAxisA,new Vt),u=t.m_linearVelocity,l=e.m_linearVelocity,c=t.m_angularVelocity,h=e.m_angularVelocity;return Vt.DotVV(a,Vt.CrossSV(c,s,Vt.s_t0))+Vt.DotVV(s,Vt.SubVV(Vt.AddVCrossSV(l,h,i,Vt.s_t0),Vt.AddVCrossSV(u,c,n,Vt.s_t1),Vt.s_t0))}},{key:"GetRevoluteJointAngle",value:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}},{key:"GetRevoluteJointSpeed",value:function(){var t=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-t}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"SetMaxMotorTorque",value:function(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}},{key:"GetMotorTorque",value:function(t){return t*this.m_motorImpulse}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,n=this.m_bodyB.m_islandIndex;t("  const jd: b2WheelJointDef = new b2WheelJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",n),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(Vi);function tr(t,e){return _t(t*e)}function er(t,e){return t>e?t:e}Yi.InitVelocityConstraints_s_d=new Vt,Yi.InitVelocityConstraints_s_P=new Vt,Yi.SolveVelocityConstraints_s_P=new Vt,Yi.SolvePositionConstraints_s_d=new Vt,Yi.SolvePositionConstraints_s_P=new Vt;var nr=function(){function t(e){u(this,t),this._other=null,this.prev=null,this.next=null,this.contact=e}return l(t,[{key:"Reset",value:function(){this._other=null,this.prev=null,this.next=null}},{key:"other",get:function(){if(null===this._other)throw new Error;return this._other},set:function(t){if(null!==this._other)throw new Error;this._other=t}}]),t}(),ir=function(){function t(){u(this,t),this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_nodeA=new nr(this),this.m_nodeB=new nr(this),this.m_indexA=0,this.m_indexB=0,this.m_manifold=new we,this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_oldManifold=new we}return l(t,[{key:"GetManifold",value:function(){return this.m_manifold}},{key:"GetWorldManifold",value:function(t){var e=this.m_fixtureA.GetBody(),n=this.m_fixtureB.GetBody(),i=this.GetShapeA(),r=this.GetShapeB();t.Initialize(this.m_manifold,e.GetTransform(),i.m_radius,n.GetTransform(),r.m_radius)}},{key:"IsTouching",value:function(){return this.m_touchingFlag}},{key:"SetEnabled",value:function(t){this.m_enabledFlag=t}},{key:"IsEnabled",value:function(){return this.m_enabledFlag}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetFixtureA",value:function(){return this.m_fixtureA}},{key:"GetChildIndexA",value:function(){return this.m_indexA}},{key:"GetShapeA",value:function(){return this.m_fixtureA.GetShape()}},{key:"GetFixtureB",value:function(){return this.m_fixtureB}},{key:"GetChildIndexB",value:function(){return this.m_indexB}},{key:"GetShapeB",value:function(){return this.m_fixtureB.GetShape()}},{key:"FlagForFiltering",value:function(){this.m_filterFlag=!0}},{key:"SetFriction",value:function(t){this.m_friction=t}},{key:"GetFriction",value:function(){return this.m_friction}},{key:"ResetFriction",value:function(){this.m_friction=tr(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}},{key:"SetRestitution",value:function(t){this.m_restitution=t}},{key:"GetRestitution",value:function(){return this.m_restitution}},{key:"ResetRestitution",value:function(){this.m_restitution=er(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}},{key:"SetTangentSpeed",value:function(t){this.m_tangentSpeed=t}},{key:"GetTangentSpeed",value:function(){return this.m_tangentSpeed}},{key:"Reset",value:function(t,e,n,i){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=t,this.m_fixtureB=n,this.m_indexA=e,this.m_indexB=i,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.Reset(),this.m_nodeB.Reset(),this.m_toiCount=0,this.m_friction=tr(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=er(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}},{key:"Update",value:function(t){var e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_enabledFlag=!0;var n=!1,i=this.m_touchingFlag,r=this.m_fixtureA.IsSensor(),o=this.m_fixtureB.IsSensor(),a=r||o,s=this.m_fixtureA.GetBody(),u=this.m_fixtureB.GetBody(),l=s.GetTransform(),c=u.GetTransform();if(a){var h=this.GetShapeA(),f=this.GetShapeB();n=Te(h,this.m_indexA,f,this.m_indexB,l,c),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,l,c),n=this.m_manifold.pointCount>0;for(var m=0;m<this.m_manifold.pointCount;++m){var d=this.m_manifold.points[m];d.normalImpulse=0,d.tangentImpulse=0;for(var _=d.id,p=0;p<this.m_oldManifold.pointCount;++p){var v=this.m_oldManifold.points[p];if(v.id.key===_.key){d.normalImpulse=v.normalImpulse,d.tangentImpulse=v.tangentImpulse;break}}}n!==i&&(s.SetAwake(!0),u.SetAwake(!0))}this.m_touchingFlag=n,!i&&n&&t&&t.BeginContact(this),i&&!n&&t&&t.EndContact(this),!a&&n&&t&&t.PreSolve(this,this.m_oldManifold)}},{key:"ComputeTOI",value:function(e,n){var i=t.ComputeTOI_s_input;i.proxyA.SetShape(this.GetShapeA(),this.m_indexA),i.proxyB.SetShape(this.GetShapeB(),this.m_indexB),i.sweepA.Copy(e),i.sweepB.Copy(n),i.tMax=b;var r=t.ComputeTOI_s_output;return dn(r,i),r.t}}]),t}();ir.ComputeTOI_s_input=new tn,ir.ComputeTOI_s_output=new nn;var rr=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Evaluate",value:function(t,e,n){vn(t,this.GetShapeA(),e,this.GetShapeB(),n)}}],[{key:"Create",value:function(){return new n}},{key:"Destroy",value:function(t){}}]),n}(ir),or=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Evaluate",value:function(t,e,n){Jn(t,this.GetShapeA(),e,this.GetShapeB(),n)}}],[{key:"Create",value:function(){return new n}},{key:"Destroy",value:function(t){}}]),n}(ir),ar=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Evaluate",value:function(t,e,n){xn(t,this.GetShapeA(),e,this.GetShapeB(),n)}}],[{key:"Create",value:function(){return new n}},{key:"Destroy",value:function(t){}}]),n}(ir),sr=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Evaluate",value:function(t,e,n){ei(t,this.GetShapeA(),e,this.GetShapeB(),n)}}],[{key:"Create",value:function(){return new n}},{key:"Destroy",value:function(t){}}]),n}(ir),ur=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Evaluate",value:function(t,e,n){ui(t,this.GetShapeA(),e,this.GetShapeB(),n)}}],[{key:"Create",value:function(){return new n}},{key:"Destroy",value:function(t){}}]),n}(ir),lr=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Evaluate",value:function(t,e,i){var r=n.Evaluate_s_edge;this.GetShapeA().GetChildEdge(r,this.m_indexA),ei(t,r,e,this.GetShapeB(),i)}}],[{key:"Create",value:function(){return new n}},{key:"Destroy",value:function(t){}}]),n}(ir);lr.Evaluate_s_edge=new di;var cr=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Evaluate",value:function(t,e,i){var r=n.Evaluate_s_edge;this.GetShapeA().GetChildEdge(r,this.m_indexA),ui(t,r,e,this.GetShapeB(),i)}}],[{key:"Create",value:function(){return new n}},{key:"Destroy",value:function(t){}}]),n}(ir);cr.Evaluate_s_edge=new di;var hr=function t(){u(this,t),this.pool=[],this.createFcn=null,this.destroyFcn=null,this.primary=!1},fr=function(){function e(){u(this,e),this.m_registers=[],this.InitializeRegisters()}return l(e,[{key:"AddType",value:function(t,e,n,i){var r=[];function o(){return r.pop()||t()}function a(t){r.push(t)}this.m_registers[n][i].pool=r,this.m_registers[n][i].createFcn=o,this.m_registers[n][i].destroyFcn=a,this.m_registers[n][i].primary=!0,n!==i&&(this.m_registers[i][n].pool=r,this.m_registers[i][n].createFcn=o,this.m_registers[i][n].destroyFcn=a,this.m_registers[i][n].primary=!1)}},{key:"InitializeRegisters",value:function(){for(var e=0;e<t.b2ShapeType.e_shapeTypeCount;e++){this.m_registers[e]=[];for(var n=0;n<t.b2ShapeType.e_shapeTypeCount;n++)this.m_registers[e][n]=new hr}this.AddType(rr.Create,rr.Destroy,t.b2ShapeType.e_circleShape,t.b2ShapeType.e_circleShape),this.AddType(ar.Create,ar.Destroy,t.b2ShapeType.e_polygonShape,t.b2ShapeType.e_circleShape),this.AddType(or.Create,or.Destroy,t.b2ShapeType.e_polygonShape,t.b2ShapeType.e_polygonShape),this.AddType(sr.Create,sr.Destroy,t.b2ShapeType.e_edgeShape,t.b2ShapeType.e_circleShape),this.AddType(ur.Create,ur.Destroy,t.b2ShapeType.e_edgeShape,t.b2ShapeType.e_polygonShape),this.AddType(lr.Create,lr.Destroy,t.b2ShapeType.e_chainShape,t.b2ShapeType.e_circleShape),this.AddType(cr.Create,cr.Destroy,t.b2ShapeType.e_chainShape,t.b2ShapeType.e_polygonShape)}},{key:"Create",value:function(t,e,n,i){var r=t.GetType(),o=n.GetType(),a=this.m_registers[r][o];if(a.createFcn){var s=a.createFcn();return a.primary?s.Reset(t,e,n,i):s.Reset(n,i,t,e),s}return null}},{key:"Destroy",value:function(t){var e=t.m_fixtureA.GetType(),n=t.m_fixtureB.GetType(),i=this.m_registers[e][n];i.destroyFcn&&i.destroyFcn(t)}}]),e}(),mr=function(){function t(){u(this,t)}return l(t,[{key:"SayGoodbyeJoint",value:function(t){}},{key:"SayGoodbyeFixture",value:function(t){}},{key:"SayGoodbyeParticleGroup",value:function(t){}},{key:"SayGoodbyeParticle",value:function(t,e){}}]),t}(),dr=function(){function e(){u(this,e)}return l(e,[{key:"ShouldCollide",value:function(e,n){var i=e.GetBody(),r=n.GetBody();if(r.GetType()===t.b2BodyType.b2_staticBody&&i.GetType()===t.b2BodyType.b2_staticBody)return!1;if(!r.ShouldCollideConnected(i))return!1;var o=e.GetFilterData(),a=n.GetFilterData();return o.groupIndex===a.groupIndex&&0!==o.groupIndex?o.groupIndex>0:0!==(o.maskBits&a.categoryBits)&&0!==(o.categoryBits&a.maskBits)}},{key:"ShouldCollideFixtureParticle",value:function(t,e,n){return!0}},{key:"ShouldCollideParticleParticle",value:function(t,e,n){return!0}}]),e}();dr.b2_defaultFilter=new dr;var _r=function t(){u(this,t),this.normalImpulses=it(_),this.tangentImpulses=it(_),this.count=0},pr=function(){function t(){u(this,t)}return l(t,[{key:"BeginContact",value:function(t){}},{key:"EndContact",value:function(t){}},{key:"BeginContactFixtureParticle",value:function(t,e){}},{key:"EndContactFixtureParticle",value:function(t,e){}},{key:"BeginContactParticleParticle",value:function(t,e){}},{key:"EndContactParticleParticle",value:function(t,e){}},{key:"PreSolve",value:function(t,e){}},{key:"PostSolve",value:function(t,e){}}]),t}();pr.b2_defaultListener=new pr;var vr=function(){function t(){u(this,t)}return l(t,[{key:"ReportFixture",value:function(t){return!0}},{key:"ReportParticle",value:function(t,e){return!1}},{key:"ShouldQueryParticleSystem",value:function(t){return!0}}]),t}(),yr=function(){function t(){u(this,t)}return l(t,[{key:"ReportFixture",value:function(t,e,n,i){return i}},{key:"ReportParticle",value:function(t,e,n,i,r){return 0}},{key:"ShouldQueryParticleSystem",value:function(t){return!0}}]),t}(),br=function(){function e(){u(this,e),this.m_broadPhase=new qe,this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=dr.b2_defaultFilter,this.m_contactListener=pr.b2_defaultListener,this.m_contactFactory=new fr}return l(e,[{key:"AddPair",value:function(t,e){var n=t.fixture,i=e.fixture,r=t.childIndex,o=e.childIndex,a=n.GetBody(),s=i.GetBody();if(a!==s){for(var u=s.GetContactList();u;){if(u.other===a){var l=u.contact.GetFixtureA(),c=u.contact.GetFixtureB(),h=u.contact.GetChildIndexA(),f=u.contact.GetChildIndexB();if(l===n&&c===i&&h===r&&f===o)return;if(l===i&&c===n&&h===o&&f===r)return}u=u.next}if(!this.m_contactFilter||this.m_contactFilter.ShouldCollide(n,i)){var m=this.m_contactFactory.Create(n,r,i,o);null!==m&&(n=m.GetFixtureA(),i=m.GetFixtureB(),r=m.GetChildIndexA(),o=m.GetChildIndexB(),a=n.m_body,s=i.m_body,m.m_prev=null,m.m_next=this.m_contactList,null!==this.m_contactList&&(this.m_contactList.m_prev=m),this.m_contactList=m,m.m_nodeA.other=s,m.m_nodeA.prev=null,m.m_nodeA.next=a.m_contactList,null!==a.m_contactList&&(a.m_contactList.prev=m.m_nodeA),a.m_contactList=m.m_nodeA,m.m_nodeB.other=a,m.m_nodeB.prev=null,m.m_nodeB.next=s.m_contactList,null!==s.m_contactList&&(s.m_contactList.prev=m.m_nodeB),s.m_contactList=m.m_nodeB,n.IsSensor()||i.IsSensor()||(a.SetAwake(!0),s.SetAwake(!0)),++this.m_contactCount)}}}},{key:"FindNewContacts",value:function(){var t=this;this.m_broadPhase.UpdatePairs((function(e,n){t.AddPair(e,n)}))}},{key:"Destroy",value:function(t){var e=t.GetFixtureA(),n=t.GetFixtureB(),i=e.GetBody(),r=n.GetBody();this.m_contactListener&&t.IsTouching()&&this.m_contactListener.EndContact(t),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_contactList&&(this.m_contactList=t.m_next),t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA===i.m_contactList&&(i.m_contactList=t.m_nodeA.next),t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB===r.m_contactList&&(r.m_contactList=t.m_nodeB.next),t.m_manifold.pointCount>0&&!e.IsSensor()&&!n.IsSensor()&&(e.GetBody().SetAwake(!0),n.GetBody().SetAwake(!0)),this.m_contactFactory.Destroy(t),--this.m_contactCount}},{key:"Collide",value:function(){for(var e=this.m_contactList;e;){var n=e.GetFixtureA(),i=e.GetFixtureB(),r=e.GetChildIndexA(),o=e.GetChildIndexB(),a=n.GetBody(),s=i.GetBody();if(e.m_filterFlag){if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(n,i)){var u=e;e=u.m_next,this.Destroy(u);continue}e.m_filterFlag=!1}var l=a.IsAwake()&&a.m_type!==t.b2BodyType.b2_staticBody,c=s.IsAwake()&&s.m_type!==t.b2BodyType.b2_staticBody;if(l||c){var h=n.m_proxies[r].treeNode,f=i.m_proxies[o].treeNode;if(Me(h.aabb,f.aabb))e.Update(this.m_contactListener),e=e.m_next;else{var m=e;e=m.m_next,this.Destroy(m)}}else e=e.m_next}}}]),e}(),gr=function(){function t(){u(this,t),this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0}return l(t,[{key:"Reset",value:function(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}}]),t}(),xr=function(){function t(){u(this,t),this.dt=0,this.inv_dt=0,this.dtRatio=0,this.velocityIterations=0,this.positionIterations=0,this.particleIterations=0,this.warmStarting=!1}return l(t,[{key:"Copy",value:function(t){return this.dt=t.dt,this.inv_dt=t.inv_dt,this.dtRatio=t.dtRatio,this.positionIterations=t.positionIterations,this.velocityIterations=t.velocityIterations,this.particleIterations=t.particleIterations,this.warmStarting=t.warmStarting,this}}]),t}(),Sr=function(){function t(){u(this,t),this.c=new Vt,this.a=0}return l(t,null,[{key:"MakeArray",value:function(e){return et(e,(function(e){return new t}))}}]),t}(),wr=function(){function t(){u(this,t),this.v=new Vt,this.w=0}return l(t,null,[{key:"MakeArray",value:function(e){return et(e,(function(e){return new t}))}}]),t}(),Cr=function t(){u(this,t),this.step=new xr},Ar=!1,Br=function(){function t(){u(this,t),this.rA=new Vt,this.rB=new Vt,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}return l(t,null,[{key:"MakeArray",value:function(e){return et(e,(function(e){return new t}))}}]),t}(),kr=function(){function t(){u(this,t),this.points=Br.MakeArray(_),this.normal=new Vt,this.tangent=new Vt,this.normalMass=new Ot,this.K=new Ot,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0}return l(t,null,[{key:"MakeArray",value:function(e){return et(e,(function(e){return new t}))}}]),t}(),Vr=function(){function e(){u(this,e),this.localPoints=Vt.MakeArray(_),this.localNormal=new Vt,this.localPoint=new Vt,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new Vt,this.localCenterB=new Vt,this.invIA=0,this.invIB=0,this.type=t.b2ManifoldType.e_unknown,this.radiusA=0,this.radiusB=0,this.pointCount=0}return l(e,null,[{key:"MakeArray",value:function(t){return et(t,(function(t){return new e}))}}]),e}(),Pr=function t(){u(this,t),this.step=new xr,this.count=0},Mr=function(){function e(){u(this,e),this.normal=new Vt,this.point=new Vt,this.separation=0}return l(e,[{key:"Initialize",value:function(n,i,r,o){var a=e.Initialize_s_pointA,s=e.Initialize_s_pointB,u=e.Initialize_s_planePoint,l=e.Initialize_s_clipPoint;switch(n.type){case t.b2ManifoldType.e_circles:Dt.MulXV(i,n.localPoint,a),Dt.MulXV(r,n.localPoints[0],s),Vt.SubVV(s,a,this.normal).SelfNormalize(),Vt.MidVV(a,s,this.point),this.separation=Vt.DotVV(Vt.SubVV(s,a,Vt.s_t0),this.normal)-n.radiusA-n.radiusB;break;case t.b2ManifoldType.e_faceA:jt.MulRV(i.q,n.localNormal,this.normal),Dt.MulXV(i,n.localPoint,u),Dt.MulXV(r,n.localPoints[o],l),this.separation=Vt.DotVV(Vt.SubVV(l,u,Vt.s_t0),this.normal)-n.radiusA-n.radiusB,this.point.Copy(l);break;case t.b2ManifoldType.e_faceB:jt.MulRV(r.q,n.localNormal,this.normal),Dt.MulXV(r,n.localPoint,u),Dt.MulXV(i,n.localPoints[o],l),this.separation=Vt.DotVV(Vt.SubVV(l,u,Vt.s_t0),this.normal)-n.radiusA-n.radiusB,this.point.Copy(l),this.normal.SelfNeg()}}}]),e}();Mr.Initialize_s_pointA=new Vt,Mr.Initialize_s_pointB=new Vt,Mr.Initialize_s_planePoint=new Vt,Mr.Initialize_s_clipPoint=new Vt;var Or=function(){function t(){u(this,t),this.m_step=new xr,this.m_positionConstraints=Vr.MakeArray(1024),this.m_velocityConstraints=kr.MakeArray(1024),this.m_count=0}return l(t,[{key:"Initialize",value:function(t){if(this.m_step.Copy(t.step),this.m_count=t.count,this.m_positionConstraints.length<this.m_count)for(var e=lt(2*this.m_positionConstraints.length,this.m_count);this.m_positionConstraints.length<e;)this.m_positionConstraints[this.m_positionConstraints.length]=new Vr;if(this.m_velocityConstraints.length<this.m_count)for(var n=lt(2*this.m_velocityConstraints.length,this.m_count);this.m_velocityConstraints.length<n;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new kr;this.m_positions=t.positions,this.m_velocities=t.velocities,this.m_contacts=t.contacts;for(var i=0;i<this.m_count;++i){var r=this.m_contacts[i],o=r.m_fixtureA,a=r.m_fixtureB,s=o.GetShape(),u=a.GetShape(),l=s.m_radius,c=u.m_radius,h=o.GetBody(),f=a.GetBody(),m=r.GetManifold(),d=m.pointCount,_=this.m_velocityConstraints[i];_.friction=r.m_friction,_.restitution=r.m_restitution,_.tangentSpeed=r.m_tangentSpeed,_.indexA=h.m_islandIndex,_.indexB=f.m_islandIndex,_.invMassA=h.m_invMass,_.invMassB=f.m_invMass,_.invIA=h.m_invI,_.invIB=f.m_invI,_.contactIndex=i,_.pointCount=d,_.K.SetZero(),_.normalMass.SetZero();var p=this.m_positionConstraints[i];p.indexA=h.m_islandIndex,p.indexB=f.m_islandIndex,p.invMassA=h.m_invMass,p.invMassB=f.m_invMass,p.localCenterA.Copy(h.m_sweep.localCenter),p.localCenterB.Copy(f.m_sweep.localCenter),p.invIA=h.m_invI,p.invIB=f.m_invI,p.localNormal.Copy(m.localNormal),p.localPoint.Copy(m.localPoint),p.pointCount=d,p.radiusA=l,p.radiusB=c,p.type=m.type;for(var v=0;v<d;++v){var y=m.points[v],b=_.points[v];this.m_step.warmStarting?(b.normalImpulse=this.m_step.dtRatio*y.normalImpulse,b.tangentImpulse=this.m_step.dtRatio*y.tangentImpulse):(b.normalImpulse=0,b.tangentImpulse=0),b.rA.SetZero(),b.rB.SetZero(),b.normalMass=0,b.tangentMass=0,b.velocityBias=0,p.localPoints[v].Copy(y.localPoint)}}return this}},{key:"InitializeVelocityConstraints",value:function(){for(var e=t.InitializeVelocityConstraints_s_xfA,n=t.InitializeVelocityConstraints_s_xfB,i=t.InitializeVelocityConstraints_s_worldManifold,r=1e3,o=0;o<this.m_count;++o){var a=this.m_velocityConstraints[o],s=this.m_positionConstraints[o],u=s.radiusA,l=s.radiusB,c=this.m_contacts[a.contactIndex].GetManifold(),h=a.indexA,f=a.indexB,m=a.invMassA,d=a.invMassB,_=a.invIA,p=a.invIB,v=s.localCenterA,y=s.localCenterB,b=this.m_positions[h].c,g=this.m_positions[h].a,x=this.m_velocities[h].v,S=this.m_velocities[h].w,w=this.m_positions[f].c,A=this.m_positions[f].a,B=this.m_velocities[f].v,k=this.m_velocities[f].w;e.q.SetAngle(g),n.q.SetAngle(A),Vt.SubVV(b,jt.MulRV(e.q,v,Vt.s_t0),e.p),Vt.SubVV(w,jt.MulRV(n.q,y,Vt.s_t0),n.p),i.Initialize(c,e,u,n,l),a.normal.Copy(i.normal),Vt.CrossVOne(a.normal,a.tangent);for(var V=a.pointCount,P=0;P<V;++P){var M=a.points[P];Vt.SubVV(i.points[P],b,M.rA),Vt.SubVV(i.points[P],w,M.rB);var O=Vt.CrossVV(M.rA,a.normal),I=Vt.CrossVV(M.rB,a.normal),j=m+d+_*O*O+p*I*I;M.normalMass=j>0?1/j:0;var D=a.tangent,T=Vt.CrossVV(M.rA,D),L=Vt.CrossVV(M.rB,D),R=m+d+_*T*T+p*L*L;M.tangentMass=R>0?1/R:0,M.velocityBias=0;var E=Vt.DotVV(a.normal,Vt.SubVV(Vt.AddVCrossSV(B,k,M.rB,Vt.s_t0),Vt.AddVCrossSV(x,S,M.rA,Vt.s_t1),Vt.s_t0));E<-C&&(M.velocityBias+=-a.restitution*E)}if(2===a.pointCount&&Ar){var F=a.points[0],G=a.points[1],N=Vt.CrossVV(F.rA,a.normal),z=Vt.CrossVV(F.rB,a.normal),q=Vt.CrossVV(G.rA,a.normal),U=Vt.CrossVV(G.rB,a.normal),J=m+d+_*N*N+p*z*z,W=m+d+_*q*q+p*U*U,X=m+d+_*N*q+p*z*U;J*J<r*(J*W-X*X)?(a.K.ex.Set(J,X),a.K.ey.Set(X,W),a.K.GetInverse(a.normalMass)):a.pointCount=1}}}},{key:"WarmStart",value:function(){for(var e=t.WarmStart_s_P,n=0;n<this.m_count;++n){for(var i=this.m_velocityConstraints[n],r=i.indexA,o=i.indexB,a=i.invMassA,s=i.invIA,u=i.invMassB,l=i.invIB,c=i.pointCount,h=this.m_velocities[r].v,f=this.m_velocities[r].w,m=this.m_velocities[o].v,d=this.m_velocities[o].w,_=i.normal,p=i.tangent,v=0;v<c;++v){var y=i.points[v];Vt.AddVV(Vt.MulSV(y.normalImpulse,_,Vt.s_t0),Vt.MulSV(y.tangentImpulse,p,Vt.s_t1),e),f-=s*Vt.CrossVV(y.rA,e),h.SelfMulSub(a,e),d+=l*Vt.CrossVV(y.rB,e),m.SelfMulAdd(u,e)}this.m_velocities[r].w=f,this.m_velocities[o].w=d}}},{key:"SolveVelocityConstraints",value:function(){for(var e=t.SolveVelocityConstraints_s_dv,n=t.SolveVelocityConstraints_s_dv1,i=t.SolveVelocityConstraints_s_dv2,r=t.SolveVelocityConstraints_s_P,o=t.SolveVelocityConstraints_s_a,a=t.SolveVelocityConstraints_s_b,s=t.SolveVelocityConstraints_s_x,u=t.SolveVelocityConstraints_s_d,l=t.SolveVelocityConstraints_s_P1,c=t.SolveVelocityConstraints_s_P2,h=t.SolveVelocityConstraints_s_P1P2,f=0;f<this.m_count;++f){for(var m=this.m_velocityConstraints[f],d=m.indexA,_=m.indexB,p=m.invMassA,v=m.invIA,y=m.invMassB,b=m.invIB,g=m.pointCount,x=this.m_velocities[d].v,S=this.m_velocities[d].w,w=this.m_velocities[_].v,C=this.m_velocities[_].w,A=m.normal,B=m.tangent,k=m.friction,V=0;V<g;++V){var P=m.points[V];Vt.SubVV(Vt.AddVCrossSV(w,C,P.rB,Vt.s_t0),Vt.AddVCrossSV(x,S,P.rA,Vt.s_t1),e);var M=Vt.DotVV(e,B)-m.tangentSpeed,O=P.tangentMass*-M,I=k*P.normalImpulse,j=ct(P.tangentImpulse+O,-I,I);O=j-P.tangentImpulse,P.tangentImpulse=j,Vt.MulSV(O,B,r),x.SelfMulSub(p,r),S-=v*Vt.CrossVV(P.rA,r),w.SelfMulAdd(y,r),C+=b*Vt.CrossVV(P.rB,r)}if(1===m.pointCount||!1===Ar)for(var D=0;D<g;++D){var T=m.points[D];Vt.SubVV(Vt.AddVCrossSV(w,C,T.rB,Vt.s_t0),Vt.AddVCrossSV(x,S,T.rA,Vt.s_t1),e);var L=Vt.DotVV(e,A),R=-T.normalMass*(L-T.velocityBias),E=lt(T.normalImpulse+R,0);R=E-T.normalImpulse,T.normalImpulse=E,Vt.MulSV(R,A,r),x.SelfMulSub(p,r),S-=v*Vt.CrossVV(T.rA,r),w.SelfMulAdd(y,r),C+=b*Vt.CrossVV(T.rB,r)}else{var F=m.points[0],G=m.points[1];o.Set(F.normalImpulse,G.normalImpulse),Vt.SubVV(Vt.AddVCrossSV(w,C,F.rB,Vt.s_t0),Vt.AddVCrossSV(x,S,F.rA,Vt.s_t1),n),Vt.SubVV(Vt.AddVCrossSV(w,C,G.rB,Vt.s_t0),Vt.AddVCrossSV(x,S,G.rA,Vt.s_t1),i);var N=Vt.DotVV(n,A),z=Vt.DotVV(i,A);for(a.x=N-F.velocityBias,a.y=z-G.velocityBias,a.SelfSub(Ot.MulMV(m.K,o,Vt.s_t0));;){if(Ot.MulMV(m.normalMass,a,s).SelfNeg(),s.x>=0&&s.y>=0){Vt.SubVV(s,o,u),Vt.MulSV(u.x,A,l),Vt.MulSV(u.y,A,c),Vt.AddVV(l,c,h),x.SelfMulSub(p,h),S-=v*(Vt.CrossVV(F.rA,l)+Vt.CrossVV(G.rA,c)),w.SelfMulAdd(y,h),C+=b*(Vt.CrossVV(F.rB,l)+Vt.CrossVV(G.rB,c)),F.normalImpulse=s.x,G.normalImpulse=s.y;break}if(s.x=-F.normalMass*a.x,s.y=0,N=0,z=m.K.ex.y*s.x+a.y,s.x>=0&&z>=0){Vt.SubVV(s,o,u),Vt.MulSV(u.x,A,l),Vt.MulSV(u.y,A,c),Vt.AddVV(l,c,h),x.SelfMulSub(p,h),S-=v*(Vt.CrossVV(F.rA,l)+Vt.CrossVV(G.rA,c)),w.SelfMulAdd(y,h),C+=b*(Vt.CrossVV(F.rB,l)+Vt.CrossVV(G.rB,c)),F.normalImpulse=s.x,G.normalImpulse=s.y;break}if(s.x=0,s.y=-G.normalMass*a.y,N=m.K.ey.x*s.y+a.x,z=0,s.y>=0&&N>=0){Vt.SubVV(s,o,u),Vt.MulSV(u.x,A,l),Vt.MulSV(u.y,A,c),Vt.AddVV(l,c,h),x.SelfMulSub(p,h),S-=v*(Vt.CrossVV(F.rA,l)+Vt.CrossVV(G.rA,c)),w.SelfMulAdd(y,h),C+=b*(Vt.CrossVV(F.rB,l)+Vt.CrossVV(G.rB,c)),F.normalImpulse=s.x,G.normalImpulse=s.y;break}if(s.x=0,s.y=0,N=a.x,z=a.y,N>=0&&z>=0){Vt.SubVV(s,o,u),Vt.MulSV(u.x,A,l),Vt.MulSV(u.y,A,c),Vt.AddVV(l,c,h),x.SelfMulSub(p,h),S-=v*(Vt.CrossVV(F.rA,l)+Vt.CrossVV(G.rA,c)),w.SelfMulAdd(y,h),C+=b*(Vt.CrossVV(F.rB,l)+Vt.CrossVV(G.rB,c)),F.normalImpulse=s.x,G.normalImpulse=s.y;break}break}}this.m_velocities[d].w=S,this.m_velocities[_].w=C}}},{key:"StoreImpulses",value:function(){for(var t=0;t<this.m_count;++t)for(var e=this.m_velocityConstraints[t],n=this.m_contacts[e.contactIndex].GetManifold(),i=0;i<e.pointCount;++i)n.points[i].normalImpulse=e.points[i].normalImpulse,n.points[i].tangentImpulse=e.points[i].tangentImpulse}},{key:"SolvePositionConstraints",value:function(){for(var e=t.SolvePositionConstraints_s_xfA,n=t.SolvePositionConstraints_s_xfB,i=t.SolvePositionConstraints_s_psm,r=t.SolvePositionConstraints_s_rA,o=t.SolvePositionConstraints_s_rB,a=t.SolvePositionConstraints_s_P,s=0,u=0;u<this.m_count;++u){for(var l=this.m_positionConstraints[u],c=l.indexA,h=l.indexB,f=l.localCenterA,m=l.invMassA,d=l.invIA,_=l.localCenterB,p=l.invMassB,v=l.invIB,y=l.pointCount,g=this.m_positions[c].c,x=this.m_positions[c].a,S=this.m_positions[h].c,w=this.m_positions[h].a,C=0;C<y;++C){e.q.SetAngle(x),n.q.SetAngle(w),Vt.SubVV(g,jt.MulRV(e.q,f,Vt.s_t0),e.p),Vt.SubVV(S,jt.MulRV(n.q,_,Vt.s_t0),n.p),i.Initialize(l,e,n,C);var B=i.normal,k=i.point,V=i.separation;Vt.SubVV(k,g,r),Vt.SubVV(k,S,o),s=ut(s,V);var P=ct(O*(V+b),-A,0),M=Vt.CrossVV(r,B),I=Vt.CrossVV(o,B),j=m+p+d*M*M+v*I*I,D=j>0?-P/j:0;Vt.MulSV(D,B,a),g.SelfMulSub(m,a),x-=d*Vt.CrossVV(r,a),S.SelfMulAdd(p,a),w+=v*Vt.CrossVV(o,a)}this.m_positions[c].a=x,this.m_positions[h].a=w}return s>-3*b}},{key:"SolveTOIPositionConstraints",value:function(e,n){for(var i=t.SolveTOIPositionConstraints_s_xfA,r=t.SolveTOIPositionConstraints_s_xfB,o=t.SolveTOIPositionConstraints_s_psm,a=t.SolveTOIPositionConstraints_s_rA,s=t.SolveTOIPositionConstraints_s_rB,u=t.SolveTOIPositionConstraints_s_P,l=0,c=0;c<this.m_count;++c){var h=this.m_positionConstraints[c],f=h.indexA,m=h.indexB,d=h.localCenterA,_=h.localCenterB,p=h.pointCount,v=0,y=0;f!==e&&f!==n||(v=h.invMassA,y=h.invIA);var g=0,x=0;m!==e&&m!==n||(g=h.invMassB,x=h.invIB);for(var S=this.m_positions[f].c,w=this.m_positions[f].a,C=this.m_positions[m].c,B=this.m_positions[m].a,k=0;k<p;++k){i.q.SetAngle(w),r.q.SetAngle(B),Vt.SubVV(S,jt.MulRV(i.q,d,Vt.s_t0),i.p),Vt.SubVV(C,jt.MulRV(r.q,_,Vt.s_t0),r.p),o.Initialize(h,i,r,k);var V=o.normal,P=o.point,M=o.separation;Vt.SubVV(P,S,a),Vt.SubVV(P,C,s),l=ut(l,M);var O=ct(I*(M+b),-A,0),j=Vt.CrossVV(a,V),D=Vt.CrossVV(s,V),T=v+g+y*j*j+x*D*D,L=T>0?-O/T:0;Vt.MulSV(L,V,u),S.SelfMulSub(v,u),w-=y*Vt.CrossVV(a,u),C.SelfMulAdd(g,u),B+=x*Vt.CrossVV(s,u)}this.m_positions[f].a=w,this.m_positions[m].a=B}return l>=-1.5*b}}]),t}();Or.InitializeVelocityConstraints_s_xfA=new Dt,Or.InitializeVelocityConstraints_s_xfB=new Dt,Or.InitializeVelocityConstraints_s_worldManifold=new Ce,Or.WarmStart_s_P=new Vt,Or.SolveVelocityConstraints_s_dv=new Vt,Or.SolveVelocityConstraints_s_dv1=new Vt,Or.SolveVelocityConstraints_s_dv2=new Vt,Or.SolveVelocityConstraints_s_P=new Vt,Or.SolveVelocityConstraints_s_a=new Vt,Or.SolveVelocityConstraints_s_b=new Vt,Or.SolveVelocityConstraints_s_x=new Vt,Or.SolveVelocityConstraints_s_d=new Vt,Or.SolveVelocityConstraints_s_P1=new Vt,Or.SolveVelocityConstraints_s_P2=new Vt,Or.SolveVelocityConstraints_s_P1P2=new Vt,Or.SolvePositionConstraints_s_xfA=new Dt,Or.SolvePositionConstraints_s_xfB=new Dt,Or.SolvePositionConstraints_s_psm=new Mr,Or.SolvePositionConstraints_s_rA=new Vt,Or.SolvePositionConstraints_s_rB=new Vt,Or.SolvePositionConstraints_s_P=new Vt,Or.SolveTOIPositionConstraints_s_xfA=new Dt,Or.SolveTOIPositionConstraints_s_xfB=new Dt,Or.SolveTOIPositionConstraints_s_psm=new Mr,Or.SolveTOIPositionConstraints_s_rA=new Vt,Or.SolveTOIPositionConstraints_s_rB=new Vt,Or.SolveTOIPositionConstraints_s_P=new Vt;var Ir,jr=function(){function e(){u(this,e),this.m_bodies=[],this.m_contacts=[],this.m_joints=[],this.m_positions=Sr.MakeArray(1024),this.m_velocities=wr.MakeArray(1024),this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=0,this.m_contactCapacity=0,this.m_jointCapacity=0}return l(e,[{key:"Initialize",value:function(t,e,n,i){if(this.m_bodyCapacity=t,this.m_contactCapacity=e,this.m_jointCapacity=n,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_listener=i,this.m_positions.length<t)for(var r=lt(2*this.m_positions.length,t);this.m_positions.length<r;)this.m_positions[this.m_positions.length]=new Sr;if(this.m_velocities.length<t)for(var o=lt(2*this.m_velocities.length,t);this.m_velocities.length<o;)this.m_velocities[this.m_velocities.length]=new wr}},{key:"Clear",value:function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}},{key:"AddBody",value:function(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=t}},{key:"AddContact",value:function(t){this.m_contacts[this.m_contactCount++]=t}},{key:"AddJoint",value:function(t){this.m_joints[this.m_jointCount++]=t}},{key:"Solve",value:function(n,i,r,o){for(var a=e.s_timer.Reset(),s=i.dt,u=0;u<this.m_bodyCount;++u){var l=this.m_bodies[u];this.m_positions[u].c.Copy(l.m_sweep.c);var c=l.m_sweep.a,f=this.m_velocities[u].v.Copy(l.m_linearVelocity),m=l.m_angularVelocity;l.m_sweep.c0.Copy(l.m_sweep.c),l.m_sweep.a0=l.m_sweep.a,l.m_type===t.b2BodyType.b2_dynamicBody&&(f.x+=s*(l.m_gravityScale*r.x+l.m_invMass*l.m_force.x),f.y+=s*(l.m_gravityScale*r.y+l.m_invMass*l.m_force.y),m+=s*l.m_invI*l.m_torque,f.SelfMul(1/(1+s*l.m_linearDamping)),m*=1/(1+s*l.m_angularDamping)),this.m_positions[u].a=c,this.m_velocities[u].w=m}a.Reset();var d=e.s_solverData;d.step.Copy(i),d.positions=this.m_positions,d.velocities=this.m_velocities;var _=e.s_contactSolverDef;_.step.Copy(i),_.contacts=this.m_contacts,_.count=this.m_contactCount,_.positions=this.m_positions,_.velocities=this.m_velocities;var p=e.s_contactSolver.Initialize(_);p.InitializeVelocityConstraints(),i.warmStarting&&p.WarmStart();for(var v=0;v<this.m_jointCount;++v)this.m_joints[v].InitVelocityConstraints(d);n.solveInit=a.GetMilliseconds(),a.Reset();for(var y=0;y<i.velocityIterations;++y){for(var b=0;b<this.m_jointCount;++b)this.m_joints[b].SolveVelocityConstraints(d);p.SolveVelocityConstraints()}p.StoreImpulses(),n.solveVelocity=a.GetMilliseconds();for(var g=0;g<this.m_bodyCount;++g){var x=this.m_positions[g].c,S=this.m_positions[g].a,w=this.m_velocities[g].v,C=this.m_velocities[g].w,A=Vt.MulSV(s,w,e.s_translation);if(Vt.DotVV(A,A)>V){var B=k/A.Length();w.SelfMul(B)}var O=s*C;O*O>M&&(C*=P/st(O)),x.x+=s*w.x,x.y+=s*w.y,S+=s*C,this.m_positions[g].a=S,this.m_velocities[g].w=C}a.Reset();for(var I=!1,j=0;j<i.positionIterations;++j){for(var D=p.SolvePositionConstraints(),T=!0,L=0;L<this.m_jointCount;++L){var R=this.m_joints[L].SolvePositionConstraints(d);T=T&&R}if(D&&T){I=!0;break}}for(var E=0;E<this.m_bodyCount;++E){var F=this.m_bodies[E];F.m_sweep.c.Copy(this.m_positions[E].c),F.m_sweep.a=this.m_positions[E].a,F.m_linearVelocity.Copy(this.m_velocities[E].v),F.m_angularVelocity=this.m_velocities[E].w,F.SynchronizeTransform()}if(n.solvePosition=a.GetMilliseconds(),this.Report(p.m_velocityConstraints),o){for(var G=h,N=U*U,z=J*J,W=0;W<this.m_bodyCount;++W){var X=this.m_bodies[W];X.GetType()!==t.b2BodyType.b2_staticBody&&(!X.m_autoSleepFlag||X.m_angularVelocity*X.m_angularVelocity>z||Vt.DotVV(X.m_linearVelocity,X.m_linearVelocity)>N?(X.m_sleepTime=0,G=0):(X.m_sleepTime+=s,G=ut(G,X.m_sleepTime)))}if(G>=q&&I)for(var H=0;H<this.m_bodyCount;++H)this.m_bodies[H].SetAwake(!1)}}},{key:"SolveTOI",value:function(t,n,i){for(var r=0;r<this.m_bodyCount;++r){var o=this.m_bodies[r];this.m_positions[r].c.Copy(o.m_sweep.c),this.m_positions[r].a=o.m_sweep.a,this.m_velocities[r].v.Copy(o.m_linearVelocity),this.m_velocities[r].w=o.m_angularVelocity}var a=e.s_contactSolverDef;a.contacts=this.m_contacts,a.count=this.m_contactCount,a.step.Copy(t),a.positions=this.m_positions,a.velocities=this.m_velocities;for(var s=e.s_contactSolver.Initialize(a),u=0;u<t.positionIterations&&!s.SolveTOIPositionConstraints(n,i);++u);this.m_bodies[n].m_sweep.c0.Copy(this.m_positions[n].c),this.m_bodies[n].m_sweep.a0=this.m_positions[n].a,this.m_bodies[i].m_sweep.c0.Copy(this.m_positions[i].c),this.m_bodies[i].m_sweep.a0=this.m_positions[i].a,s.InitializeVelocityConstraints();for(var l=0;l<t.velocityIterations;++l)s.SolveVelocityConstraints();for(var c=t.dt,h=0;h<this.m_bodyCount;++h){var f=this.m_positions[h].c,m=this.m_positions[h].a,d=this.m_velocities[h].v,_=this.m_velocities[h].w,p=Vt.MulSV(c,d,e.s_translation);if(Vt.DotVV(p,p)>V){var v=k/p.Length();d.SelfMul(v)}var y=c*_;y*y>M&&(_*=P/st(y)),f.SelfMulAdd(c,d),m+=c*_,this.m_positions[h].a=m,this.m_velocities[h].w=_;var b=this.m_bodies[h];b.m_sweep.c.Copy(f),b.m_sweep.a=m,b.m_linearVelocity.Copy(d),b.m_angularVelocity=_,b.SynchronizeTransform()}this.Report(s.m_velocityConstraints)}},{key:"Report",value:function(t){if(null!==this.m_listener)for(var n=0;n<this.m_contactCount;++n){var i=this.m_contacts[n];if(i){var r=t[n],o=e.s_impulse;o.count=r.pointCount;for(var a=0;a<r.pointCount;++a)o.normalImpulses[a]=r.points[a].normalImpulse,o.tangentImpulses[a]=r.points[a].tangentImpulse;this.m_listener.PostSolve(i,o)}}}}]),e}();jr.s_timer=new Ft,jr.s_solverData=new Cr,jr.s_contactSolverDef=new Pr,jr.s_contactSolver=new Or,jr.s_translation=new Vt,jr.s_impulse=new _r,(Ir=t.b2ParticleFlag||(t.b2ParticleFlag={}))[Ir.b2_waterParticle=0]="b2_waterParticle",Ir[Ir.b2_zombieParticle=2]="b2_zombieParticle",Ir[Ir.b2_wallParticle=4]="b2_wallParticle",Ir[Ir.b2_springParticle=8]="b2_springParticle",Ir[Ir.b2_elasticParticle=16]="b2_elasticParticle",Ir[Ir.b2_viscousParticle=32]="b2_viscousParticle",Ir[Ir.b2_powderParticle=64]="b2_powderParticle",Ir[Ir.b2_tensileParticle=128]="b2_tensileParticle",Ir[Ir.b2_colorMixingParticle=256]="b2_colorMixingParticle",Ir[Ir.b2_destructionListenerParticle=512]="b2_destructionListenerParticle",Ir[Ir.b2_barrierParticle=1024]="b2_barrierParticle",Ir[Ir.b2_staticPressureParticle=2048]="b2_staticPressureParticle",Ir[Ir.b2_reactiveParticle=4096]="b2_reactiveParticle",Ir[Ir.b2_repulsiveParticle=8192]="b2_repulsiveParticle",Ir[Ir.b2_fixtureContactListenerParticle=16384]="b2_fixtureContactListenerParticle",Ir[Ir.b2_particleContactListenerParticle=32768]="b2_particleContactListenerParticle",Ir[Ir.b2_fixtureContactFilterParticle=65536]="b2_fixtureContactFilterParticle",Ir[Ir.b2_particleContactFilterParticle=131072]="b2_particleContactFilterParticle";var Dr=function t(){u(this,t),this.flags=0,this.position=new Vt,this.velocity=new Vt,this.color=new Rt(0,0,0,0),this.lifetime=0,this.userData=null,this.group=null};function Tr(t,e,n){var i=8,r=.01;return ct(Math.ceil(Math.sqrt(t/(r*e))*n),1,i)}var Lr,Rr=function(){function t(){u(this,t),this.m_index=j}return l(t,[{key:"GetIndex",value:function(){return this.m_index}},{key:"SetIndex",value:function(t){this.m_index=t}}]),t}();(Lr=t.b2ParticleGroupFlag||(t.b2ParticleGroupFlag={}))[Lr.b2_solidParticleGroup=1]="b2_solidParticleGroup",Lr[Lr.b2_rigidParticleGroup=2]="b2_rigidParticleGroup",Lr[Lr.b2_particleGroupCanBeEmpty=4]="b2_particleGroupCanBeEmpty",Lr[Lr.b2_particleGroupWillBeDestroyed=8]="b2_particleGroupWillBeDestroyed",Lr[Lr.b2_particleGroupNeedsUpdateDepth=16]="b2_particleGroupNeedsUpdateDepth",Lr[Lr.b2_particleGroupInternalMask=24]="b2_particleGroupInternalMask";var Er=function t(){u(this,t),this.flags=0,this.groupFlags=0,this.position=new Vt,this.angle=0,this.linearVelocity=new Vt,this.angularVelocity=0,this.color=new Rt,this.strength=1,this.shapeCount=0,this.stride=0,this.particleCount=0,this.lifetime=0,this.userData=null,this.group=null},Fr=function(){function e(t){u(this,e),this.m_firstIndex=0,this.m_lastIndex=0,this.m_groupFlags=0,this.m_strength=1,this.m_prev=null,this.m_next=null,this.m_timestamp=-1,this.m_mass=0,this.m_inertia=0,this.m_center=new Vt,this.m_linearVelocity=new Vt,this.m_angularVelocity=0,this.m_transform=new Dt,this.m_userData=null,this.m_system=t}return l(e,[{key:"GetNext",value:function(){return this.m_next}},{key:"GetParticleSystem",value:function(){return this.m_system}},{key:"GetParticleCount",value:function(){return this.m_lastIndex-this.m_firstIndex}},{key:"GetBufferIndex",value:function(){return this.m_firstIndex}},{key:"ContainsParticle",value:function(t){return this.m_firstIndex<=t&&t<this.m_lastIndex}},{key:"GetAllParticleFlags",value:function(){if(!this.m_system.m_flagsBuffer.data)throw new Error;for(var t=0,e=this.m_firstIndex;e<this.m_lastIndex;e++)t|=this.m_system.m_flagsBuffer.data[e];return t}},{key:"GetGroupFlags",value:function(){return this.m_groupFlags}},{key:"SetGroupFlags",value:function(e){e|=this.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupInternalMask,this.m_system.SetGroupFlags(this,e)}},{key:"GetMass",value:function(){return this.UpdateStatistics(),this.m_mass}},{key:"GetInertia",value:function(){return this.UpdateStatistics(),this.m_inertia}},{key:"GetCenter",value:function(){return this.UpdateStatistics(),this.m_center}},{key:"GetLinearVelocity",value:function(){return this.UpdateStatistics(),this.m_linearVelocity}},{key:"GetAngularVelocity",value:function(){return this.UpdateStatistics(),this.m_angularVelocity}},{key:"GetTransform",value:function(){return this.m_transform}},{key:"GetPosition",value:function(){return this.m_transform.p}},{key:"GetAngle",value:function(){return this.m_transform.q.GetAngle()}},{key:"GetLinearVelocityFromWorldPoint",value:function(t,n){var i=e.GetLinearVelocityFromWorldPoint_s_t0;return this.UpdateStatistics(),Vt.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,Vt.SubVV(t,this.m_center,i),n)}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"ApplyForce",value:function(t){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,t)}},{key:"ApplyLinearImpulse",value:function(t){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,t)}},{key:"DestroyParticles",value:function(t){if(this.m_system.m_world.IsLocked())throw new Error;for(var e=this.m_firstIndex;e<this.m_lastIndex;e++)this.m_system.DestroyParticle(e,t)}},{key:"UpdateStatistics",value:function(){if(!this.m_system.m_positionBuffer.data)throw new Error;if(!this.m_system.m_velocityBuffer.data)throw new Error;var t=new Vt,e=new Vt;if(this.m_timestamp!==this.m_system.m_timestamp){var n=this.m_system.GetParticleMass();this.m_mass=n*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(var i=this.m_firstIndex;i<this.m_lastIndex;i++)this.m_center.SelfMulAdd(n,this.m_system.m_positionBuffer.data[i]),this.m_linearVelocity.SelfMulAdd(n,this.m_system.m_velocityBuffer.data[i]);if(this.m_mass>0){var r=1/this.m_mass;this.m_center.SelfMul(r),this.m_linearVelocity.SelfMul(r)}this.m_inertia=0,this.m_angularVelocity=0;for(var o=this.m_firstIndex;o<this.m_lastIndex;o++)Vt.SubVV(this.m_system.m_positionBuffer.data[o],this.m_center,t),Vt.SubVV(this.m_system.m_velocityBuffer.data[o],this.m_linearVelocity,e),this.m_inertia+=n*Vt.DotVV(t,t),this.m_angularVelocity+=n*Vt.CrossVV(t,e);this.m_inertia>0&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp}}}]),e}();Fr.GetLinearVelocityFromWorldPoint_s_t0=new Vt;var Gr=function(){function t(e){u(this,t),this.m_front=0,this.m_back=0,this.m_capacity=0,this.m_buffer=et(e,(function(t){return null})),this.m_capacity=e}return l(t,[{key:"Push",value:function(t){if(this.m_back>=this.m_capacity){for(var e=this.m_front;e<this.m_back;e++)this.m_buffer[e-this.m_front]=this.m_buffer[e];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(this.m_capacity>0?(this.m_buffer.concat(et(this.m_capacity,(function(t){return null}))),this.m_capacity*=2):(this.m_buffer.concat(et(1,(function(t){return null}))),this.m_capacity=1))}this.m_buffer[this.m_back]=t,this.m_back++}},{key:"Pop",value:function(){this.m_buffer[this.m_front]=null,this.m_front++}},{key:"Empty",value:function(){return this.m_front===this.m_back}},{key:"Front",value:function(){var t=this.m_buffer[this.m_front];if(!t)throw new Error;return t}}]),t}(),Nr=function(){function t(e){u(this,t),this.m_generatorCapacity=0,this.m_generatorCount=0,this.m_countX=0,this.m_countY=0,this.m_diagram=[],this.m_generatorBuffer=et(e,(function(t){return new zr})),this.m_generatorCapacity=e}return l(t,[{key:"AddGenerator",value:function(t,e,n){var i=this.m_generatorBuffer[this.m_generatorCount++];i.center.Copy(t),i.tag=e,i.necessary=n}},{key:"Generate",value:function(t,e){for(var n=1/t,i=new Vt(+h,+h),r=new Vt(-h,-h),o=0,a=0;a<this.m_generatorCount;a++){var s=this.m_generatorBuffer[a];s.necessary&&(Vt.MinV(i,s.center,i),Vt.MaxV(r,s.center,r),++o)}if(0===o)return this.m_countX=0,void(this.m_countY=0);i.x-=e,i.y-=e,r.x+=e,r.y+=e,this.m_countX=1+Math.floor(n*(r.x-i.x)),this.m_countY=1+Math.floor(n*(r.y-i.y)),this.m_diagram=[];for(var u=new Gr(4*this.m_countX*this.m_countY),l=0;l<this.m_generatorCount;l++){var c=this.m_generatorBuffer[l];c.center.SelfSub(i).SelfMul(n);var f=Math.floor(c.center.x),m=Math.floor(c.center.y);f>=0&&m>=0&&f<this.m_countX&&m<this.m_countY&&u.Push(new qr(f,m,f+m*this.m_countX,c))}for(;!u.Empty();){var d=u.Front(),_=d.m_x,p=d.m_y,v=d.m_i,y=d.m_generator;u.Pop(),this.m_diagram[v]||(this.m_diagram[v]=y,_>0&&u.Push(new qr(_-1,p,v-1,y)),p>0&&u.Push(new qr(_,p-1,v-this.m_countX,y)),_<this.m_countX-1&&u.Push(new qr(_+1,p,v+1,y)),p<this.m_countY-1&&u.Push(new qr(_,p+1,v+this.m_countX,y)))}for(var b=0;b<this.m_countY;b++)for(var g=0;g<this.m_countX-1;g++){var x=g+b*this.m_countX,S=this.m_diagram[x],w=this.m_diagram[x+1];S!==w&&(u.Push(new qr(g,b,x,w)),u.Push(new qr(g+1,b,x+1,S)))}for(var C=0;C<this.m_countY-1;C++)for(var A=0;A<this.m_countX;A++){var B=A+C*this.m_countX,k=this.m_diagram[B],V=this.m_diagram[B+this.m_countX];k!==V&&(u.Push(new qr(A,C,B,V)),u.Push(new qr(A,C+1,B+this.m_countX,k)))}for(;!u.Empty();){var P=u.Front(),M=P.m_x,O=P.m_y,I=P.m_i,j=P.m_generator;u.Pop();var D=this.m_diagram[I],T=j;if(D!==T){var L=D.center.x-M,R=D.center.y-O,E=T.center.x-M,F=T.center.y-O;L*L+R*R>E*E+F*F&&(this.m_diagram[I]=T,M>0&&u.Push(new qr(M-1,O,I-1,T)),O>0&&u.Push(new qr(M,O-1,I-this.m_countX,T)),M<this.m_countX-1&&u.Push(new qr(M+1,O,I+1,T)),O<this.m_countY-1&&u.Push(new qr(M,O+1,I+this.m_countX,T)))}}}},{key:"GetNodes",value:function(t){for(var e=0;e<this.m_countY-1;e++)for(var n=0;n<this.m_countX-1;n++){var i=n+e*this.m_countX,r=this.m_diagram[i],o=this.m_diagram[i+1],a=this.m_diagram[i+this.m_countX],s=this.m_diagram[i+1+this.m_countX];o!==a&&(r!==o&&r!==a&&(r.necessary||o.necessary||a.necessary)&&t(r.tag,o.tag,a.tag),s!==o&&s!==a&&(r.necessary||o.necessary||a.necessary)&&t(o.tag,s.tag,a.tag))}}}]),t}(),zr=function t(){u(this,t),this.center=new Vt,this.tag=0,this.necessary=!1},qr=function t(e,n,i,r){u(this,t),this.m_x=e,this.m_y=n,this.m_i=i,this.m_generator=r};function Ur(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Jr(t,e){return t<e}function Wr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jr,r=e,o=[],a=0;;){for(;r+1<n;n++){var s=t[r+Math.floor(Math.random()*(n-r))];o[a++]=n;for(var u=r-1;;){for(;i(t[++u],s););for(;i(s,t[--n]););if(u>=n)break;Ur(t,u,n)}}if(0===a)break;r=n,n=o[--a]}return t}function Xr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Wr(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jr)}function Hr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=0,r=0;r<n;++r)e(t[r])||(r!==i?Ur(t,i++,r):++i);return i}function Qr(t,e,n,i,r){for(var o=n-e;o>0;){var a=Math.floor(o/2),s=e+a;r(t[s],i)?(e=++s,o-=a+1):o=a}return e}function $r(t,e,n,i,r){for(var o=n-e;o>0;){var a=Math.floor(o/2),s=e+a;r(i,t[s])?o=a:(e=++s,o-=a+1)}return e}function Zr(t,e,n,i){for(var r=n;e!==r;)Ur(t,e++,r++),r===i?r=n:e===n&&(n=r)}function Kr(t,e,n,i){if(e===n)return n;for(var r=e;++e!==n;)i(t[r],t[e])||Ur(t,++r,e);return++r}var Yr=function(){function t(e){u(this,t),this.data=[],this.count=0,this.capacity=0,this.allocator=e}return l(t,[{key:"Append",value:function(){return this.count>=this.capacity&&this.Grow(),this.count++}},{key:"Reserve",value:function(t){if(!(this.capacity>=t)){for(var e=this.capacity;e<t;++e)this.data[e]=this.allocator();this.capacity=t}}},{key:"Grow",value:function(){var t=this.capacity?2*this.capacity:N;this.Reserve(t)}},{key:"Free",value:function(){0!==this.data.length&&(this.data=[],this.capacity=0,this.count=0)}},{key:"Shorten",value:function(t){}},{key:"Data",value:function(){return this.data}},{key:"GetCount",value:function(){return this.count}},{key:"SetCount",value:function(t){this.count=t}},{key:"GetCapacity",value:function(){return this.capacity}},{key:"RemoveIf",value:function(t){this.count=Hr(this.data,t,this.count)}},{key:"Unique",value:function(t){this.count=Kr(this.data,0,this.count,t)}}]),t}(),to=function(t){a(n,t);var e=s(n);function n(t){var i;return u(this,n),(i=e.call(this)).m_system=t,i}return l(n,[{key:"ShouldQueryParticleSystem",value:function(t){return!1}},{key:"ReportFixture",value:function(t){if(t.IsSensor())return!0;for(var e=t.GetShape().GetChildCount(),n=0;n<e;n++)for(var i=t.GetAABB(n),r=this.m_system.GetInsideBoundsEnumerator(i),o=void 0;(o=r.GetNext())>=0;)this.ReportFixtureAndParticle(t,n,o);return!0}},{key:"ReportParticle",value:function(t,e){return!1}},{key:"ReportFixtureAndParticle",value:function(t,e,n){}}]),n}(vr),eo=function(){function t(){u(this,t),this.indexA=0,this.indexB=0,this.weight=0,this.normal=new Vt,this.flags=0}return l(t,[{key:"SetIndices",value:function(t,e){this.indexA=t,this.indexB=e}},{key:"SetWeight",value:function(t){this.weight=t}},{key:"SetNormal",value:function(t){this.normal.Copy(t)}},{key:"SetFlags",value:function(t){this.flags=t}},{key:"GetIndexA",value:function(){return this.indexA}},{key:"GetIndexB",value:function(){return this.indexB}},{key:"GetWeight",value:function(){return this.weight}},{key:"GetNormal",value:function(){return this.normal}},{key:"GetFlags",value:function(){return this.flags}},{key:"IsEqual",value:function(t){return this.indexA===t.indexA&&this.indexB===t.indexB&&this.flags===t.flags&&this.weight===t.weight&&this.normal.x===t.normal.x&&this.normal.y===t.normal.y}},{key:"IsNotEqual",value:function(t){return!this.IsEqual(t)}},{key:"ApproximatelyEqual",value:function(t){var e=.01,n=1e-4;return this.indexA===t.indexA&&this.indexB===t.indexB&&this.flags===t.flags&&st(this.weight-t.weight)<e&&Vt.DistanceSquaredVV(this.normal,t.normal)<n}}]),t}(),no=function t(){u(this,t),this.index=0,this.weight=0,this.normal=new Vt,this.mass=0},io=function t(){u(this,t),this.indexA=0,this.indexB=0,this.flags=0,this.strength=0,this.distance=0},ro=function t(){u(this,t),this.indexA=0,this.indexB=0,this.indexC=0,this.flags=0,this.strength=0,this.pa=new Vt(0,0),this.pb=new Vt(0,0),this.pc=new Vt(0,0),this.ka=0,this.kb=0,this.kc=0,this.s=0},oo=function(){function t(){u(this,t),this.strictContactCheck=!1,this.density=1,this.gravityScale=1,this.radius=1,this.maxCount=0,this.pressureStrength=.005,this.dampingStrength=1,this.elasticStrength=.25,this.springStrength=.25,this.viscousStrength=.25,this.surfaceTensionPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.repulsiveStrength=1,this.powderStrength=.5,this.ejectionStrength=.5,this.staticPressureStrength=.2,this.staticPressureRelaxation=.2,this.staticPressureIterations=8,this.colorMixingStrength=.5,this.destroyByAge=!0,this.lifetimeGranularity=1/60}return l(t,[{key:"Copy",value:function(t){return this.strictContactCheck=t.strictContactCheck,this.density=t.density,this.gravityScale=t.gravityScale,this.radius=t.radius,this.maxCount=t.maxCount,this.pressureStrength=t.pressureStrength,this.dampingStrength=t.dampingStrength,this.elasticStrength=t.elasticStrength,this.springStrength=t.springStrength,this.viscousStrength=t.viscousStrength,this.surfaceTensionPressureStrength=t.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=t.surfaceTensionNormalStrength,this.repulsiveStrength=t.repulsiveStrength,this.powderStrength=t.powderStrength,this.ejectionStrength=t.ejectionStrength,this.staticPressureStrength=t.staticPressureStrength,this.staticPressureRelaxation=t.staticPressureRelaxation,this.staticPressureIterations=t.staticPressureIterations,this.colorMixingStrength=t.colorMixingStrength,this.destroyByAge=t.destroyByAge,this.lifetimeGranularity=t.lifetimeGranularity,this}},{key:"Clone",value:function(){return(new t).Copy(this)}}]),t}(),ao=function(){function e(t,n){u(this,e),this.m_paused=!1,this.m_timestamp=0,this.m_allParticleFlags=0,this.m_needsUpdateAllParticleFlags=!1,this.m_allGroupFlags=0,this.m_needsUpdateAllGroupFlags=!1,this.m_hasForce=!1,this.m_iterationIndex=0,this.m_inverseDensity=0,this.m_particleDiameter=0,this.m_inverseDiameter=0,this.m_squaredDiameter=0,this.m_count=0,this.m_internalAllocatedCapacity=0,this.m_handleIndexBuffer=new so,this.m_flagsBuffer=new so,this.m_positionBuffer=new so,this.m_velocityBuffer=new so,this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new so,this.m_groupBuffer=[],this.m_userDataBuffer=new so,this.m_stuckThreshold=0,this.m_lastBodyContactStepBuffer=new so,this.m_bodyContactCountBuffer=new so,this.m_consecutiveContactStepsBuffer=new so,this.m_stuckParticleBuffer=new Yr((function(){return 0})),this.m_proxyBuffer=new Yr((function(){return new uo})),this.m_contactBuffer=new Yr((function(){return new eo})),this.m_bodyContactBuffer=new Yr((function(){return new no})),this.m_pairBuffer=new Yr((function(){return new io})),this.m_triadBuffer=new Yr((function(){return new ro})),this.m_expirationTimeBuffer=new so,this.m_indexByExpirationTimeBuffer=new so,this.m_timeElapsed=0,this.m_expirationTimeBufferRequiresSorting=!1,this.m_groupCount=0,this.m_groupList=null,this.m_def=new oo,this.m_prev=null,this.m_next=null,this.UpdateBodyContacts_callback=null,this.SolveCollision_callback=null,this.SetStrictContactCheck(t.strictContactCheck),this.SetDensity(t.density),this.SetGravityScale(t.gravityScale),this.SetRadius(t.radius),this.SetMaxParticleCount(t.maxCount),this.m_def=t.Clone(),this.m_world=n,this.SetDestructionByAge(this.m_def.destroyByAge)}return l(e,[{key:"Drop",value:function(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity)}},{key:"CreateParticle",value:function(t){if(this.m_world.IsLocked())throw new Error;if(this.m_count>=this.m_internalAllocatedCapacity){var e=this.m_count?2*this.m_count:N;this.ReallocateInternalAllocatedBuffers(e)}if(this.m_count>=this.m_internalAllocatedCapacity){if(!this.m_def.destroyByAge)return j;this.DestroyOldestParticle(0,!1),this.SolveZombie()}var i=this.m_count++;this.m_flagsBuffer.data[i]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[i]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[i]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[i]=0),this.m_positionBuffer.data[i]=(this.m_positionBuffer.data[i]||new Vt).Copy(n(t.position,Vt.ZERO)),this.m_velocityBuffer.data[i]=(this.m_velocityBuffer.data[i]||new Vt).Copy(n(t.velocity,Vt.ZERO)),this.m_weightBuffer[i]=0,this.m_forceBuffer[i]=(this.m_forceBuffer[i]||new Vt).SetZero(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[i]=0),this.m_depthBuffer&&(this.m_depthBuffer[i]=0);var r=(new Rt).Copy(n(t.color,Rt.ZERO));!this.m_colorBuffer.data&&r.IsZero()||(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[i]=(this.m_colorBuffer.data[i]||new Rt).Copy(r)),(this.m_userDataBuffer.data||t.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[i]=t.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[i]=null);var o=this.m_proxyBuffer.data[this.m_proxyBuffer.Append()],a=n(t.lifetime,0),s=a>0;(this.m_expirationTimeBuffer.data||s)&&(this.SetParticleLifetime(i,s?a:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),this.m_indexByExpirationTimeBuffer.data[i]=i),o.index=i;var u=n(t.group,null);return this.m_groupBuffer[i]=u,u&&(u.m_firstIndex<u.m_lastIndex?(this.RotateBuffer(u.m_firstIndex,u.m_lastIndex,i),u.m_lastIndex=i+1):(u.m_firstIndex=i,u.m_lastIndex=i+1)),this.SetParticleFlags(i,n(t.flags,0)),i}},{key:"GetParticleHandleFromIndex",value:function(t){this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);var e=this.m_handleIndexBuffer.data[t];return e||((e=new Rr).SetIndex(t),this.m_handleIndexBuffer.data[t]=e,e)}},{key:"DestroyParticle",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.b2ParticleFlag.b2_zombieParticle;n&&(i|=t.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(e,this.m_flagsBuffer.data[e]|i)}},{key:"DestroyOldestParticle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.GetParticleCount(),i=this.m_indexByExpirationTimeBuffer.data[n-(t+1)],r=this.m_indexByExpirationTimeBuffer.data[t];this.DestroyParticle(this.m_expirationTimeBuffer.data[i]>0?i:r,e)}},{key:"DestroyParticlesInShape",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.DestroyParticlesInShape_s_aabb;if(this.m_world.IsLocked())throw new Error;var o=new yo(this,t,n,i),a=r;return t.ComputeAABB(a,n,0),this.m_world.QueryAABB(o,a),o.Destroyed()}},{key:"CreateParticleGroup",value:function(t){var i=e.CreateParticleGroup_s_transform;if(this.m_world.IsLocked())throw new Error;var r=i;r.SetPositionAngle(n(t.position,Vt.ZERO),n(t.angle,0));var o=this.m_count;if(t.shape&&this.CreateParticlesWithShapeForGroup(t.shape,t,r),t.shapes&&this.CreateParticlesWithShapesForGroup(t.shapes,n(t.shapeCount,t.shapes.length),t,r),t.positionData)for(var a=n(t.particleCount,t.positionData.length),s=0;s<a;s++){var u=t.positionData[s];this.CreateParticleForGroup(t,r,u)}var l=this.m_count,c=new Fr(this);c.m_firstIndex=o,c.m_lastIndex=l,c.m_strength=n(t.strength,1),c.m_userData=t.userData,c.m_transform.Copy(r),c.m_prev=null,c.m_next=this.m_groupList,this.m_groupList&&(this.m_groupList.m_prev=c),this.m_groupList=c,++this.m_groupCount;for(var h=o;h<l;h++)this.m_groupBuffer[h]=c;this.SetGroupFlags(c,n(t.groupFlags,0));var f=new vo;return this.UpdateContacts(!0),this.UpdatePairsAndTriads(o,l,f),t.group&&(this.JoinParticleGroups(t.group,c),c=t.group),c}},{key:"JoinParticleGroups",value:function(t,e){if(this.m_world.IsLocked())throw new Error;this.RotateBuffer(e.m_firstIndex,e.m_lastIndex,this.m_count),this.RotateBuffer(t.m_firstIndex,t.m_lastIndex,e.m_firstIndex);var n=new bo(e.m_firstIndex);this.UpdateContacts(!0),this.UpdatePairsAndTriads(t.m_firstIndex,e.m_lastIndex,n);for(var i=e.m_firstIndex;i<e.m_lastIndex;i++)this.m_groupBuffer[i]=t;var r=t.m_groupFlags|e.m_groupFlags;this.SetGroupFlags(t,r),t.m_lastIndex=e.m_lastIndex,e.m_firstIndex=e.m_lastIndex,this.DestroyParticleGroup(e)}},{key:"SplitParticleGroup",value:function(t){this.UpdateContacts(!0);var n=et(t.GetParticleCount(),(function(t){return new co}));e.InitializeParticleLists(t,n),this.MergeParticleListsInContact(t,n);var i=e.FindLongestParticleList(t,n);this.MergeZombieParticleListNodes(t,n,i),this.CreateParticleGroupsFromParticleList(t,n,i),this.UpdatePairsAndTriadsWithParticleList(t,n)}},{key:"GetParticleGroupList",value:function(){return this.m_groupList}},{key:"GetParticleGroupCount",value:function(){return this.m_groupCount}},{key:"GetParticleCount",value:function(){return this.m_count}},{key:"GetMaxParticleCount",value:function(){return this.m_def.maxCount}},{key:"SetMaxParticleCount",value:function(t){this.m_def.maxCount=t}},{key:"GetAllParticleFlags",value:function(){return this.m_allParticleFlags}},{key:"GetAllGroupFlags",value:function(){return this.m_allGroupFlags}},{key:"SetPaused",value:function(t){this.m_paused=t}},{key:"GetPaused",value:function(){return this.m_paused}},{key:"SetDensity",value:function(t){this.m_def.density=t,this.m_inverseDensity=1/this.m_def.density}},{key:"GetDensity",value:function(){return this.m_def.density}},{key:"SetGravityScale",value:function(t){this.m_def.gravityScale=t}},{key:"GetGravityScale",value:function(){return this.m_def.gravityScale}},{key:"SetDamping",value:function(t){this.m_def.dampingStrength=t}},{key:"GetDamping",value:function(){return this.m_def.dampingStrength}},{key:"SetStaticPressureIterations",value:function(t){this.m_def.staticPressureIterations=t}},{key:"GetStaticPressureIterations",value:function(){return this.m_def.staticPressureIterations}},{key:"SetRadius",value:function(t){this.m_particleDiameter=2*t,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter}},{key:"GetRadius",value:function(){return this.m_particleDiameter/2}},{key:"GetPositionBuffer",value:function(){return this.m_positionBuffer.data}},{key:"GetVelocityBuffer",value:function(){return this.m_velocityBuffer.data}},{key:"GetColorBuffer",value:function(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data}},{key:"GetGroupBuffer",value:function(){return this.m_groupBuffer}},{key:"GetWeightBuffer",value:function(){return this.m_weightBuffer}},{key:"GetUserDataBuffer",value:function(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data}},{key:"GetFlagsBuffer",value:function(){return this.m_flagsBuffer.data}},{key:"SetParticleFlags",value:function(e,n){this.m_flagsBuffer.data[e]&~n&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&n&&(n&t.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),n&t.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=n),this.m_flagsBuffer.data[e]=n}},{key:"GetParticleFlags",value:function(t){return this.m_flagsBuffer.data[t]}},{key:"SetFlagsBuffer",value:function(t){this.SetUserOverridableBuffer(this.m_flagsBuffer,t)}},{key:"SetPositionBuffer",value:function(t){if(t instanceof Float32Array){if(t.length%2!==0)throw new Error;for(var e=t.length/2,n=new Array(e),i=0;i<e;++i)n[i]=new Vt(t.subarray(2*i,2*i+2));t=n}this.SetUserOverridableBuffer(this.m_positionBuffer,t)}},{key:"SetVelocityBuffer",value:function(t){if(t instanceof Float32Array){if(t.length%2!==0)throw new Error;for(var e=t.length/2,n=new Array(e),i=0;i<e;++i)n[i]=new Vt(t.subarray(2*i,2*i+2));t=n}this.SetUserOverridableBuffer(this.m_velocityBuffer,t)}},{key:"SetColorBuffer",value:function(t){if(t instanceof Float32Array){if(t.length%4!==0)throw new Error;for(var e=t.length/4,n=new Array(e),i=0;i<e;++i)n[i]=new Rt(t.subarray(4*i,4*i+4));t=n}this.SetUserOverridableBuffer(this.m_colorBuffer,t)}},{key:"SetUserDataBuffer",value:function(t){this.SetUserOverridableBuffer(this.m_userDataBuffer,t)}},{key:"GetContacts",value:function(){return this.m_contactBuffer.data}},{key:"GetContactCount",value:function(){return this.m_contactBuffer.count}},{key:"GetBodyContacts",value:function(){return this.m_bodyContactBuffer.data}},{key:"GetBodyContactCount",value:function(){return this.m_bodyContactBuffer.count}},{key:"GetPairs",value:function(){return this.m_pairBuffer.data}},{key:"GetPairCount",value:function(){return this.m_pairBuffer.count}},{key:"GetTriads",value:function(){return this.m_triadBuffer.data}},{key:"GetTriadCount",value:function(){return this.m_triadBuffer.count}},{key:"SetStuckThreshold",value:function(t){this.m_stuckThreshold=t,t>0&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data))}},{key:"GetStuckCandidates",value:function(){return this.m_stuckParticleBuffer.Data()}},{key:"GetStuckCandidateCount",value:function(){return this.m_stuckParticleBuffer.GetCount()}},{key:"ComputeCollisionEnergy",value:function(){for(var t=e.ComputeCollisionEnergy_s_v,n=this.m_velocityBuffer.data,i=0,r=0;r<this.m_contactBuffer.count;r++){var o=this.m_contactBuffer.data[r],a=o.indexA,s=o.indexB,u=o.normal,l=Vt.SubVV(n[s],n[a],t),c=Vt.DotVV(l,u);c<0&&(i+=c*c)}return.5*this.GetParticleMass()*i}},{key:"SetStrictContactCheck",value:function(t){this.m_def.strictContactCheck=t}},{key:"GetStrictContactCheck",value:function(){return this.m_def.strictContactCheck}},{key:"SetParticleLifetime",value:function(t,e){var n=null===this.m_indexByExpirationTimeBuffer.data;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),n)for(var i=this.GetParticleCount(),r=0;r<i;++r)this.m_indexByExpirationTimeBuffer.data[r]=r;var o=e/this.m_def.lifetimeGranularity,a=o>0?this.GetQuantizedTimeElapsed()+o:o;a!==this.m_expirationTimeBuffer.data[t]&&(this.m_expirationTimeBuffer.data[t]=a,this.m_expirationTimeBufferRequiresSorting=!0)}},{key:"GetParticleLifetime",value:function(t){return this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[t])}},{key:"SetDestructionByAge",value:function(t){t&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=t}},{key:"GetDestructionByAge",value:function(){return this.m_def.destroyByAge}},{key:"GetExpirationTimeBuffer",value:function(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data}},{key:"ExpirationTimeToLifetime",value:function(t){return(t>0?t-this.GetQuantizedTimeElapsed():t)*this.m_def.lifetimeGranularity}},{key:"GetIndexByExpirationTimeBuffer",value:function(){return this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data}},{key:"ParticleApplyLinearImpulse",value:function(t,e){this.ApplyLinearImpulse(t,t+1,e)}},{key:"ApplyLinearImpulse",value:function(t,e,n){for(var i=this.m_velocityBuffer.data,r=(e-t)*this.GetParticleMass(),o=(new Vt).Copy(n).SelfMul(1/r),a=t;a<e;a++)i[a].SelfAdd(o)}},{key:"ParticleApplyForce",value:function(t,n){e.IsSignificantForce(n)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[t])&&(this.PrepareForceBuffer(),this.m_forceBuffer[t].SelfAdd(n))}},{key:"ApplyForce",value:function(t,n,i){var r=(new Vt).Copy(i).SelfMul(1/(n-t));if(e.IsSignificantForce(r)){this.PrepareForceBuffer();for(var o=t;o<n;o++)this.m_forceBuffer[o].SelfAdd(r)}}},{key:"GetNext",value:function(){return this.m_next}},{key:"QueryAABB",value:function(t,n){if(0!==this.m_proxyBuffer.count)for(var i=0,r=this.m_proxyBuffer.count,o=Qr(this.m_proxyBuffer.data,i,r,e.computeTag(this.m_inverseDiameter*n.lowerBound.x,this.m_inverseDiameter*n.lowerBound.y),uo.CompareProxyTag),a=$r(this.m_proxyBuffer.data,o,r,e.computeTag(this.m_inverseDiameter*n.upperBound.x,this.m_inverseDiameter*n.upperBound.y),uo.CompareTagProxy),s=this.m_positionBuffer.data,u=o;u<a;++u){var l=this.m_proxyBuffer.data[u].index,c=s[l];if(n.lowerBound.x<c.x&&c.x<n.upperBound.x&&n.lowerBound.y<c.y&&c.y<n.upperBound.y&&!t.ReportParticle(this,l))break}}},{key:"QueryShapeAABB",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e.QueryShapeAABB_s_aabb;n.ComputeAABB(o,i,r),this.QueryAABB(t,o)}},{key:"QueryPointAABB",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,r=e.QueryPointAABB_s_aabb;r.lowerBound.Set(n.x-i,n.y-i),r.upperBound.Set(n.x+i,n.y+i),this.QueryAABB(t,r)}},{key:"RayCast",value:function(t,n,i){var r=e.RayCast_s_aabb,o=e.RayCast_s_p,a=e.RayCast_s_v,s=e.RayCast_s_n,u=e.RayCast_s_point;if(0!==this.m_proxyBuffer.count){var l=this.m_positionBuffer.data,c=r;Vt.MinV(n,i,c.lowerBound),Vt.MaxV(n,i,c.upperBound);for(var h,f=1,m=Vt.SubVV(i,n,a),d=Vt.DotVV(m,m),_=this.GetInsideBoundsEnumerator(c);(h=_.GetNext())>=0;){var p=Vt.SubVV(n,l[h],o),v=Vt.DotVV(p,m),y=v*v-d*(Vt.DotVV(p,p)-this.m_squaredDiameter);if(y>=0){var b=_t(y),g=(-v-b)/d;if(g>f)continue;if(g<0&&((g=(-v+b)/d)<0||g>f))continue;var x=Vt.AddVMulSV(p,g,m,s);if(x.Normalize(),(f=ut(f,t.ReportParticle(this,h,Vt.AddVMulSV(n,g,m,u),x,g)))<=0)break}}}}},{key:"ComputeAABB",value:function(t){var e=this.GetParticleCount();t.lowerBound.x=+h,t.lowerBound.y=+h,t.upperBound.x=-h,t.upperBound.y=-h;for(var n=this.m_positionBuffer.data,i=0;i<e;i++){var r=n[i];Vt.MinV(t.lowerBound,r,t.lowerBound),Vt.MaxV(t.upperBound,r,t.upperBound)}t.lowerBound.x-=this.m_particleDiameter,t.lowerBound.y-=this.m_particleDiameter,t.upperBound.x+=this.m_particleDiameter,t.upperBound.y+=this.m_particleDiameter}},{key:"FreeBuffer",value:function(t,e){null!==t&&(t.length=0)}},{key:"FreeUserOverridableBuffer",value:function(t){0===t.userSuppliedCapacity&&this.FreeBuffer(t.data,this.m_internalAllocatedCapacity)}},{key:"ReallocateBuffer3",value:function(t,e,n){if(n<=e)throw new Error;var i=t?t.slice():[];return i.length=n,i}},{key:"ReallocateBuffer5",value:function(t,e,n,i,r){if(i<=n)throw new Error;if(e&&!(i<=e))throw new Error;return r&&!t||e||(t=this.ReallocateBuffer3(t,n,i)),t}},{key:"ReallocateBuffer4",value:function(t,e,n,i){return this.ReallocateBuffer5(t.data,t.userSuppliedCapacity,e,n,i)}},{key:"RequestBuffer",value:function(t){return t||(0===this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(N),(t=[]).length=this.m_internalAllocatedCapacity),t}},{key:"ReallocateHandleBuffers",value:function(t){this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,t,!0)}},{key:"ReallocateInternalAllocatedBuffers",value:function(t){function e(t,e){return e&&t>e?e:t}if(t=e(t,this.m_def.maxCount),t=e(t,this.m_flagsBuffer.userSuppliedCapacity),t=e(t,this.m_positionBuffer.userSuppliedCapacity),t=e(t,this.m_velocityBuffer.userSuppliedCapacity),t=e(t,this.m_colorBuffer.userSuppliedCapacity),t=e(t,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<t){this.ReallocateHandleBuffers(t),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,t,!1);var n=this.m_stuckThreshold>0;this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,t,n),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,t,n),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,t,n),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_internalAllocatedCapacity=t}}},{key:"CreateParticleForGroup",value:function(t,e,i){var r=new Dr;r.flags=n(t.flags,0),Dt.MulXV(e,i,r.position),Vt.AddVV(n(t.linearVelocity,Vt.ZERO),Vt.CrossSV(n(t.angularVelocity,0),Vt.SubVV(r.position,n(t.position,Vt.ZERO),Vt.s_t0),Vt.s_t0),r.velocity),r.color.Copy(n(t.color,Rt.ZERO)),r.lifetime=n(t.lifetime,0),r.userData=t.userData,this.CreateParticle(r)}},{key:"CreateParticlesStrokeShapeForGroup",value:function(i,r,o){var a=e.CreateParticlesStrokeShapeForGroup_s_edge,s=e.CreateParticlesStrokeShapeForGroup_s_d,u=e.CreateParticlesStrokeShapeForGroup_s_p,l=n(r.stride,0);0===l&&(l=this.GetParticleStride());for(var c=0,h=i.GetChildCount(),f=0;f<h;f++){var m=null;i.GetType()===t.b2ShapeType.e_edgeShape?m=i:(m=a,i.GetChildEdge(m,f));for(var d=Vt.SubVV(m.m_vertex2,m.m_vertex1,s),_=d.Length();c<_;){var p=Vt.AddVMulSV(m.m_vertex1,c/_,d,u);this.CreateParticleForGroup(r,o,p),c+=l}c-=_}}},{key:"CreateParticlesFillShapeForGroup",value:function(t,i,r){var o=e.CreateParticlesFillShapeForGroup_s_aabb,a=e.CreateParticlesFillShapeForGroup_s_p,s=n(i.stride,0);0===s&&(s=this.GetParticleStride());var u=Dt.IDENTITY,l=o;t.ComputeAABB(l,u,0);for(var c=Math.floor(l.lowerBound.y/s)*s;c<l.upperBound.y;c+=s)for(var h=Math.floor(l.lowerBound.x/s)*s;h<l.upperBound.x;h+=s){var f=a.Set(h,c);t.TestPoint(u,f)&&this.CreateParticleForGroup(i,r,f)}}},{key:"CreateParticlesWithShapeForGroup",value:function(e,n,i){switch(e.GetType()){case t.b2ShapeType.e_edgeShape:case t.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(e,n,i);break;case t.b2ShapeType.e_polygonShape:case t.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(e,n,i)}}},{key:"CreateParticlesWithShapesForGroup",value:function(t,e,n,i){var r=new go(t,e);this.CreateParticlesFillShapeForGroup(r,n,i)}},{key:"CloneParticle",value:function(t,e){var n=new Dr;n.flags=this.m_flagsBuffer.data[t],n.position.Copy(this.m_positionBuffer.data[t]),n.velocity.Copy(this.m_velocityBuffer.data[t]),this.m_colorBuffer.data&&n.color.Copy(this.m_colorBuffer.data[t]),this.m_userDataBuffer.data&&(n.userData=this.m_userDataBuffer.data[t]),n.group=e;var i=this.CreateParticle(n);if(this.m_handleIndexBuffer.data){var r=this.m_handleIndexBuffer.data[t];r&&r.SetIndex(i),this.m_handleIndexBuffer.data[i]=r,this.m_handleIndexBuffer.data[t]=null}return this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[i]=this.m_lastBodyContactStepBuffer.data[t]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[i]=this.m_bodyContactCountBuffer.data[t]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[i]=this.m_consecutiveContactStepsBuffer.data[t]),this.m_hasForce&&this.m_forceBuffer[i].Copy(this.m_forceBuffer[t]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[i]=this.m_staticPressureBuffer[t]),this.m_depthBuffer&&(this.m_depthBuffer[i]=this.m_depthBuffer[t]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[i]=this.m_expirationTimeBuffer.data[t]),i}},{key:"DestroyParticlesInGroup",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.m_firstIndex;n<t.m_lastIndex;n++)this.DestroyParticle(n,e)}},{key:"DestroyParticleGroup",value:function(t){this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(t),this.SetGroupFlags(t,0);for(var e=t.m_firstIndex;e<t.m_lastIndex;e++)this.m_groupBuffer[e]=null;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_groupList&&(this.m_groupList=t.m_next),--this.m_groupCount}},{key:"UpdatePairsAndTriads",value:function(n,i,r){for(var o=e.UpdatePairsAndTriads_s_dab,a=e.UpdatePairsAndTriads_s_dbc,s=e.UpdatePairsAndTriads_s_dca,u=this.m_positionBuffer.data,l=0,c=n;c<i;c++)l|=this.m_flagsBuffer.data[c];if(l&e.k_pairFlags)for(var h=0;h<this.m_contactBuffer.count;h++){var f=this.m_contactBuffer.data[h],m=f.indexA,d=f.indexB,_=this.m_flagsBuffer.data[m],p=this.m_flagsBuffer.data[d],v=this.m_groupBuffer[m],y=this.m_groupBuffer[d];if(m>=n&&m<i&&d>=n&&d<i&&!((_|p)&t.b2ParticleFlag.b2_zombieParticle)&&(_|p)&e.k_pairFlags&&(r.IsNecessary(m)||r.IsNecessary(d))&&e.ParticleCanBeConnected(_,v)&&e.ParticleCanBeConnected(p,y)&&r.ShouldCreatePair(m,d)){var b=this.m_pairBuffer.data[this.m_pairBuffer.Append()];b.indexA=m,b.indexB=d,b.flags=f.flags,b.strength=ut(v?v.m_strength:1,y?y.m_strength:1),b.distance=Vt.DistanceVV(u[m],u[d])}Xr(this.m_pairBuffer.data,0,this.m_pairBuffer.count,e.ComparePairIndices),this.m_pairBuffer.Unique(e.MatchPairIndices)}if(l&e.k_triadFlags){for(var g=new Nr(i-n),x=n;x<i;x++){var S=this.m_flagsBuffer.data[x],w=this.m_groupBuffer[x];S&t.b2ParticleFlag.b2_zombieParticle||!e.ParticleCanBeConnected(S,w)||g.AddGenerator(u[x],x,r.IsNecessary(x))}var C=this.GetParticleStride();g.Generate(C/2,2*C);var A=this,B=function(t,n,i){var l=A.m_flagsBuffer.data[t],c=A.m_flagsBuffer.data[n],h=A.m_flagsBuffer.data[i];if((l|c|h)&e.k_triadFlags&&r.ShouldCreateTriad(t,n,i)){var f=u[t],m=u[n],d=u[i],_=Vt.SubVV(f,m,o),p=Vt.SubVV(m,d,a),v=Vt.SubVV(d,f,s),y=G*A.m_squaredDiameter;if(Vt.DotVV(_,_)>y||Vt.DotVV(p,p)>y||Vt.DotVV(v,v)>y)return;var b=A.m_groupBuffer[t],g=A.m_groupBuffer[n],x=A.m_groupBuffer[i],S=A.m_triadBuffer.data[A.m_triadBuffer.Append()];S.indexA=t,S.indexB=n,S.indexC=i,S.flags=l|c|h,S.strength=ut(ut(b?b.m_strength:1,g?g.m_strength:1),x?x.m_strength:1);var w=(f.x+m.x+d.x)/3,C=(f.y+m.y+d.y)/3;S.pa.x=f.x-w,S.pa.y=f.y-C,S.pb.x=m.x-w,S.pb.y=m.y-C,S.pc.x=d.x-w,S.pc.y=d.y-C,S.ka=-Vt.DotVV(v,_),S.kb=-Vt.DotVV(_,p),S.kc=-Vt.DotVV(p,v),S.s=Vt.CrossVV(f,m)+Vt.CrossVV(m,d)+Vt.CrossVV(d,f)}};g.GetNodes(B),Xr(this.m_triadBuffer.data,0,this.m_triadBuffer.count,e.CompareTriadIndices),this.m_triadBuffer.Unique(e.MatchTriadIndices)}}},{key:"UpdatePairsAndTriadsWithReactiveParticles",value:function(){var e=new xo(this.m_flagsBuffer);this.UpdatePairsAndTriads(0,this.m_count,e);for(var n=0;n<this.m_count;n++)this.m_flagsBuffer.data[n]&=~t.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~t.b2ParticleFlag.b2_reactiveParticle}},{key:"MergeParticleListsInContact",value:function(t,n){for(var i=t.GetBufferIndex(),r=0;r<this.m_contactBuffer.count;r++){var o=this.m_contactBuffer.data[r],a=o.indexA,s=o.indexB;if(t.ContainsParticle(a)&&t.ContainsParticle(s)){var u=n[a-i].list,l=n[s-i].list;if(u!==l){if(u.count<l.count){var c=u;u=l,l=c}e.MergeParticleLists(u,l)}}}}},{key:"MergeZombieParticleListNodes",value:function(n,i,r){for(var o=n.GetParticleCount(),a=0;a<o;a++){var s=i[a];s!==r&&this.m_flagsBuffer.data[s.index]&t.b2ParticleFlag.b2_zombieParticle&&e.MergeParticleListAndNode(r,s)}}},{key:"CreateParticleGroupsFromParticleList",value:function(e,n,i){var r=e.GetParticleCount(),o=new Er;o.groupFlags=e.GetGroupFlags(),o.userData=e.GetUserData();for(var a=0;a<r;a++){var s=n[a];if(s.count&&s!==i)for(var u=this.CreateParticleGroup(o),l=s;l;l=l.next){var c=l.index,h=this.CloneParticle(c,u);this.m_flagsBuffer.data[c]|=t.b2ParticleFlag.b2_zombieParticle,l.index=h}}}},{key:"UpdatePairsAndTriadsWithParticleList",value:function(t,e){for(var n=t.GetBufferIndex(),i=0;i<this.m_pairBuffer.count;i++){var r=this.m_pairBuffer.data[i],o=r.indexA,a=r.indexB;t.ContainsParticle(o)&&(r.indexA=e[o-n].index),t.ContainsParticle(a)&&(r.indexB=e[a-n].index)}for(var s=0;s<this.m_triadBuffer.count;s++){var u=this.m_triadBuffer.data[s],l=u.indexA,c=u.indexB,h=u.indexC;t.ContainsParticle(l)&&(u.indexA=e[l-n].index),t.ContainsParticle(c)&&(u.indexB=e[c-n].index),t.ContainsParticle(h)&&(u.indexC=e[h-n].index)}}},{key:"ComputeDepth",value:function(){for(var e=[],n=0,i=0;i<this.m_contactBuffer.count;i++){var r=this.m_contactBuffer.data[i],o=r.indexA,a=r.indexB,s=this.m_groupBuffer[o],u=this.m_groupBuffer[a];s&&s===u&&s.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(e[n++]=r)}for(var l=[],c=0,f=this.m_groupList;f;f=f.GetNext())if(f.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth){l[c++]=f,this.SetGroupFlags(f,f.m_groupFlags&~t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);for(var m=f.m_firstIndex;m<f.m_lastIndex;m++)this.m_accumulationBuffer[m]=0}for(var d=0;d<n;d++){var _=e[d],p=_.indexA,v=_.indexB,y=_.weight;this.m_accumulationBuffer[p]+=y,this.m_accumulationBuffer[v]+=y}for(var b=0;b<c;b++)for(var g=l[b],x=g.m_firstIndex;x<g.m_lastIndex;x++){var S=this.m_accumulationBuffer[x];this.m_depthBuffer[x]=S<.8?0:h}for(var w=_t(this.m_count)>>0,C=0;C<w;C++){for(var A=!1,B=0;B<n;B++){var k=e[B],V=k.indexA,P=k.indexB,M=1-k.weight,O=this.m_depthBuffer[V],I=this.m_depthBuffer[P],j=I+M,D=O+M;O>j&&(this.m_depthBuffer[V]=j,A=!0),I>D&&(this.m_depthBuffer[P]=D,A=!0)}if(!A)break}for(var T=0;T<c;T++)for(var L=l[T],R=L.m_firstIndex;R<L.m_lastIndex;R++)this.m_depthBuffer[R]<h?this.m_depthBuffer[R]*=this.m_particleDiameter:this.m_depthBuffer[R]=0}},{key:"GetInsideBoundsEnumerator",value:function(t){var n=e.computeTag(this.m_inverseDiameter*t.lowerBound.x-1,this.m_inverseDiameter*t.lowerBound.y-1),i=e.computeTag(this.m_inverseDiameter*t.upperBound.x+1,this.m_inverseDiameter*t.upperBound.y+1),r=0,o=this.m_proxyBuffer.count,a=Qr(this.m_proxyBuffer.data,r,o,n,uo.CompareProxyTag),s=$r(this.m_proxyBuffer.data,r,o,i,uo.CompareTagProxy);return new lo(this,n,i,a,s)}},{key:"UpdateAllParticleFlags",value:function(){this.m_allParticleFlags=0;for(var t=0;t<this.m_count;t++)this.m_allParticleFlags|=this.m_flagsBuffer.data[t];this.m_needsUpdateAllParticleFlags=!1}},{key:"UpdateAllGroupFlags",value:function(){this.m_allGroupFlags=0;for(var t=this.m_groupList;t;t=t.GetNext())this.m_allGroupFlags|=t.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1}},{key:"AddContact",value:function(t,n,i){var r=this.m_flagsBuffer.data,o=this.m_positionBuffer.data,a=Vt.SubVV(o[n],o[t],e.AddContact_s_d),s=Vt.DotVV(a,a);if(0<s&&s<this.m_squaredDiameter){var u=dt(s),l=this.m_contactBuffer.data[this.m_contactBuffer.Append()];l.indexA=t,l.indexB=n,l.flags=r[t]|r[n],l.weight=1-s*u*this.m_inverseDiameter,l.normal.x=u*a.x,l.normal.y=u*a.y}}},{key:"FindContacts_Reference",value:function(t){var n=0,i=this.m_proxyBuffer.count;this.m_contactBuffer.count=0;for(var r=n,o=n;r<i;r++){for(var a=e.computeRelativeTag(this.m_proxyBuffer.data[r].tag,1,0),s=r+1;s<i&&!(a<this.m_proxyBuffer.data[s].tag);s++)this.AddContact(this.m_proxyBuffer.data[r].index,this.m_proxyBuffer.data[s].index,this.m_contactBuffer);for(var u=e.computeRelativeTag(this.m_proxyBuffer.data[r].tag,-1,1);o<i&&!(u<=this.m_proxyBuffer.data[o].tag);o++);for(var l=e.computeRelativeTag(this.m_proxyBuffer.data[r].tag,1,1),c=o;c<i&&!(l<this.m_proxyBuffer.data[c].tag);c++)this.AddContact(this.m_proxyBuffer.data[r].index,this.m_proxyBuffer.data[c].index,this.m_contactBuffer)}}},{key:"FindContacts",value:function(t){this.FindContacts_Reference(t)}},{key:"UpdateProxies_Reference",value:function(t){for(var n=this.m_positionBuffer.data,i=this.m_inverseDiameter,r=0;r<this.m_proxyBuffer.count;++r){var o=this.m_proxyBuffer.data[r],a=n[o.index];o.tag=e.computeTag(i*a.x,i*a.y)}}},{key:"UpdateProxies",value:function(t){this.UpdateProxies_Reference(t)}},{key:"SortProxies",value:function(t){Wr(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,uo.CompareProxyProxy)}},{key:"FilterContacts",value:function(e){var n=this.GetParticleContactFilter();if(null!==n){var i=this,r=function(e){return 0!==(e.flags&t.b2ParticleFlag.b2_particleContactFilterParticle)&&!n.ShouldCollideParticleParticle(i,e.indexA,e.indexB)};this.m_contactBuffer.RemoveIf(r)}}},{key:"NotifyContactListenerPreContact",value:function(t){if(null!==this.GetParticleContactListener())throw t.Initialize(this.m_contactBuffer,this.m_flagsBuffer),new Error}},{key:"NotifyContactListenerPostContact",value:function(t){var e=this.GetParticleContactListener();if(null!==e){for(var n=0;n<this.m_contactBuffer.count;++n){var i=this.m_contactBuffer.data[n];e.BeginContactParticleParticle(this,i)}throw new Error}}},{key:"UpdateContacts",value:function(t){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);var n=new po;this.NotifyContactListenerPreContact(n),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(n),t&&this.m_contactBuffer.RemoveIf(e.b2ParticleContactIsZombie)}},{key:"NotifyBodyContactListenerPreContact",value:function(t){if(null!==this.GetFixtureContactListener())throw t.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer),new Error}},{key:"NotifyBodyContactListenerPostContact",value:function(t){var e=this.GetFixtureContactListener();if(null!==e){for(var n=0;n<this.m_bodyContactBuffer.count;n++){var i=this.m_bodyContactBuffer.data[n];e.BeginContactFixtureParticle(this,i)}throw new Error}}},{key:"UpdateBodyContacts",value:function(){var t=e.UpdateBodyContacts_s_aabb,n=new mo;if(this.NotifyBodyContactListenerPreContact(n),this.m_stuckThreshold>0)for(var i=this.GetParticleCount(),r=0;r<i;r++)this.m_bodyContactCountBuffer.data[r]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[r]+1&&(this.m_consecutiveContactStepsBuffer.data[r]=0);this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0);var o=t;this.ComputeAABB(o),null===this.UpdateBodyContacts_callback&&(this.UpdateBodyContacts_callback=new So(this));var a=this.UpdateBodyContacts_callback;a.m_contactFilter=this.GetFixtureContactFilter(),this.m_world.QueryAABB(a,o),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(n)}},{key:"Solve",value:function(n){var i=e.Solve_s_subStep;if(0!==this.m_count&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(n),this.m_allParticleFlags&t.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<n.particleIterations;this.m_iterationIndex++){++this.m_timestamp;var r=i.Copy(n);r.dt/=n.particleIterations,r.inv_dt*=n.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&t.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&t.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(r),this.SolvePressure(r),this.SolveDamping(r),this.m_allParticleFlags&e.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&t.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_springParticle&&this.SolveSpring(r),this.LimitVelocity(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&t.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(r),this.SolveCollision(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_wallParticle&&this.SolveWall();for(var o=0;o<this.m_count;o++)this.m_positionBuffer.data[o].SelfMulAdd(r.dt,this.m_velocityBuffer.data[o])}}},{key:"SolveCollision",value:function(t){var n=e.SolveCollision_s_aabb,i=this.m_positionBuffer.data,r=this.m_velocityBuffer.data,o=n;o.lowerBound.x=+h,o.lowerBound.y=+h,o.upperBound.x=-h,o.upperBound.y=-h;for(var a=0;a<this.m_count;a++){var s=r[a],u=i[a],l=u.x+t.dt*s.x,c=u.y+t.dt*s.y;o.lowerBound.x=ut(o.lowerBound.x,ut(u.x,l)),o.lowerBound.y=ut(o.lowerBound.y,ut(u.y,c)),o.upperBound.x=lt(o.upperBound.x,lt(u.x,l)),o.upperBound.y=lt(o.upperBound.y,lt(u.y,c))}null===this.SolveCollision_callback&&(this.SolveCollision_callback=new wo(this,t));var f=this.SolveCollision_callback;f.m_step=t,this.m_world.QueryAABB(f,o)}},{key:"LimitVelocity",value:function(t){for(var e=this.m_velocityBuffer.data,n=this.GetCriticalVelocitySquared(t),i=0;i<this.m_count;i++){var r=e[i],o=Vt.DotVV(r,r);o>n&&r.SelfMul(_t(n/o))}}},{key:"SolveGravity",value:function(t){for(var n=e.SolveGravity_s_gravity,i=this.m_velocityBuffer.data,r=Vt.MulSV(t.dt*this.m_def.gravityScale,this.m_world.GetGravity(),n),o=0;o<this.m_count;o++)i[o].SelfAdd(r)}},{key:"SolveBarrier",value:function(n){for(var i=e.SolveBarrier_s_aabb,r=e.SolveBarrier_s_va,o=e.SolveBarrier_s_vb,a=e.SolveBarrier_s_pba,s=e.SolveBarrier_s_vba,u=e.SolveBarrier_s_vc,l=e.SolveBarrier_s_pca,c=e.SolveBarrier_s_vca,h=e.SolveBarrier_s_qba,f=e.SolveBarrier_s_qca,m=e.SolveBarrier_s_dv,d=e.SolveBarrier_s_f,_=this.m_positionBuffer.data,p=this.m_velocityBuffer.data,v=0;v<this.m_count;v++)0!==(this.m_flagsBuffer.data[v]&e.k_barrierWallFlags)&&p[v].SetZero();for(var y=z*n.dt,b=this.GetParticleMass(),g=0;g<this.m_pairBuffer.count;g++){var x=this.m_pairBuffer.data[g];if(x.flags&t.b2ParticleFlag.b2_barrierParticle){var S=x.indexA,w=x.indexB,C=_[S],A=_[w],B=i;Vt.MinV(C,A,B.lowerBound),Vt.MaxV(C,A,B.upperBound);for(var k=this.m_groupBuffer[S],V=this.m_groupBuffer[w],P=this.GetLinearVelocity(k,S,C,r),M=this.GetLinearVelocity(V,w,A,o),O=Vt.SubVV(A,C,a),I=Vt.SubVV(M,P,s),j=this.GetInsideBoundsEnumerator(B),D=void 0;(D=j.GetNext())>=0;){var T=_[D],L=this.m_groupBuffer[D];if(k!==L&&V!==L){var R=this.GetLinearVelocity(L,D,T,u),E=Vt.SubVV(T,C,l),F=Vt.SubVV(R,P,c),G=Vt.CrossVV(I,F),N=Vt.CrossVV(O,F)-Vt.CrossVV(E,I),q=Vt.CrossVV(O,E),U=void 0,J=void 0,W=h,X=f;if(0===G){if(0===N)continue;if(!((J=-q/N)>=0&&J<y))continue;if(Vt.AddVMulSV(O,J,I,W),Vt.AddVMulSV(E,J,F,X),!((U=Vt.DotVV(W,X)/Vt.DotVV(W,W))>=0&&U<=1))continue}else{var H=N*N-4*q*G;if(H<0)continue;var Q=_t(H),$=(-N-Q)/(2*G),Z=(-N+Q)/(2*G);if($>Z){var K=$;$=Z,Z=K}if(J=$,Vt.AddVMulSV(O,J,I,W),Vt.AddVMulSV(E,J,F,X),U=Vt.DotVV(W,X)/Vt.DotVV(W,W),!(J>=0&&J<y&&U>=0&&U<=1)){if(!((J=Z)>=0&&J<y))continue;if(Vt.AddVMulSV(O,J,I,W),Vt.AddVMulSV(E,J,F,X),!((U=Vt.DotVV(W,X)/Vt.DotVV(W,W))>=0&&U<=1))continue}}var Y=m;Y.x=P.x+U*I.x-R.x,Y.y=P.y+U*I.y-R.y;var tt=Vt.MulSV(b,Y,d);if(L&&this.IsRigidGroup(L)){var et=L.GetMass(),nt=L.GetInertia();et>0&&L.m_linearVelocity.SelfMulAdd(1/et,tt),nt>0&&(L.m_angularVelocity+=Vt.CrossVV(Vt.SubVV(T,L.GetCenter(),Vt.s_t0),tt)/nt)}else p[D].SelfAdd(Y);this.ParticleApplyForce(D,tt.SelfMul(-n.inv_dt))}}}}}},{key:"SolveStaticPressure",value:function(e){this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);for(var n=this.GetCriticalPressure(e),i=this.m_def.staticPressureStrength*n,r=R*n,o=this.m_def.staticPressureRelaxation,a=0;a<this.m_def.staticPressureIterations;a++){for(var s=0;s<this.m_count;s++)this.m_accumulationBuffer[s]=0;for(var u=0;u<this.m_contactBuffer.count;u++){var l=this.m_contactBuffer.data[u];if(l.flags&t.b2ParticleFlag.b2_staticPressureParticle){var c=l.indexA,h=l.indexB,f=l.weight;this.m_accumulationBuffer[c]+=f*this.m_staticPressureBuffer[h],this.m_accumulationBuffer[h]+=f*this.m_staticPressureBuffer[c]}}for(var m=0;m<this.m_count;m++){var d=this.m_weightBuffer[m];if(this.m_flagsBuffer.data[m]&t.b2ParticleFlag.b2_staticPressureParticle){var _=(this.m_accumulationBuffer[m]+i*(d-L))/(d+o);this.m_staticPressureBuffer[m]=ct(_,0,r)}else this.m_staticPressureBuffer[m]=0}}}},{key:"ComputeWeight",value:function(){for(var t=0;t<this.m_count;t++)this.m_weightBuffer[t]=0;for(var e=0;e<this.m_bodyContactBuffer.count;e++){var n=this.m_bodyContactBuffer.data[e],i=n.index,r=n.weight;this.m_weightBuffer[i]+=r}for(var o=0;o<this.m_contactBuffer.count;o++){var a=this.m_contactBuffer.data[o],s=a.indexA,u=a.indexB,l=a.weight;this.m_weightBuffer[s]+=l,this.m_weightBuffer[u]+=l}}},{key:"SolvePressure",value:function(n){for(var i=e.SolvePressure_s_f,r=this.m_positionBuffer.data,o=this.m_velocityBuffer.data,a=this.GetCriticalPressure(n),s=this.m_def.pressureStrength*a,u=R*a,l=0;l<this.m_count;l++){var c=s*lt(0,this.m_weightBuffer[l]-L);this.m_accumulationBuffer[l]=ut(c,u)}if(this.m_allParticleFlags&e.k_noPressureFlags)for(var h=0;h<this.m_count;h++)this.m_flagsBuffer.data[h]&e.k_noPressureFlags&&(this.m_accumulationBuffer[h]=0);if(this.m_allParticleFlags&t.b2ParticleFlag.b2_staticPressureParticle)for(var f=0;f<this.m_count;f++)this.m_flagsBuffer.data[f]&t.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[f]+=this.m_staticPressureBuffer[f]);for(var m=n.dt/(this.m_def.density*this.m_particleDiameter),d=this.GetParticleInvMass(),_=0;_<this.m_bodyContactBuffer.count;_++){var p=this.m_bodyContactBuffer.data[_],v=p.index,y=p.body,b=p.weight,g=p.mass,x=p.normal,S=r[v],w=this.m_accumulationBuffer[v]+s*b,C=Vt.MulSV(m*b*g*w,x,i);o[v].SelfMulSub(d,C),y.ApplyLinearImpulse(C,S,!0)}for(var A=0;A<this.m_contactBuffer.count;A++){var B=this.m_contactBuffer.data[A],k=B.indexA,V=B.indexB,P=B.weight,M=B.normal,O=this.m_accumulationBuffer[k]+this.m_accumulationBuffer[V],I=Vt.MulSV(m*P*O,M,i);o[k].SelfSub(I),o[V].SelfAdd(I)}}},{key:"SolveDamping",value:function(t){for(var n=e.SolveDamping_s_v,i=e.SolveDamping_s_f,r=this.m_positionBuffer.data,o=this.m_velocityBuffer.data,a=this.m_def.dampingStrength,s=1/this.GetCriticalVelocity(t),u=this.GetParticleInvMass(),l=0;l<this.m_bodyContactBuffer.count;l++){var c=this.m_bodyContactBuffer.data[l],h=c.index,f=c.body,m=c.weight,d=c.mass,_=c.normal,p=r[h],v=Vt.SubVV(f.GetLinearVelocityFromWorldPoint(p,Vt.s_t0),o[h],n),y=Vt.DotVV(v,_);if(y<0){var b=lt(a*m,ut(-s*y,.5)),g=Vt.MulSV(b*d*y,_,i);o[h].SelfMulAdd(u,g),f.ApplyLinearImpulse(g.SelfNeg(),p,!0)}}for(var x=0;x<this.m_contactBuffer.count;x++){var S=this.m_contactBuffer.data[x],w=S.indexA,C=S.indexB,A=S.weight,B=S.normal,k=Vt.SubVV(o[C],o[w],n),V=Vt.DotVV(k,B);if(V<0){var P=lt(a*A,ut(-s*V,.5)),M=Vt.MulSV(P*V,B,i);o[w].SelfAdd(M),o[C].SelfSub(M)}}}},{key:"SolveRigidDamping",value:function(){for(var t=e.SolveRigidDamping_s_t0,n=e.SolveRigidDamping_s_t1,i=e.SolveRigidDamping_s_p,r=e.SolveRigidDamping_s_v,o=[0],a=[0],s=[0],u=[0],l=[0],c=[0],h=this.m_positionBuffer.data,f=this.m_def.dampingStrength,m=0;m<this.m_bodyContactBuffer.count;m++){var d=this.m_bodyContactBuffer.data[m],_=d.index,p=this.m_groupBuffer[_];if(p&&this.IsRigidGroup(p)){var v=d.body,y=d.normal,b=d.weight,g=h[_],x=Vt.SubVV(v.GetLinearVelocityFromWorldPoint(g,t),p.GetLinearVelocityFromWorldPoint(g,n),r),S=Vt.DotVV(x,y);if(S<0){this.InitDampingParameterWithRigidGroupOrParticle(o,a,s,!0,p,_,g,y),this.InitDampingParameter(u,l,c,v.GetMass(),v.GetInertia()-v.GetMass()*v.GetLocalCenter().LengthSquared(),v.GetWorldCenter(),g,y);var w=f*ut(b,1)*this.ComputeDampingImpulse(o[0],a[0],s[0],u[0],l[0],c[0],S);this.ApplyDamping(o[0],a[0],s[0],!0,p,_,w,y),v.ApplyLinearImpulse(Vt.MulSV(-w,y,Vt.s_t0),g,!0)}}}for(var C=0;C<this.m_contactBuffer.count;C++){var A=this.m_contactBuffer.data[C],B=A.indexA,k=A.indexB,V=A.normal,P=A.weight,M=this.m_groupBuffer[B],O=this.m_groupBuffer[k],I=this.IsRigidGroup(M),j=this.IsRigidGroup(O);if(M!==O&&(I||j)){var D=Vt.MidVV(h[B],h[k],i),T=Vt.SubVV(this.GetLinearVelocity(O,k,D,t),this.GetLinearVelocity(M,B,D,n),r),L=Vt.DotVV(T,V);if(L<0){this.InitDampingParameterWithRigidGroupOrParticle(o,a,s,I,M,B,D,V),this.InitDampingParameterWithRigidGroupOrParticle(u,l,c,j,O,k,D,V);var R=f*P*this.ComputeDampingImpulse(o[0],a[0],s[0],u[0],l[0],c[0],L);this.ApplyDamping(o[0],a[0],s[0],I,M,B,R,V),this.ApplyDamping(u[0],l[0],c[0],j,O,k,-R,V)}}}}},{key:"SolveExtraDamping",value:function(){for(var t=e.SolveExtraDamping_s_v,n=e.SolveExtraDamping_s_f,i=this.m_velocityBuffer.data,r=this.m_positionBuffer.data,o=this.GetParticleInvMass(),a=0;a<this.m_bodyContactBuffer.count;a++){var s=this.m_bodyContactBuffer.data[a],u=s.index;if(this.m_flagsBuffer.data[u]&e.k_extraDampingFlags){var l=s.body,c=s.mass,h=s.normal,f=r[u],m=Vt.SubVV(l.GetLinearVelocityFromWorldPoint(f,Vt.s_t0),i[u],t),d=Vt.DotVV(m,h);if(d<0){var _=Vt.MulSV(.5*c*d,h,n);i[u].SelfMulAdd(o,_),l.ApplyLinearImpulse(_.SelfNeg(),f,!0)}}}}},{key:"SolveWall",value:function(){for(var e=this.m_velocityBuffer.data,n=0;n<this.m_count;n++)this.m_flagsBuffer.data[n]&t.b2ParticleFlag.b2_wallParticle&&e[n].SetZero()}},{key:"SolveRigid",value:function(n){for(var i=e.SolveRigid_s_position,r=e.SolveRigid_s_rotation,o=e.SolveRigid_s_transform,a=e.SolveRigid_s_velocityTransform,s=this.m_positionBuffer.data,u=this.m_velocityBuffer.data,l=this.m_groupList;l;l=l.GetNext())if(l.m_groupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup){l.UpdateStatistics();var c=r;c.SetAngle(n.dt*l.m_angularVelocity);var h=Vt.AddVV(l.m_center,Vt.SubVV(Vt.MulSV(n.dt,l.m_linearVelocity,Vt.s_t0),jt.MulRV(c,l.m_center,Vt.s_t1),Vt.s_t0),i),f=o;f.SetPositionRotation(h,c),Dt.MulXX(f,l.m_transform,l.m_transform);var m=a;m.p.x=n.inv_dt*f.p.x,m.p.y=n.inv_dt*f.p.y,m.q.s=n.inv_dt*f.q.s,m.q.c=n.inv_dt*(f.q.c-1);for(var d=l.m_firstIndex;d<l.m_lastIndex;d++)Dt.MulXV(m,s[d],u[d])}}},{key:"SolveElastic",value:function(n){for(var i=e.SolveElastic_s_pa,r=e.SolveElastic_s_pb,o=e.SolveElastic_s_pc,a=e.SolveElastic_s_r,s=e.SolveElastic_s_t0,u=this.m_positionBuffer.data,l=this.m_velocityBuffer.data,c=n.inv_dt*this.m_def.elasticStrength,h=0;h<this.m_triadBuffer.count;h++){var f=this.m_triadBuffer.data[h];if(f.flags&t.b2ParticleFlag.b2_elasticParticle){var m=f.indexA,d=f.indexB,_=f.indexC,p=f.pa,v=f.pb,y=f.pc,b=i.Copy(u[m]),g=r.Copy(u[d]),x=o.Copy(u[_]),S=l[m],w=l[d],C=l[_];b.SelfMulAdd(n.dt,S),g.SelfMulAdd(n.dt,w),x.SelfMulAdd(n.dt,C);var A=(b.x+g.x+x.x)/3,B=(b.y+g.y+x.y)/3;b.x-=A,b.y-=B,g.x-=A,g.y-=B,x.x-=A,x.y-=B;var k=a;k.s=Vt.CrossVV(p,b)+Vt.CrossVV(v,g)+Vt.CrossVV(y,x),k.c=Vt.DotVV(p,b)+Vt.DotVV(v,g)+Vt.DotVV(y,x);var V=dt(k.s*k.s+k.c*k.c);isFinite(V)||(V=198177537e11),k.s*=V,k.c*=V;var P=c*f.strength;jt.MulRV(k,p,s),Vt.SubVV(s,b,s),Vt.MulSV(P,s,s),S.SelfAdd(s),jt.MulRV(k,v,s),Vt.SubVV(s,g,s),Vt.MulSV(P,s,s),w.SelfAdd(s),jt.MulRV(k,y,s),Vt.SubVV(s,x,s),Vt.MulSV(P,s,s),C.SelfAdd(s)}}}},{key:"SolveSpring",value:function(n){for(var i=e.SolveSpring_s_pa,r=e.SolveSpring_s_pb,o=e.SolveSpring_s_d,a=e.SolveSpring_s_f,s=this.m_positionBuffer.data,u=this.m_velocityBuffer.data,l=n.inv_dt*this.m_def.springStrength,c=0;c<this.m_pairBuffer.count;c++){var h=this.m_pairBuffer.data[c];if(h.flags&t.b2ParticleFlag.b2_springParticle){var f=h.indexA,m=h.indexB,d=i.Copy(s[f]),_=r.Copy(s[m]),p=u[f],v=u[m];d.SelfMulAdd(n.dt,p),_.SelfMulAdd(n.dt,v);var y=Vt.SubVV(_,d,o),b=h.distance,g=y.Length(),x=l*h.strength,S=Vt.MulSV(x*(b-g)/g,y,a);p.SelfSub(S),v.SelfAdd(S)}}}},{key:"SolveTensile",value:function(n){for(var i=e.SolveTensile_s_weightedNormal,r=e.SolveTensile_s_s,o=e.SolveTensile_s_f,a=this.m_velocityBuffer.data,s=0;s<this.m_count;s++)this.m_accumulation2Buffer[s]=new Vt,this.m_accumulation2Buffer[s].SetZero();for(var u=0;u<this.m_contactBuffer.count;u++){var l=this.m_contactBuffer.data[u];if(l.flags&t.b2ParticleFlag.b2_tensileParticle){var c=l.indexA,h=l.indexB,f=l.weight,m=l.normal,d=Vt.MulSV((1-f)*f,m,i);this.m_accumulation2Buffer[c].SelfSub(d),this.m_accumulation2Buffer[h].SelfAdd(d)}}for(var _=this.GetCriticalVelocity(n),p=this.m_def.surfaceTensionPressureStrength*_,v=this.m_def.surfaceTensionNormalStrength*_,y=E*_,b=0;b<this.m_contactBuffer.count;b++){var g=this.m_contactBuffer.data[b];if(g.flags&t.b2ParticleFlag.b2_tensileParticle){var x=g.indexA,S=g.indexB,w=g.weight,C=g.normal,A=this.m_weightBuffer[x]+this.m_weightBuffer[S],B=Vt.SubVV(this.m_accumulation2Buffer[S],this.m_accumulation2Buffer[x],r),k=ut(p*(A-2)+v*Vt.DotVV(B,C),y)*w,V=Vt.MulSV(k,C,o);a[x].SelfSub(V),a[S].SelfAdd(V)}}}},{key:"SolveViscous",value:function(){for(var n=e.SolveViscous_s_v,i=e.SolveViscous_s_f,r=this.m_positionBuffer.data,o=this.m_velocityBuffer.data,a=this.m_def.viscousStrength,s=this.GetParticleInvMass(),u=0;u<this.m_bodyContactBuffer.count;u++){var l=this.m_bodyContactBuffer.data[u],c=l.index;if(this.m_flagsBuffer.data[c]&t.b2ParticleFlag.b2_viscousParticle){var h=l.body,f=l.weight,m=l.mass,d=r[c],_=Vt.SubVV(h.GetLinearVelocityFromWorldPoint(d,Vt.s_t0),o[c],n),p=Vt.MulSV(a*m*f,_,i);o[c].SelfMulAdd(s,p),h.ApplyLinearImpulse(p.SelfNeg(),d,!0)}}for(var v=0;v<this.m_contactBuffer.count;v++){var y=this.m_contactBuffer.data[v];if(y.flags&t.b2ParticleFlag.b2_viscousParticle){var b=y.indexA,g=y.indexB,x=y.weight,S=Vt.SubVV(o[g],o[b],n),w=Vt.MulSV(a*x,S,i);o[b].SelfAdd(w),o[g].SelfSub(w)}}}},{key:"SolveRepulsive",value:function(n){for(var i=e.SolveRepulsive_s_f,r=this.m_velocityBuffer.data,o=this.m_def.repulsiveStrength*this.GetCriticalVelocity(n),a=0;a<this.m_contactBuffer.count;a++){var s=this.m_contactBuffer.data[a];if(s.flags&t.b2ParticleFlag.b2_repulsiveParticle){var u=s.indexA,l=s.indexB;if(this.m_groupBuffer[u]!==this.m_groupBuffer[l]){var c=s.weight,h=s.normal,f=Vt.MulSV(o*c,h,i);r[u].SelfSub(f),r[l].SelfAdd(f)}}}}},{key:"SolvePowder",value:function(n){for(var i=e.SolvePowder_s_f,r=this.m_positionBuffer.data,o=this.m_velocityBuffer.data,a=this.m_def.powderStrength*this.GetCriticalVelocity(n),s=1-T,u=this.GetParticleInvMass(),l=0;l<this.m_bodyContactBuffer.count;l++){var c=this.m_bodyContactBuffer.data[l],h=c.index;if(this.m_flagsBuffer.data[h]&t.b2ParticleFlag.b2_powderParticle){var f=c.weight;if(f>s){var m=c.body,d=c.mass,_=r[h],p=c.normal,v=Vt.MulSV(a*d*(f-s),p,i);o[h].SelfMulSub(u,v),m.ApplyLinearImpulse(v,_,!0)}}}for(var y=0;y<this.m_contactBuffer.count;y++){var b=this.m_contactBuffer.data[y];if(b.flags&t.b2ParticleFlag.b2_powderParticle){var g=b.weight;if(g>s){var x=b.indexA,S=b.indexB,w=b.normal,C=Vt.MulSV(a*(g-s),w,i);o[x].SelfSub(C),o[S].SelfAdd(C)}}}}},{key:"SolveSolid",value:function(t){var n=e.SolveSolid_s_f,i=this.m_velocityBuffer.data;this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer);for(var r=t.inv_dt*this.m_def.ejectionStrength,o=0;o<this.m_contactBuffer.count;o++){var a=this.m_contactBuffer.data[o],s=a.indexA,u=a.indexB;if(this.m_groupBuffer[s]!==this.m_groupBuffer[u]){var l=a.weight,c=a.normal,h=this.m_depthBuffer[s]+this.m_depthBuffer[u],f=Vt.MulSV(r*h*l,c,n);i[s].SelfSub(f),i[u].SelfAdd(f)}}}},{key:"SolveForce",value:function(t){for(var e=this.m_velocityBuffer.data,n=t.dt*this.GetParticleInvMass(),i=0;i<this.m_count;i++)e[i].SelfMulAdd(n,this.m_forceBuffer[i]);this.m_hasForce=!1}},{key:"SolveColorMixing",value:function(){var e=.5*this.m_def.colorMixingStrength;if(e)for(var n=0;n<this.m_contactBuffer.count;n++){var i=this.m_contactBuffer.data[n],r=i.indexA,o=i.indexB;if(this.m_flagsBuffer.data[r]&this.m_flagsBuffer.data[o]&t.b2ParticleFlag.b2_colorMixingParticle){var a=this.m_colorBuffer.data[r],s=this.m_colorBuffer.data[o];Rt.MixColors(a,s,e)}}}},{key:"SolveZombie",value:function(){for(var e=0,n=[],i=0;i<this.m_count;i++)n[i]=j;for(var r=0,o=0;o<this.m_count;o++){var a=this.m_flagsBuffer.data[o];if(a&t.b2ParticleFlag.b2_zombieParticle){var s=this.m_world.m_destructionListener;if(a&t.b2ParticleFlag.b2_destructionListenerParticle&&s&&s.SayGoodbyeParticle(this,o),this.m_handleIndexBuffer.data){var u=this.m_handleIndexBuffer.data[o];u&&(u.SetIndex(j),this.m_handleIndexBuffer.data[o]=null)}n[o]=j}else{if(n[o]=e,o!==e){if(this.m_handleIndexBuffer.data){var l=this.m_handleIndexBuffer.data[o];l&&l.SetIndex(e),this.m_handleIndexBuffer.data[e]=l}this.m_flagsBuffer.data[e]=this.m_flagsBuffer.data[o],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[e]=this.m_lastBodyContactStepBuffer.data[o]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[e]=this.m_bodyContactCountBuffer.data[o]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[e]=this.m_consecutiveContactStepsBuffer.data[o]),this.m_positionBuffer.data[e].Copy(this.m_positionBuffer.data[o]),this.m_velocityBuffer.data[e].Copy(this.m_velocityBuffer.data[o]),this.m_groupBuffer[e]=this.m_groupBuffer[o],this.m_hasForce&&this.m_forceBuffer[e].Copy(this.m_forceBuffer[o]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[e]=this.m_staticPressureBuffer[o]),this.m_depthBuffer&&(this.m_depthBuffer[e]=this.m_depthBuffer[o]),this.m_colorBuffer.data&&this.m_colorBuffer.data[e].Copy(this.m_colorBuffer.data[o]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[e]=this.m_userDataBuffer.data[o]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[e]=this.m_expirationTimeBuffer.data[o])}e++,r|=a}}for(var c={IsProxyInvalid:function(t){return t.index<0},IsContactInvalid:function(t){return t.indexA<0||t.indexB<0},IsBodyContactInvalid:function(t){return t.index<0},IsPairInvalid:function(t){return t.indexA<0||t.indexB<0},IsTriadInvalid:function(t){return t.indexA<0||t.indexB<0||t.indexC<0}},h=0;h<this.m_proxyBuffer.count;h++){var f=this.m_proxyBuffer.data[h];f.index=n[f.index]}this.m_proxyBuffer.RemoveIf(c.IsProxyInvalid);for(var m=0;m<this.m_contactBuffer.count;m++){var d=this.m_contactBuffer.data[m];d.indexA=n[d.indexA],d.indexB=n[d.indexB]}this.m_contactBuffer.RemoveIf(c.IsContactInvalid);for(var _=0;_<this.m_bodyContactBuffer.count;_++){var p=this.m_bodyContactBuffer.data[_];p.index=n[p.index]}this.m_bodyContactBuffer.RemoveIf(c.IsBodyContactInvalid);for(var v=0;v<this.m_pairBuffer.count;v++){var y=this.m_pairBuffer.data[v];y.indexA=n[y.indexA],y.indexB=n[y.indexB]}this.m_pairBuffer.RemoveIf(c.IsPairInvalid);for(var b=0;b<this.m_triadBuffer.count;b++){var g=this.m_triadBuffer.data[b];g.indexA=n[g.indexA],g.indexB=n[g.indexB],g.indexC=n[g.indexC]}if(this.m_triadBuffer.RemoveIf(c.IsTriadInvalid),this.m_indexByExpirationTimeBuffer.data)for(var x=0,S=0;S<this.m_count;S++){var w=n[this.m_indexByExpirationTimeBuffer.data[S]];w!==j&&(this.m_indexByExpirationTimeBuffer.data[x++]=w)}for(var C=this.m_groupList;C;C=C.GetNext()){for(var A=e,B=0,k=!1,V=C.m_firstIndex;V<C.m_lastIndex;V++){var P=n[V];P>=0?(A=ut(A,P),B=lt(B,P+1)):k=!0}A<B?(C.m_firstIndex=A,C.m_lastIndex=B,k&&C.m_groupFlags&t.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(C,C.m_groupFlags|t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(C.m_firstIndex=0,C.m_lastIndex=0,C.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(C,C.m_groupFlags|t.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed))}this.m_count=e,this.m_allParticleFlags=r,this.m_needsUpdateAllParticleFlags=!1;for(var M=this.m_groupList;M;){var O=M.GetNext();M.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(M),M=O}}},{key:"SolveLifetimes",value:function(t){this.m_timeElapsed=this.LifetimeToExpirationTime(t.dt);var e=this.GetQuantizedTimeElapsed(),n=this.m_expirationTimeBuffer.data,i=this.m_indexByExpirationTimeBuffer.data,r=this.GetParticleCount();this.m_expirationTimeBufferRequiresSorting&&(Wr(i,0,r,(function(t,e){var i=n[t],r=n[e],o=i<=0;return o===r<=0?i>r:o})),this.m_expirationTimeBufferRequiresSorting=!1);for(var o=r-1;o>=0;--o){var a=i[o],s=n[a];if(e<s||s<=0)break;this.DestroyParticle(a)}}},{key:"RotateBuffer",value:function(t,e,n){if(t!==e&&e!==n){if(Zr(this.m_flagsBuffer.data,t,e,n),this.m_lastBodyContactStepBuffer.data&&Zr(this.m_lastBodyContactStepBuffer.data,t,e,n),this.m_bodyContactCountBuffer.data&&Zr(this.m_bodyContactCountBuffer.data,t,e,n),this.m_consecutiveContactStepsBuffer.data&&Zr(this.m_consecutiveContactStepsBuffer.data,t,e,n),Zr(this.m_positionBuffer.data,t,e,n),Zr(this.m_velocityBuffer.data,t,e,n),Zr(this.m_groupBuffer,t,e,n),this.m_hasForce&&Zr(this.m_forceBuffer,t,e,n),this.m_staticPressureBuffer&&Zr(this.m_staticPressureBuffer,t,e,n),this.m_depthBuffer&&Zr(this.m_depthBuffer,t,e,n),this.m_colorBuffer.data&&Zr(this.m_colorBuffer.data,t,e,n),this.m_userDataBuffer.data&&Zr(this.m_userDataBuffer.data,t,e,n),this.m_handleIndexBuffer.data){Zr(this.m_handleIndexBuffer.data,t,e,n);for(var i=t;i<n;++i){var r=this.m_handleIndexBuffer.data[i];r&&r.SetIndex(b(r.GetIndex()))}}if(this.m_expirationTimeBuffer.data){Zr(this.m_expirationTimeBuffer.data,t,e,n);for(var o=this.GetParticleCount(),a=this.m_indexByExpirationTimeBuffer.data,s=0;s<o;++s)a[s]=b(a[s])}for(var u=0;u<this.m_proxyBuffer.count;u++){var l=this.m_proxyBuffer.data[u];l.index=b(l.index)}for(var c=0;c<this.m_contactBuffer.count;c++){var h=this.m_contactBuffer.data[c];h.indexA=b(h.indexA),h.indexB=b(h.indexB)}for(var f=0;f<this.m_bodyContactBuffer.count;f++){var m=this.m_bodyContactBuffer.data[f];m.index=b(m.index)}for(var d=0;d<this.m_pairBuffer.count;d++){var _=this.m_pairBuffer.data[d];_.indexA=b(_.indexA),_.indexB=b(_.indexB)}for(var p=0;p<this.m_triadBuffer.count;p++){var v=this.m_triadBuffer.data[p];v.indexA=b(v.indexA),v.indexB=b(v.indexB),v.indexC=b(v.indexC)}for(var y=this.m_groupList;y;y=y.GetNext())y.m_firstIndex=b(y.m_firstIndex),y.m_lastIndex=b(y.m_lastIndex-1)+1}function b(i){return i<t?i:i<e?i+n-e:i<n?i+t-e:i}}},{key:"GetCriticalVelocity",value:function(t){return this.m_particleDiameter*t.inv_dt}},{key:"GetCriticalVelocitySquared",value:function(t){var e=this.GetCriticalVelocity(t);return e*e}},{key:"GetCriticalPressure",value:function(t){return this.m_def.density*this.GetCriticalVelocitySquared(t)}},{key:"GetParticleStride",value:function(){return T*this.m_particleDiameter}},{key:"GetParticleMass",value:function(){var t=this.GetParticleStride();return this.m_def.density*t*t}},{key:"GetParticleInvMass",value:function(){var t=this.m_inverseDiameter*(1/T);return this.m_inverseDensity*t*t}},{key:"GetFixtureContactFilter",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}},{key:"GetParticleContactFilter",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}},{key:"GetFixtureContactListener",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}},{key:"GetParticleContactListener",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}},{key:"SetUserOverridableBuffer",value:function(t,e){t.data=e,t.userSuppliedCapacity=e.length}},{key:"SetGroupFlags",value:function(e,n){var i=e.m_groupFlags;(i^n)&t.b2ParticleGroupFlag.b2_solidParticleGroup&&(n|=t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),i&~n&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&n&&(n&t.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=n),e.m_groupFlags=n}},{key:"RemoveSpuriousBodyContacts",value:function(){Wr(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,e.BodyContactCompare);var t=e.RemoveSpuriousBodyContacts_s_n,n=e.RemoveSpuriousBodyContacts_s_pos,i=e.RemoveSpuriousBodyContacts_s_normal,r=3,o=this,a=-1,s=0,u=function(e){if(e.index!==a&&(s=0,a=e.index),s++>r)return!0;var u=t.Copy(e.normal);u.SelfMul(o.m_particleDiameter*(1-e.weight));var l=Vt.AddVV(o.m_positionBuffer.data[e.index],u,n);if(!e.fixture.TestPoint(l)){for(var c=e.fixture.GetShape().GetChildCount(),h=0;h<c;h++){var f=i;if(e.fixture.ComputeDistance(l,f,h)<b)return!1}return!0}return!1};this.m_bodyContactBuffer.count=Hr(this.m_bodyContactBuffer.data,u,this.m_bodyContactBuffer.count)}},{key:"DetectStuckParticle",value:function(t){this.m_stuckThreshold<=0||(++this.m_bodyContactCountBuffer.data[t],2===this.m_bodyContactCountBuffer.data[t]&&(++this.m_consecutiveContactStepsBuffer.data[t],this.m_consecutiveContactStepsBuffer.data[t]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=t)),this.m_lastBodyContactStepBuffer.data[t]=this.m_timestamp)}},{key:"ValidateParticleIndex",value:function(t){return t>=0&&t<this.GetParticleCount()&&t!==j}},{key:"GetQuantizedTimeElapsed",value:function(){return Math.floor(this.m_timeElapsed/4294967296)}},{key:"LifetimeToExpirationTime",value:function(t){return this.m_timeElapsed+Math.floor(t/this.m_def.lifetimeGranularity*4294967296)}},{key:"ForceCanBeApplied",value:function(e){return!(e&t.b2ParticleFlag.b2_wallParticle)}},{key:"PrepareForceBuffer",value:function(){if(!this.m_hasForce){for(var t=0;t<this.m_count;t++)this.m_forceBuffer[t].SetZero();this.m_hasForce=!0}}},{key:"IsRigidGroup",value:function(e){return null!==e&&0!==(e.m_groupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup)}},{key:"GetLinearVelocity",value:function(t,e,n,i){return t&&this.IsRigidGroup(t)?t.GetLinearVelocityFromWorldPoint(n,i):i.Copy(this.m_velocityBuffer.data[e])}},{key:"InitDampingParameter",value:function(t,e,n,i,r,o,a,s){t[0]=i>0?1/i:0,e[0]=r>0?1/r:0,n[0]=Vt.CrossVV(Vt.SubVV(a,o,Vt.s_t0),s)}},{key:"InitDampingParameterWithRigidGroupOrParticle",value:function(e,n,i,r,o,a,s,u){if(o&&r)this.InitDampingParameter(e,n,i,o.GetMass(),o.GetInertia(),o.GetCenter(),s,u);else{var l=this.m_flagsBuffer.data[a];this.InitDampingParameter(e,n,i,l&t.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,s,s,u)}}},{key:"ComputeDampingImpulse",value:function(t,e,n,i,r,o,a){var s=t+e*n*n+i+r*o*o;return s>0?a/s:0}},{key:"ApplyDamping",value:function(t,e,n,i,r,o,a,s){r&&i?(r.m_linearVelocity.SelfMulAdd(a*t,s),r.m_angularVelocity+=a*n*e):this.m_velocityBuffer.data[o].SelfMulAdd(a*t,s)}}],[{key:"computeTag",value:function(t,n){return(n+e.yOffset>>>0<<e.yShift)+(e.xScale*t+e.xOffset>>>0)>>>0}},{key:"computeRelativeTag",value:function(t,n,i){return t+(i<<e.yShift)+(n<<e.xShift)>>>0}},{key:"IsSignificantForce",value:function(t){return 0!==t.x||0!==t.y}},{key:"ParticleCanBeConnected",value:function(e,n){return 0!==(e&(t.b2ParticleFlag.b2_wallParticle|t.b2ParticleFlag.b2_springParticle|t.b2ParticleFlag.b2_elasticParticle))||null!==n&&0!==(n.GetGroupFlags()&t.b2ParticleGroupFlag.b2_rigidParticleGroup)}},{key:"ComparePairIndices",value:function(t,e){var n=t.indexA-e.indexA;return 0!==n?n<0:t.indexB<e.indexB}},{key:"MatchPairIndices",value:function(t,e){return t.indexA===e.indexA&&t.indexB===e.indexB}},{key:"CompareTriadIndices",value:function(t,e){var n=t.indexA-e.indexA;if(0!==n)return n<0;var i=t.indexB-e.indexB;return 0!==i?i<0:t.indexC<e.indexC}},{key:"MatchTriadIndices",value:function(t,e){return t.indexA===e.indexA&&t.indexB===e.indexB&&t.indexC===e.indexC}},{key:"InitializeParticleLists",value:function(t,e){for(var n=t.GetBufferIndex(),i=t.GetParticleCount(),r=0;r<i;r++){var o=e[r];o.list=o,o.next=null,o.count=1,o.index=r+n}}},{key:"MergeParticleLists",value:function(t,e){for(var n=e;;){n.list=t;var i=n.next;if(!i){n.next=t.next;break}n=i}t.next=e,t.count+=e.count,e.count=0}},{key:"FindLongestParticleList",value:function(t,e){for(var n=t.GetParticleCount(),i=e[0],r=0;r<n;r++){var o=e[r];i.count<o.count&&(i=o)}return i}},{key:"MergeParticleListAndNode",value:function(t,e){e.list=t,e.next=t.next,t.next=e,t.count++,e.count=0}},{key:"b2ParticleContactIsZombie",value:function(e){return(e.flags&t.b2ParticleFlag.b2_zombieParticle)===t.b2ParticleFlag.b2_zombieParticle}},{key:"BodyContactCompare",value:function(t,e){return t.index===e.index?t.weight>e.weight:t.index<e.index}}]),e}();ao.xTruncBits=12,ao.yTruncBits=12,ao.tagBits=32,ao.yOffset=1<<ao.yTruncBits-1,ao.yShift=ao.tagBits-ao.yTruncBits,ao.xShift=ao.tagBits-ao.yTruncBits-ao.xTruncBits,ao.xScale=1<<ao.xShift,ao.xOffset=ao.xScale*(1<<ao.xTruncBits-1),ao.yMask=(1<<ao.yTruncBits)-1<<ao.yShift,ao.xMask=~ao.yMask,ao.DestroyParticlesInShape_s_aabb=new Pe,ao.CreateParticleGroup_s_transform=new Dt,ao.ComputeCollisionEnergy_s_v=new Vt,ao.QueryShapeAABB_s_aabb=new Pe,ao.QueryPointAABB_s_aabb=new Pe,ao.RayCast_s_aabb=new Pe,ao.RayCast_s_p=new Vt,ao.RayCast_s_v=new Vt,ao.RayCast_s_n=new Vt,ao.RayCast_s_point=new Vt,ao.k_pairFlags=t.b2ParticleFlag.b2_springParticle,ao.k_triadFlags=t.b2ParticleFlag.b2_elasticParticle,ao.k_noPressureFlags=t.b2ParticleFlag.b2_powderParticle|t.b2ParticleFlag.b2_tensileParticle,ao.k_extraDampingFlags=t.b2ParticleFlag.b2_staticPressureParticle,ao.k_barrierWallFlags=t.b2ParticleFlag.b2_barrierParticle|t.b2ParticleFlag.b2_wallParticle,ao.CreateParticlesStrokeShapeForGroup_s_edge=new di,ao.CreateParticlesStrokeShapeForGroup_s_d=new Vt,ao.CreateParticlesStrokeShapeForGroup_s_p=new Vt,ao.CreateParticlesFillShapeForGroup_s_aabb=new Pe,ao.CreateParticlesFillShapeForGroup_s_p=new Vt,ao.UpdatePairsAndTriads_s_dab=new Vt,ao.UpdatePairsAndTriads_s_dbc=new Vt,ao.UpdatePairsAndTriads_s_dca=new Vt,ao.AddContact_s_d=new Vt,ao.UpdateBodyContacts_s_aabb=new Pe,ao.Solve_s_subStep=new xr,ao.SolveCollision_s_aabb=new Pe,ao.SolveGravity_s_gravity=new Vt,ao.SolveBarrier_s_aabb=new Pe,ao.SolveBarrier_s_va=new Vt,ao.SolveBarrier_s_vb=new Vt,ao.SolveBarrier_s_pba=new Vt,ao.SolveBarrier_s_vba=new Vt,ao.SolveBarrier_s_vc=new Vt,ao.SolveBarrier_s_pca=new Vt,ao.SolveBarrier_s_vca=new Vt,ao.SolveBarrier_s_qba=new Vt,ao.SolveBarrier_s_qca=new Vt,ao.SolveBarrier_s_dv=new Vt,ao.SolveBarrier_s_f=new Vt,ao.SolvePressure_s_f=new Vt,ao.SolveDamping_s_v=new Vt,ao.SolveDamping_s_f=new Vt,ao.SolveRigidDamping_s_t0=new Vt,ao.SolveRigidDamping_s_t1=new Vt,ao.SolveRigidDamping_s_p=new Vt,ao.SolveRigidDamping_s_v=new Vt,ao.SolveExtraDamping_s_v=new Vt,ao.SolveExtraDamping_s_f=new Vt,ao.SolveRigid_s_position=new Vt,ao.SolveRigid_s_rotation=new jt,ao.SolveRigid_s_transform=new Dt,ao.SolveRigid_s_velocityTransform=new Dt,ao.SolveElastic_s_pa=new Vt,ao.SolveElastic_s_pb=new Vt,ao.SolveElastic_s_pc=new Vt,ao.SolveElastic_s_r=new jt,ao.SolveElastic_s_t0=new Vt,ao.SolveSpring_s_pa=new Vt,ao.SolveSpring_s_pb=new Vt,ao.SolveSpring_s_d=new Vt,ao.SolveSpring_s_f=new Vt,ao.SolveTensile_s_weightedNormal=new Vt,ao.SolveTensile_s_s=new Vt,ao.SolveTensile_s_f=new Vt,ao.SolveViscous_s_v=new Vt,ao.SolveViscous_s_f=new Vt,ao.SolveRepulsive_s_f=new Vt,ao.SolvePowder_s_f=new Vt,ao.SolveSolid_s_f=new Vt,ao.RemoveSpuriousBodyContacts_s_n=new Vt,ao.RemoveSpuriousBodyContacts_s_pos=new Vt,ao.RemoveSpuriousBodyContacts_s_normal=new Vt;var so=function(){function t(){u(this,t),this._data=null,this.userSuppliedCapacity=0}return l(t,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}(),uo=function(){function t(){u(this,t),this.index=j,this.tag=0}return l(t,null,[{key:"CompareProxyProxy",value:function(t,e){return t.tag<e.tag}},{key:"CompareTagProxy",value:function(t,e){return t<e.tag}},{key:"CompareProxyTag",value:function(t,e){return t.tag<e}}]),t}(),lo=function(){function t(e,n,i,r,o){u(this,t),this.m_system=e,this.m_xLower=(n&ao.xMask)>>>0,this.m_xUpper=(i&ao.xMask)>>>0,this.m_yLower=(n&ao.yMask)>>>0,this.m_yUpper=(i&ao.yMask)>>>0,this.m_first=r,this.m_last=o}return l(t,[{key:"GetNext",value:function(){for(;this.m_first<this.m_last;){var t=(this.m_system.m_proxyBuffer.data[this.m_first].tag&ao.xMask)>>>0;if(t>=this.m_xLower&&t<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++}return j}}]),t}(),co=function t(){u(this,t),this.next=null,this.count=0,this.index=0},ho=function(){function t(){u(this,t)}return l(t,[{key:"Allocate",value:function(t,e){return e}},{key:"Clear",value:function(){}},{key:"GetCount",value:function(){return 0}},{key:"Invalidate",value:function(t){}},{key:"GetValidBuffer",value:function(){return[]}},{key:"GetBuffer",value:function(){return[]}},{key:"SetCount",value:function(t){}}]),t}(),fo=function t(e,n){u(this,t),this.second=j,this.first=e,this.second=n},mo=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Initialize",value:function(t,e){}},{key:"Find",value:function(t){return j}}]),n}(ho),_o=function t(e,n){u(this,t),this.first=j,this.second=j,this.first=e,this.second=n},po=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return l(n,[{key:"Initialize",value:function(t,e){}},{key:"Find",value:function(t){return j}}]),n}(ho),vo=function(){function t(){u(this,t)}return l(t,[{key:"IsNecessary",value:function(t){return!0}},{key:"ShouldCreatePair",value:function(t,e){return!0}},{key:"ShouldCreateTriad",value:function(t,e,n){return!0}}]),t}(),yo=function(t){a(n,t);var e=s(n);function n(t,i,r,o){var a;return u(this,n),(a=e.call(this)).m_callDestructionListener=!1,a.m_destroyed=0,a.m_system=t,a.m_shape=i,a.m_xf=r,a.m_callDestructionListener=o,a.m_destroyed=0,a}return l(n,[{key:"ReportFixture",value:function(t){return!1}},{key:"ReportParticle",value:function(t,e){return t===this.m_system&&(this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[e])&&(this.m_system.DestroyParticle(e,this.m_callDestructionListener),this.m_destroyed++),!0)}},{key:"Destroyed",value:function(){return this.m_destroyed}}]),n}(vr),bo=function(t){a(n,t);var e=s(n);function n(t){var i;return u(this,n),(i=e.call(this)).m_threshold=0,i.m_threshold=t,i}return l(n,[{key:"ShouldCreatePair",value:function(t,e){return t<this.m_threshold&&this.m_threshold<=e||e<this.m_threshold&&this.m_threshold<=t}},{key:"ShouldCreateTriad",value:function(t,e,n){return(t<this.m_threshold||e<this.m_threshold||n<this.m_threshold)&&(this.m_threshold<=t||this.m_threshold<=e||this.m_threshold<=n)}}]),n}(vo),go=function(e){a(i,e);var n=s(i);function i(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return u(this,i),(r=n.call(this,t.b2ShapeType.e_unknown,0)).m_shapeCount=0,r.m_shapes=e,r.m_shapeCount=o,r}return l(i,[{key:"Clone",value:function(){throw new Error}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){for(var n=0;n<this.m_shapeCount;n++)if(this.m_shapes[n].TestPoint(t,e))return!0;return!1}},{key:"ComputeDistance",value:function(t,e,n,i){return 0}},{key:"RayCast",value:function(t,e,n,i){return!1}},{key:"ComputeAABB",value:function(t,e,n){var i=new Pe;t.lowerBound.x=+h,t.lowerBound.y=+h,t.upperBound.x=-h,t.upperBound.y=-h;for(var r=0;r<this.m_shapeCount;r++)for(var o=this.m_shapes[r].GetChildCount(),a=0;a<o;a++){var s=i;this.m_shapes[r].ComputeAABB(s,e,a),t.Combine1(s)}}},{key:"ComputeMass",value:function(t,e){}},{key:"SetupDistanceProxy",value:function(t,e){}},{key:"ComputeSubmergedArea",value:function(t,e,n,i){return 0}},{key:"Dump",value:function(t){}}]),i}(hi),xo=function(e){a(i,e);var n=s(i);function i(t){var e;return u(this,i),(e=n.call(this)).m_flagsBuffer=t,e}return l(i,[{key:"IsNecessary",value:function(e){return 0!==(this.m_flagsBuffer.data[e]&t.b2ParticleFlag.b2_reactiveParticle)}}]),i}(vo),So=function(e){a(i,e);var n=s(i);function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u(this,i),(e=n.call(this,t)).m_contactFilter=null,e.m_contactFilter=r,e}return l(i,[{key:"ShouldCollideFixtureParticle",value:function(e,n,i){return!(this.m_contactFilter&&this.m_system.GetFlagsBuffer()[i]&t.b2ParticleFlag.b2_fixtureContactFilterParticle)||this.m_contactFilter.ShouldCollideFixtureParticle(e,this.m_system,i)}},{key:"ReportFixtureAndParticle",value:function(e,n,r){var o=i.ReportFixtureAndParticle_s_n,a=i.ReportFixtureAndParticle_s_rp,s=this.m_system.m_positionBuffer.data[r],u=o,l=e.ComputeDistance(s,u,n);if(l<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(e,this.m_system,r)){var c=e.GetBody(),h=c.GetWorldCenter(),f=c.GetMass(),m=c.GetInertia()-f*c.GetLocalCenter().LengthSquared(),d=f>0?1/f:0,_=m>0?1/m:0,p=this.m_system.m_flagsBuffer.data[r]&t.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),v=Vt.SubVV(s,h,a),y=Vt.CrossVV(v,u),b=p+d+_*y*y,g=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()];g.index=r,g.body=c,g.fixture=e,g.weight=1-l*this.m_system.m_inverseDiameter,g.normal.Copy(u.SelfNeg()),g.mass=b>0?1/b:0,this.m_system.DetectStuckParticle(r)}}}]),i}(to);So.ReportFixtureAndParticle_s_n=new Vt,So.ReportFixtureAndParticle_s_rp=new Vt;var wo=function(e){a(i,e);var n=s(i);function i(t,e){var r;return u(this,i),(r=n.call(this,t)).m_step=e,r}return l(i,[{key:"ReportFixtureAndParticle",value:function(e,n,r){var o=i.ReportFixtureAndParticle_s_p1,a=i.ReportFixtureAndParticle_s_output,s=i.ReportFixtureAndParticle_s_input,u=i.ReportFixtureAndParticle_s_p,l=i.ReportFixtureAndParticle_s_v,c=i.ReportFixtureAndParticle_s_f,h=e.GetBody(),f=this.m_system.m_positionBuffer.data[r],m=this.m_system.m_velocityBuffer.data[r],d=a,_=s;if(0===this.m_system.m_iterationIndex){var p=Dt.MulTXV(h.m_xf0,f,o);e.GetShape().GetType()===t.b2ShapeType.e_circleShape&&(p.SelfSub(h.GetLocalCenter()),jt.MulRV(h.m_xf0.q,p,p),jt.MulTRV(h.m_xf.q,p,p),p.SelfAdd(h.GetLocalCenter())),Dt.MulXV(h.m_xf,p,_.p1)}else _.p1.Copy(f);if(Vt.AddVMulSV(f,this.m_step.dt,m,_.p2),_.maxFraction=1,e.RayCast(d,_,n)){var v=d.normal,y=u;y.x=(1-d.fraction)*_.p1.x+d.fraction*_.p2.x+b*v.x,y.y=(1-d.fraction)*_.p1.y+d.fraction*_.p2.y+b*v.y;var g=l;g.x=this.m_step.inv_dt*(y.x-f.x),g.y=this.m_step.inv_dt*(y.y-f.y),this.m_system.m_velocityBuffer.data[r].Copy(g);var x=c;x.x=this.m_step.inv_dt*this.m_system.GetParticleMass()*(m.x-g.x),x.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*(m.y-g.y),this.m_system.ParticleApplyForce(r,x)}}},{key:"ReportParticle",value:function(t,e){return!1}}]),i}(to);wo.ReportFixtureAndParticle_s_p1=new Vt,wo.ReportFixtureAndParticle_s_output=new Ve,wo.ReportFixtureAndParticle_s_input=new ke,wo.ReportFixtureAndParticle_s_p=new Vt,wo.ReportFixtureAndParticle_s_v=new Vt,wo.ReportFixtureAndParticle_s_f=new Vt;var Co=function(){function e(t){u(this,e),this.m_newFixture=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_contactManager=new br,this.m_bodyList=null,this.m_jointList=null,this.m_particleSystemList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new Vt,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_debugDraw=null,this.m_inv_dt0=0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new gr,this.m_island=new jr,this.s_stack=[],this.m_controllerList=null,this.m_controllerCount=0,this.m_gravity.Copy(t)}return l(e,[{key:"SetDestructionListener",value:function(t){this.m_destructionListener=t}},{key:"SetContactFilter",value:function(t){this.m_contactManager.m_contactFilter=t}},{key:"SetContactListener",value:function(t){this.m_contactManager.m_contactListener=t}},{key:"SetDebugDraw",value:function(t){this.m_debugDraw=t}},{key:"CreateBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.IsLocked())throw new Error;var e=new Ci(t,this);return e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e}},{key:"DestroyBody",value:function(t){if(this.IsLocked())throw new Error;for(var e=t.m_jointList;e;){var n=e;e=e.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(n.joint),this.DestroyJoint(n.joint),t.m_jointList=e}t.m_jointList=null;for(var i=t.m_controllerList;i;){var r=i;i=i.nextController,r.controller.RemoveBody(t)}for(var o=t.m_contactList;o;){var a=o;o=o.next,this.m_contactManager.Destroy(a.contact)}t.m_contactList=null;for(var s=t.m_fixtureList;s;){var u=s;s=s.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(u),u.DestroyProxies(),u.Reset(),t.m_fixtureList=s,t.m_fixtureCount-=1}t.m_fixtureList=null,t.m_fixtureCount=0,t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}},{key:"CreateJoint",value:function(t){if(this.IsLocked())throw new Error;var n=e._Joint_Create(t);n.m_prev=null,n.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=n),this.m_jointList=n,++this.m_jointCount,n.m_edgeA.prev=null,n.m_edgeA.next=n.m_bodyA.m_jointList,n.m_bodyA.m_jointList&&(n.m_bodyA.m_jointList.prev=n.m_edgeA),n.m_bodyA.m_jointList=n.m_edgeA,n.m_edgeB.prev=null,n.m_edgeB.next=n.m_bodyB.m_jointList,n.m_bodyB.m_jointList&&(n.m_bodyB.m_jointList.prev=n.m_edgeB),n.m_bodyB.m_jointList=n.m_edgeB;var i=n.m_bodyA,r=n.m_bodyB;if(!n.m_collideConnected)for(var o=r.GetContactList();o;)o.other===i&&o.contact.FlagForFiltering(),o=o.next;return n}},{key:"DestroyJoint",value:function(t){if(this.IsLocked())throw new Error;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_jointList&&(this.m_jointList=t.m_next);var n=t.m_bodyA,i=t.m_bodyB,r=t.m_collideConnected;if(n.SetAwake(!0),i.SetAwake(!0),t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA===n.m_jointList&&(n.m_jointList=t.m_edgeA.next),t.m_edgeA.Reset(),t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB===i.m_jointList&&(i.m_jointList=t.m_edgeB.next),t.m_edgeB.Reset(),e._Joint_Destroy(t),--this.m_jointCount,!r)for(var o=i.GetContactList();o;)o.other===n&&o.contact.FlagForFiltering(),o=o.next}},{key:"CreateParticleSystem",value:function(t){if(this.IsLocked())throw new Error;var e=new ao(t,this);return e.m_prev=null,e.m_next=this.m_particleSystemList,this.m_particleSystemList&&(this.m_particleSystemList.m_prev=e),this.m_particleSystemList=e,e}},{key:"DestroyParticleSystem",value:function(t){if(this.IsLocked())throw new Error;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_particleSystemList&&(this.m_particleSystemList=t.m_next)}},{key:"CalculateReasonableParticleIterations",value:function(t){if(null===this.m_particleSystemList)return 1;function e(t){for(var e=h,n=t.GetParticleSystemList();null!==n;n=n.m_next)e=ut(e,n.GetRadius());return e}return Tr(this.m_gravity.Length(),e(this),t)}},{key:"Step",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.CalculateReasonableParticleIterations(t),o=e.Step_s_stepTimer.Reset();this.m_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_newFixture=!1),this.m_locked=!0;var a=e.Step_s_step;a.dt=t,a.velocityIterations=n,a.positionIterations=i,a.particleIterations=r,a.inv_dt=t>0?1/t:0,a.dtRatio=this.m_inv_dt0*t,a.warmStarting=this.m_warmStarting;var s=e.Step_s_timer.Reset();if(this.m_contactManager.Collide(),this.m_profile.collide=s.GetMilliseconds(),this.m_stepComplete&&a.dt>0){for(var u=e.Step_s_timer.Reset(),l=this.m_particleSystemList;l;l=l.m_next)l.Solve(a);this.Solve(a),this.m_profile.solve=u.GetMilliseconds()}if(this.m_continuousPhysics&&a.dt>0){var c=e.Step_s_timer.Reset();this.SolveTOI(a),this.m_profile.solveTOI=c.GetMilliseconds()}a.dt>0&&(this.m_inv_dt0=a.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=o.GetMilliseconds()}},{key:"ClearForces",value:function(){for(var t=this.m_bodyList;t;t=t.m_next)t.m_force.SetZero(),t.m_torque=0}},{key:"DrawParticleSystem",value:function(t){if(null!==this.m_debugDraw){var e=t.GetParticleCount();if(e){var n=t.GetRadius(),i=t.GetPositionBuffer();if(t.m_colorBuffer.data){var r=t.GetColorBuffer();this.m_debugDraw.DrawParticles(i,n,r,e)}else this.m_debugDraw.DrawParticles(i,n,null,e)}}}},{key:"DrawDebugData",value:function(){if(null!==this.m_debugDraw){var n=this.m_debugDraw.GetFlags(),i=e.DrawDebugData_s_color.SetRGB(0,0,0);if(n&t.b2DrawFlags.e_shapeBit)for(var r=this.m_bodyList;r;r=r.m_next){var o=r.m_xf;this.m_debugDraw.PushTransform(o);for(var a=r.GetFixtureList();a;a=a.m_next)r.IsActive()?r.GetType()===t.b2BodyType.b2_staticBody?(i.SetRGB(.5,.9,.5),this.DrawShape(a,i)):r.GetType()===t.b2BodyType.b2_kinematicBody?(i.SetRGB(.5,.5,.9),this.DrawShape(a,i)):r.IsAwake()?(i.SetRGB(.9,.7,.7),this.DrawShape(a,i)):(i.SetRGB(.6,.6,.6),this.DrawShape(a,i)):(i.SetRGB(.5,.5,.3),this.DrawShape(a,i));this.m_debugDraw.PopTransform(o)}if(n&t.b2DrawFlags.e_particleBit)for(var s=this.m_particleSystemList;s;s=s.m_next)this.DrawParticleSystem(s);if(n&t.b2DrawFlags.e_jointBit)for(var u=this.m_jointList;u;u=u.m_next)this.DrawJoint(u);if(n&t.b2DrawFlags.e_aabbBit){i.SetRGB(.9,.3,.9);for(var l=e.DrawDebugData_s_vs,c=this.m_bodyList;c;c=c.m_next)if(c.IsActive())for(var h=c.GetFixtureList();h;h=h.m_next)for(var f=0;f<h.m_proxyCount;++f){var m=h.m_proxies[f].treeNode.aabb;l[0].Set(m.lowerBound.x,m.lowerBound.y),l[1].Set(m.upperBound.x,m.lowerBound.y),l[2].Set(m.upperBound.x,m.upperBound.y),l[3].Set(m.lowerBound.x,m.upperBound.y),this.m_debugDraw.DrawPolygon(l,4,i)}}if(n&t.b2DrawFlags.e_centerOfMassBit)for(var d=this.m_bodyList;d;d=d.m_next){var _=e.DrawDebugData_s_xf;_.q.Copy(d.m_xf.q),_.p.Copy(d.GetWorldCenter()),this.m_debugDraw.DrawTransform(_)}if(n&t.b2DrawFlags.e_controllerBit)for(var p=this.m_controllerList;p;p=p.m_next)p.Draw(this.m_debugDraw)}}},{key:"QueryAABB",value:function(){(arguments.length<=0?void 0:arguments[0])instanceof vr?this._QueryAABB(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):this._QueryAABB(null,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}},{key:"_QueryAABB",value:function(t,e,n){if(this.m_contactManager.m_broadPhase.Query(e,(function(e){var i=e.userData.fixture;return t?t.ReportFixture(i):!n||n(i)})),t instanceof vr)for(var i=this.m_particleSystemList;i;i=i.m_next)t.ShouldQueryParticleSystem(i)&&i.QueryAABB(t,e)}},{key:"QueryAllAABB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryAABB(t,(function(t){return e.push(t),!0})),e}},{key:"QueryPointAABB",value:function(){(arguments.length<=0?void 0:arguments[0])instanceof vr?this._QueryPointAABB(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):this._QueryPointAABB(null,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}},{key:"_QueryPointAABB",value:function(t,e,n){if(this.m_contactManager.m_broadPhase.QueryPoint(e,(function(e){var i=e.userData.fixture;return t?t.ReportFixture(i):!n||n(i)})),t instanceof vr)for(var i=this.m_particleSystemList;i;i=i.m_next)t.ShouldQueryParticleSystem(i)&&i.QueryPointAABB(t,e)}},{key:"QueryAllPointAABB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryPointAABB(t,(function(t){return e.push(t),!0})),e}},{key:"QueryFixtureShape",value:function(){(arguments.length<=0?void 0:arguments[0])instanceof vr?this._QueryFixtureShape(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]):this._QueryFixtureShape(null,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3])}},{key:"_QueryFixtureShape",value:function(t,n,i,r,o){var a=e.QueryFixtureShape_s_aabb;if(n.ComputeAABB(a,r,i),this.m_contactManager.m_broadPhase.Query(a,(function(e){var a=e.userData,s=a.fixture;if(Te(n,i,s.GetShape(),a.childIndex,r,s.GetBody().GetTransform())){if(t)return t.ReportFixture(s);if(o)return o(s)}return!0})),t instanceof vr)for(var s=this.m_particleSystemList;s;s=s.m_next)t.ShouldQueryParticleSystem(s)&&s.QueryAABB(t,a)}},{key:"QueryAllFixtureShape",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this.QueryFixtureShape(t,e,n,(function(t){return i.push(t),!0})),i}},{key:"QueryFixturePoint",value:function(){(arguments.length<=0?void 0:arguments[0])instanceof vr?this._QueryFixturePoint(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):this._QueryFixturePoint(null,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}},{key:"_QueryFixturePoint",value:function(t,e,n){if(this.m_contactManager.m_broadPhase.QueryPoint(e,(function(i){var r=i.userData.fixture;if(r.TestPoint(e)){if(t)return t.ReportFixture(r);if(n)return n(r)}return!0})),t)for(var i=this.m_particleSystemList;i;i=i.m_next)t.ShouldQueryParticleSystem(i)&&i.QueryPointAABB(t,e)}},{key:"QueryAllFixturePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryFixturePoint(t,(function(t){return e.push(t),!0})),e}},{key:"RayCast",value:function(){(arguments.length<=0?void 0:arguments[0])instanceof yr?this._RayCast(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]):this._RayCast(null,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},{key:"_RayCast",value:function(t,n,i,r){var o=e.RayCast_s_input;if(o.maxFraction=1,o.p1.Copy(n),o.p2.Copy(i),this.m_contactManager.m_broadPhase.RayCast(o,(function(o,a){var s=a.userData,u=s.fixture,l=s.childIndex,c=e.RayCast_s_output;if(u.RayCast(c,o,l)){var h=c.fraction,f=e.RayCast_s_point;if(f.Set((1-h)*n.x+h*i.x,(1-h)*n.y+h*i.y),t)return t.ReportFixture(u,f,c.normal,h);if(r)return r(u,f,c.normal,h)}return o.maxFraction})),t)for(var a=this.m_particleSystemList;a;a=a.m_next)t.ShouldQueryParticleSystem(a)&&a.RayCast(t,n,i)}},{key:"RayCastOne",value:function(t,e){var n=null,i=1;return this.RayCast(t,e,(function(t,e,r,o){return o<i&&(i=o,n=t),i})),n}},{key:"RayCastAll",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.RayCast(t,e,(function(t,e,i,r){return n.push(t),1})),n}},{key:"GetBodyList",value:function(){return this.m_bodyList}},{key:"GetJointList",value:function(){return this.m_jointList}},{key:"GetParticleSystemList",value:function(){return this.m_particleSystemList}},{key:"GetContactList",value:function(){return this.m_contactManager.m_contactList}},{key:"SetAllowSleeping",value:function(t){if(t!==this.m_allowSleep&&(this.m_allowSleep=t,!this.m_allowSleep))for(var e=this.m_bodyList;e;e=e.m_next)e.SetAwake(!0)}},{key:"GetAllowSleeping",value:function(){return this.m_allowSleep}},{key:"SetWarmStarting",value:function(t){this.m_warmStarting=t}},{key:"GetWarmStarting",value:function(){return this.m_warmStarting}},{key:"SetContinuousPhysics",value:function(t){this.m_continuousPhysics=t}},{key:"GetContinuousPhysics",value:function(){return this.m_continuousPhysics}},{key:"SetSubStepping",value:function(t){this.m_subStepping=t}},{key:"GetSubStepping",value:function(){return this.m_subStepping}},{key:"GetProxyCount",value:function(){return this.m_contactManager.m_broadPhase.GetProxyCount()}},{key:"GetBodyCount",value:function(){return this.m_bodyCount}},{key:"GetJointCount",value:function(){return this.m_jointCount}},{key:"GetContactCount",value:function(){return this.m_contactManager.m_contactCount}},{key:"GetTreeHeight",value:function(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}},{key:"GetTreeBalance",value:function(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}},{key:"GetTreeQuality",value:function(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}},{key:"SetGravity",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Vt.IsEqualToV(this.m_gravity,t)&&(this.m_gravity.Copy(t),e))for(var n=this.m_bodyList;n;n=n.m_next)n.SetAwake(!0)}},{key:"GetGravity",value:function(){return this.m_gravity}},{key:"IsLocked",value:function(){return this.m_locked}},{key:"SetAutoClearForces",value:function(t){this.m_clearForces=t}},{key:"GetAutoClearForces",value:function(){return this.m_clearForces}},{key:"ShiftOrigin",value:function(t){if(this.IsLocked())throw new Error;for(var e=this.m_bodyList;e;e=e.m_next)e.m_xf.p.SelfSub(t),e.m_sweep.c0.SelfSub(t),e.m_sweep.c.SelfSub(t);for(var n=this.m_jointList;n;n=n.m_next)n.ShiftOrigin(t);this.m_contactManager.m_broadPhase.ShiftOrigin(t)}},{key:"GetContactManager",value:function(){return this.m_contactManager}},{key:"GetProfile",value:function(){return this.m_profile}},{key:"Dump",value:function(e){if(!this.m_locked){e("const g: b2Vec2 = new b2Vec2(%.15f, %.15f);\n",this.m_gravity.x,this.m_gravity.y),e("this.m_world.SetGravity(g);\n"),e("const bodies: b2Body[] = [];\n"),e("const joints: b2Joint[] = [];\n");for(var n=0,i=this.m_bodyList;i;i=i.m_next)i.m_islandIndex=n,i.Dump(e),++n;n=0;for(var r=this.m_jointList;r;r=r.m_next)r.m_index=n,++n;for(var o=this.m_jointList;o;o=o.m_next)o.m_type!==t.b2JointType.e_gearJoint&&(e("{\n"),o.Dump(e),e("}\n"));for(var a=this.m_jointList;a;a=a.m_next)a.m_type===t.b2JointType.e_gearJoint&&(e("{\n"),a.Dump(e),e("}\n"))}}},{key:"DrawJoint",value:function(n){if(null!==this.m_debugDraw){var i=n.GetBodyA(),r=n.GetBodyB(),o=i.m_xf,a=r.m_xf,s=o.p,u=a.p,l=n.GetAnchorA(e.DrawJoint_s_p1),c=n.GetAnchorB(e.DrawJoint_s_p2),h=e.DrawJoint_s_color.SetRGB(.5,.8,.8);switch(n.m_type){case t.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(l,c,h);break;case t.b2JointType.e_pulleyJoint:var f=n,m=f.GetGroundAnchorA(),d=f.GetGroundAnchorB();this.m_debugDraw.DrawSegment(m,l,h),this.m_debugDraw.DrawSegment(d,c,h),this.m_debugDraw.DrawSegment(m,d,h);break;case t.b2JointType.e_mouseJoint:var _=e.DrawJoint_s_c;_.Set(0,1,0),this.m_debugDraw.DrawPoint(l,4,_),this.m_debugDraw.DrawPoint(c,4,_),_.Set(.8,.8,.8),this.m_debugDraw.DrawSegment(l,c,_);break;default:this.m_debugDraw.DrawSegment(s,l,h),this.m_debugDraw.DrawSegment(l,c,h),this.m_debugDraw.DrawSegment(u,c,h)}}}},{key:"DrawShape",value:function(n,i){if(null!==this.m_debugDraw){var r=n.GetShape();switch(r.m_type){case t.b2ShapeType.e_circleShape:var o=r,a=o.m_p,s=o.m_radius,u=Vt.UNITX;this.m_debugDraw.DrawSolidCircle(a,s,u,i);break;case t.b2ShapeType.e_edgeShape:var l=r,c=l.m_vertex1,h=l.m_vertex2;this.m_debugDraw.DrawSegment(c,h,i);break;case t.b2ShapeType.e_chainShape:var f=r,m=f.m_count,d=f.m_vertices,_=e.DrawShape_s_ghostColor.SetRGBA(.75*i.r,.75*i.g,.75*i.b,i.a),p=d[0];if(this.m_debugDraw.DrawPoint(p,4,i),f.m_hasPrevVertex){var v=f.m_prevVertex;this.m_debugDraw.DrawSegment(v,p,_),this.m_debugDraw.DrawCircle(v,.1,_)}for(var y=1;y<m;++y){var b=d[y];this.m_debugDraw.DrawSegment(p,b,i),this.m_debugDraw.DrawPoint(b,4,i),p=b}if(f.m_hasNextVertex){var g=f.m_nextVertex;this.m_debugDraw.DrawSegment(g,p,_),this.m_debugDraw.DrawCircle(g,.1,_)}break;case t.b2ShapeType.e_polygonShape:var x=r,S=x.m_count,w=x.m_vertices;this.m_debugDraw.DrawSolidPolygon(w,S,i)}}}},{key:"Solve",value:function(e){for(var n=this.m_bodyList;n;n=n.m_next)n.m_xf0.Copy(n.m_xf);for(var i=this.m_controllerList;i;i=i.m_next)i.Step(e);this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;var r=this.m_island;r.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,this.m_contactManager.m_contactListener);for(var o=this.m_bodyList;o;o=o.m_next)o.m_islandFlag=!1;for(var a=this.m_contactManager.m_contactList;a;a=a.m_next)a.m_islandFlag=!1;for(var s=this.m_jointList;s;s=s.m_next)s.m_islandFlag=!1;for(var u=this.s_stack,l=this.m_bodyList;l;l=l.m_next)if(!l.m_islandFlag&&l.IsAwake()&&l.IsActive()&&l.GetType()!==t.b2BodyType.b2_staticBody){r.Clear();var c=0;for(u[c++]=l,l.m_islandFlag=!0;c>0;){var h=u[--c];if(!h)throw new Error;if(r.AddBody(h),h.m_awakeFlag=!0,h.GetType()!==t.b2BodyType.b2_staticBody){for(var f=h.m_contactList;f;f=f.next){var m=f.contact;if(!m.m_islandFlag&&m.IsEnabled()&&m.IsTouching()){var d=m.m_fixtureA.m_isSensor,_=m.m_fixtureB.m_isSensor;if(!d&&!_){r.AddContact(m),m.m_islandFlag=!0;var p=f.other;p.m_islandFlag||(u[c++]=p,p.m_islandFlag=!0)}}}for(var v=h.m_jointList;v;v=v.next)if(!v.joint.m_islandFlag){var y=v.other;y.IsActive()&&(r.AddJoint(v.joint),v.joint.m_islandFlag=!0,y.m_islandFlag||(u[c++]=y,y.m_islandFlag=!0))}}}var b=new gr;r.Solve(b,e,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=b.solveInit,this.m_profile.solveVelocity+=b.solveVelocity,this.m_profile.solvePosition+=b.solvePosition;for(var g=0;g<r.m_bodyCount;++g){var x=r.m_bodies[g];x.GetType()===t.b2BodyType.b2_staticBody&&(x.m_islandFlag=!1)}}for(var S=0;S<u.length&&u[S];++S)u[S]=null;for(var w=new Ft,C=this.m_bodyList;C;C=C.m_next)C.m_islandFlag&&C.GetType()!==t.b2BodyType.b2_staticBody&&C.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=w.GetMilliseconds()}},{key:"SolveTOI",value:function(n){var i=this.m_island;if(i.Initialize(2*w,w,0,this.m_contactManager.m_contactListener),this.m_stepComplete){for(var r=this.m_bodyList;r;r=r.m_next)r.m_islandFlag=!1,r.m_sweep.alpha0=0;for(var o=this.m_contactManager.m_contactList;o;o=o.m_next)o.m_toiFlag=!1,o.m_islandFlag=!1,o.m_toiCount=0,o.m_toi=1}for(;;){for(var a=null,s=1,u=this.m_contactManager.m_contactList;u;u=u.m_next)if(u.IsEnabled()&&!(u.m_toiCount>S)){var l=1;if(u.m_toiFlag)l=u.m_toi;else{var c=u.GetFixtureA(),h=u.GetFixtureB();if(c.IsSensor()||h.IsSensor())continue;var m=c.GetBody(),d=h.GetBody(),_=m.m_type,p=d.m_type,v=m.IsAwake()&&_!==t.b2BodyType.b2_staticBody,y=d.IsAwake()&&p!==t.b2BodyType.b2_staticBody;if(!v&&!y)continue;var b=m.IsBullet()||_!==t.b2BodyType.b2_dynamicBody,g=d.IsBullet()||p!==t.b2BodyType.b2_dynamicBody;if(!b&&!g)continue;var x=m.m_sweep.alpha0;m.m_sweep.alpha0<d.m_sweep.alpha0?(x=d.m_sweep.alpha0,m.m_sweep.Advance(x)):d.m_sweep.alpha0<m.m_sweep.alpha0&&(x=m.m_sweep.alpha0,d.m_sweep.Advance(x));var C=u.GetChildIndexA(),A=u.GetChildIndexB(),B=e.SolveTOI_s_toi_input;B.proxyA.SetShape(c.GetShape(),C),B.proxyB.SetShape(h.GetShape(),A),B.sweepA.Copy(m.m_sweep),B.sweepB.Copy(d.m_sweep),B.tMax=1;var k=e.SolveTOI_s_toi_output;dn(k,B);var V=k.t;l=k.state===t.b2TOIOutputState.e_touching?ut(x+(1-x)*V,1):1,u.m_toi=l,u.m_toiFlag=!0}l<s&&(a=u,s=l)}if(null===a||1-10*f<s){this.m_stepComplete=!0;break}var P=a.GetFixtureA(),M=a.GetFixtureB(),O=P.GetBody(),I=M.GetBody(),j=e.SolveTOI_s_backup1.Copy(O.m_sweep),D=e.SolveTOI_s_backup2.Copy(I.m_sweep);if(O.Advance(s),I.Advance(s),a.Update(this.m_contactManager.m_contactListener),a.m_toiFlag=!1,++a.m_toiCount,a.IsEnabled()&&a.IsTouching()){O.SetAwake(!0),I.SetAwake(!0),i.Clear(),i.AddBody(O),i.AddBody(I),i.AddContact(a),O.m_islandFlag=!0,I.m_islandFlag=!0,a.m_islandFlag=!0;for(var T=0;T<2;++T){var L=0===T?O:I;if(L.m_type===t.b2BodyType.b2_dynamicBody)for(var R=L.m_contactList;R&&i.m_bodyCount!==i.m_bodyCapacity&&i.m_contactCount!==i.m_contactCapacity;R=R.next){var E=R.contact;if(!E.m_islandFlag){var F=R.other;if(F.m_type!==t.b2BodyType.b2_dynamicBody||L.IsBullet()||F.IsBullet()){var G=E.m_fixtureA.m_isSensor,N=E.m_fixtureB.m_isSensor;if(!G&&!N){var z=e.SolveTOI_s_backup.Copy(F.m_sweep);F.m_islandFlag||F.Advance(s),E.Update(this.m_contactManager.m_contactListener),E.IsEnabled()&&E.IsTouching()?(E.m_islandFlag=!0,i.AddContact(E),F.m_islandFlag||(F.m_islandFlag=!0,F.m_type!==t.b2BodyType.b2_staticBody&&F.SetAwake(!0),i.AddBody(F))):(F.m_sweep.Copy(z),F.SynchronizeTransform())}}}}}var q=e.SolveTOI_s_subStep;q.dt=(1-s)*n.dt,q.inv_dt=1/q.dt,q.dtRatio=1,q.positionIterations=20,q.velocityIterations=n.velocityIterations,q.particleIterations=n.particleIterations,q.warmStarting=!1,i.SolveTOI(q,O.m_islandIndex,I.m_islandIndex);for(var U=0;U<i.m_bodyCount;++U){var J=i.m_bodies[U];if(J.m_islandFlag=!1,J.m_type===t.b2BodyType.b2_dynamicBody){J.SynchronizeFixtures();for(var W=J.m_contactList;W;W=W.next)W.contact.m_toiFlag=!1,W.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}else a.SetEnabled(!1),O.m_sweep.Copy(j),I.m_sweep.Copy(D),O.SynchronizeTransform(),I.SynchronizeTransform()}}},{key:"AddController",value:function(t){return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=t),this.m_controllerList=t,++this.m_controllerCount,t}},{key:"RemoveController",value:function(t){return t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),this.m_controllerList===t&&(this.m_controllerList=t.m_next),--this.m_controllerCount,t.m_prev=null,t.m_next=null,t}}],[{key:"_Joint_Create",value:function(e){switch(e.type){case t.b2JointType.e_distanceJoint:return new Mi(e);case t.b2JointType.e_mouseJoint:return new Gi(e);case t.b2JointType.e_prismaticJoint:return new zi(e);case t.b2JointType.e_revoluteJoint:return new Xi(e);case t.b2JointType.e_pulleyJoint:return new Ji(e);case t.b2JointType.e_gearJoint:return new Li(e);case t.b2JointType.e_wheelJoint:return new Yi(e);case t.b2JointType.e_weldJoint:return new Zi(e);case t.b2JointType.e_frictionJoint:return new Di(e);case t.b2JointType.e_ropeJoint:return new Qi(e);case t.b2JointType.e_motorJoint:return new Ei(e);case t.b2JointType.e_areaJoint:return new Ii(e)}throw new Error}},{key:"_Joint_Destroy",value:function(t){}}]),e}();Co.Step_s_step=new xr,Co.Step_s_stepTimer=new Ft,Co.Step_s_timer=new Ft,Co.DrawDebugData_s_color=new Rt(0,0,0),Co.DrawDebugData_s_vs=Vt.MakeArray(4),Co.DrawDebugData_s_xf=new Dt,Co.QueryFixtureShape_s_aabb=new Pe,Co.RayCast_s_input=new ke,Co.RayCast_s_output=new Ve,Co.RayCast_s_point=new Vt,Co.DrawJoint_s_p1=new Vt,Co.DrawJoint_s_p2=new Vt,Co.DrawJoint_s_color=new Rt(.5,.8,.8),Co.DrawJoint_s_c=new Rt,Co.DrawShape_s_ghostColor=new Rt,Co.SolveTOI_s_subStep=new xr,Co.SolveTOI_s_backup=new Lt,Co.SolveTOI_s_backup1=new Lt,Co.SolveTOI_s_backup2=new Lt,Co.SolveTOI_s_toi_input=new tn,Co.SolveTOI_s_toi_output=new nn;var Ao=function t(e,n){u(this,t),this.prevBody=null,this.nextBody=null,this.prevController=null,this.nextController=null,this.controller=e,this.body=n},Bo=function(){function t(){u(this,t),this.m_bodyList=null,this.m_bodyCount=0,this.m_prev=null,this.m_next=null}return l(t,[{key:"GetNext",value:function(){return this.m_next}},{key:"GetPrev",value:function(){return this.m_prev}},{key:"GetBodyList",value:function(){return this.m_bodyList}},{key:"AddBody",value:function(t){var e=new Ao(this,t);e.nextBody=this.m_bodyList,e.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=e),this.m_bodyList=e,++this.m_bodyCount,e.nextController=t.m_controllerList,e.prevController=null,t.m_controllerList&&(t.m_controllerList.prevController=e),t.m_controllerList=e,++t.m_controllerCount}},{key:"RemoveBody",value:function(t){if(this.m_bodyCount<=0)throw new Error;for(var e=this.m_bodyList;e&&e.body!==t;)e=e.nextBody;if(null===e)throw new Error;e.prevBody&&(e.prevBody.nextBody=e.nextBody),e.nextBody&&(e.nextBody.prevBody=e.prevBody),this.m_bodyList===e&&(this.m_bodyList=e.nextBody),--this.m_bodyCount,e.nextController&&(e.nextController.prevController=e.prevController),e.prevController&&(e.prevController.nextController=e.nextController),t.m_controllerList===e&&(t.m_controllerList=e.nextController),--t.m_controllerCount}},{key:"Clear",value:function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0}}]),t}(),ko=function(t){a(n,t);var e=s(n);function n(){var t;return u(this,n),(t=e.apply(this,arguments)).normal=new Vt(0,1),t.offset=0,t.density=0,t.velocity=new Vt(0,0),t.linearDrag=0,t.angularDrag=0,t.useDensity=!1,t.useWorldGravity=!0,t.gravity=new Vt(0,0),t}return l(n,[{key:"Step",value:function(t){if(this.m_bodyList){this.useWorldGravity&&this.gravity.Copy(this.m_bodyList.body.GetWorld().GetGravity());for(var e=this.m_bodyList;e;e=e.nextBody){var n=e.body;if(n.IsAwake()){for(var i=new Vt,r=new Vt,o=0,a=0,s=n.GetFixtureList();s;s=s.m_next){var u=new Vt,l=s.GetShape().ComputeSubmergedArea(this.normal,this.offset,n.GetTransform(),u);o+=l,i.x+=l*u.x,i.y+=l*u.y;var c=0;a+=l*(c=this.useDensity?s.GetDensity():1),r.x+=l*u.x*c,r.y+=l*u.y*c}if(i.x/=o,i.y/=o,r.x/=a,r.y/=a,!(o<f)){var h=this.gravity.Clone().SelfNeg();h.SelfMul(this.density*o),n.ApplyForce(h,r);var m=n.GetLinearVelocityFromWorldPoint(i,new Vt);m.SelfSub(this.velocity),m.SelfMul(-this.linearDrag*o),n.ApplyForce(m,i),n.ApplyTorque(-n.GetInertia()/n.GetMass()*o*n.GetAngularVelocity()*this.angularDrag)}}}}}},{key:"Draw",value:function(t){var e=100,n=new Vt,i=new Vt;n.x=this.normal.x*this.offset+this.normal.y*e,n.y=this.normal.y*this.offset-this.normal.x*e,i.x=this.normal.x*this.offset-this.normal.y*e,i.y=this.normal.y*this.offset+this.normal.x*e;var r=new Rt(0,0,.8);t.DrawSegment(n,i,r)}}]),n}(Bo),Vo=function(t){a(n,t);var e=s(n);function n(){var t;return u(this,n),(t=e.apply(this,arguments)).A=new Vt(0,0),t}return l(n,[{key:"Step",value:function(t){for(var e=Vt.MulSV(t.dt,this.A,n.Step_s_dtA),i=this.m_bodyList;i;i=i.nextBody){var r=i.body;r.IsAwake()&&r.SetLinearVelocity(Vt.AddVV(r.GetLinearVelocity(),e,Vt.s_t0))}}},{key:"Draw",value:function(t){}}]),n}(Bo);Vo.Step_s_dtA=new Vt;var Po=function(t){a(n,t);var e=s(n);function n(){var t;return u(this,n),(t=e.apply(this,arguments)).F=new Vt(0,0),t}return l(n,[{key:"Step",value:function(t){for(var e=this.m_bodyList;e;e=e.nextBody){var n=e.body;n.IsAwake()&&n.ApplyForce(this.F,n.GetWorldCenter())}}},{key:"Draw",value:function(t){}}]),n}(Bo),Mo=function(t){a(n,t);var e=s(n);function n(){var t;return u(this,n),(t=e.apply(this,arguments)).G=1,t.invSqr=!0,t}return l(n,[{key:"Step",value:function(t){if(this.invSqr)for(var e=this.m_bodyList;e;e=e.nextBody)for(var i=e.body,r=i.GetWorldCenter(),o=i.GetMass(),a=this.m_bodyList;a&&a!==e;a=a.nextBody){var s=a.body,u=s.GetWorldCenter(),l=s.GetMass(),c=u.x-r.x,h=u.y-r.y,m=c*c+h*h;if(!(m<f)){var d=n.Step_s_f.Set(c,h);d.SelfMul(this.G/m/_t(m)*o*l),i.IsAwake()&&i.ApplyForce(d,r),s.IsAwake()&&s.ApplyForce(d.SelfMul(-1),u)}}else for(var _=this.m_bodyList;_;_=_.nextBody)for(var p=_.body,v=p.GetWorldCenter(),y=p.GetMass(),b=this.m_bodyList;b&&b!==_;b=b.nextBody){var g=b.body,x=g.GetWorldCenter(),S=g.GetMass(),w=x.x-v.x,C=x.y-v.y,A=w*w+C*C;if(!(A<f)){var B=n.Step_s_f.Set(w,C);B.SelfMul(this.G/A*y*S),p.IsAwake()&&p.ApplyForce(B,v),g.IsAwake()&&g.ApplyForce(B.SelfMul(-1),x)}}}},{key:"Draw",value:function(t){}}]),n}(Bo);Mo.Step_s_f=new Vt;var Oo=function(t){a(n,t);var e=s(n);function n(){var t;return u(this,n),(t=e.apply(this,arguments)).T=new Ot,t.maxTimestep=0,t}return l(n,[{key:"Step",value:function(t){var e=t.dt;if(!(e<=f)){e>this.maxTimestep&&this.maxTimestep>0&&(e=this.maxTimestep);for(var i=this.m_bodyList;i;i=i.nextBody){var r=i.body;if(r.IsAwake()){var o=r.GetWorldVector(Ot.MulMV(this.T,r.GetLocalVector(r.GetLinearVelocity(),Vt.s_t0),Vt.s_t1),n.Step_s_damping);r.SetLinearVelocity(Vt.AddVV(r.GetLinearVelocity(),Vt.MulSV(e,o,Vt.s_t0),Vt.s_t1))}}}}},{key:"Draw",value:function(t){}},{key:"SetAxisAligned",value:function(t,e){this.T.ex.x=-t,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-e,this.maxTimestep=t>0||e>0?1/lt(t,e):0}}]),n}(Bo);Oo.Step_s_damping=new Vt;var Io=function t(){u(this,t),this.vertices=[],this.count=0,this.masses=[],this.gravity=new Vt(0,0),this.damping=.1,this.k2=.9,this.k3=.1},jo=function(){function t(){u(this,t),this.m_count=0,this.m_ps=[],this.m_p0s=[],this.m_vs=[],this.m_ims=[],this.m_Ls=[],this.m_as=[],this.m_gravity=new Vt,this.m_damping=0,this.m_k2=1,this.m_k3=.1}return l(t,[{key:"GetVertexCount",value:function(){return this.m_count}},{key:"GetVertices",value:function(){return this.m_ps}},{key:"Initialize",value:function(t){this.m_count=t.count,this.m_ps=Vt.MakeArray(this.m_count),this.m_p0s=Vt.MakeArray(this.m_count),this.m_vs=Vt.MakeArray(this.m_count),this.m_ims=it(this.m_count);for(var e=0;e<this.m_count;++e){this.m_ps[e].Copy(t.vertices[e]),this.m_p0s[e].Copy(t.vertices[e]),this.m_vs[e].SetZero();var n=t.masses[e];this.m_ims[e]=n>0?1/n:0}var i=this.m_count-1,r=this.m_count-2;this.m_Ls=it(i),this.m_as=it(r);for(var o=0;o<i;++o){var a=this.m_ps[o],s=this.m_ps[o+1];this.m_Ls[o]=Vt.DistanceVV(a,s)}for(var u=0;u<r;++u){var l=this.m_ps[u],c=this.m_ps[u+1],h=this.m_ps[u+2],f=Vt.SubVV(c,l,Vt.s_t0),m=Vt.SubVV(h,c,Vt.s_t1),d=Vt.CrossVV(f,m),_=Vt.DotVV(f,m);this.m_as[u]=wt(d,_)}this.m_gravity.Copy(t.gravity),this.m_damping=t.damping,this.m_k2=t.k2,this.m_k3=t.k3}},{key:"Step",value:function(t,e){if(0!==t){for(var n=Math.exp(-t*this.m_damping),i=0;i<this.m_count;++i)this.m_p0s[i].Copy(this.m_ps[i]),this.m_ims[i]>0&&this.m_vs[i].SelfMulAdd(t,this.m_gravity),this.m_vs[i].SelfMul(n),this.m_ps[i].SelfMulAdd(t,this.m_vs[i]);for(var r=0;r<e;++r)this.SolveC2(),this.SolveC3(),this.SolveC2();for(var o=1/t,a=0;a<this.m_count;++a)Vt.MulSV(o,Vt.SubVV(this.m_ps[a],this.m_p0s[a],Vt.s_t0),this.m_vs[a])}}},{key:"SolveC2",value:function(){for(var e=this.m_count-1,n=0;n<e;++n){var i=this.m_ps[n],r=this.m_ps[n+1],o=Vt.SubVV(r,i,t.s_d),a=o.Normalize(),s=this.m_ims[n],u=this.m_ims[n+1];if(s+u!==0){var l=s/(s+u),c=u/(s+u);i.SelfMulSub(this.m_k2*l*(this.m_Ls[n]-a),o),r.SelfMulAdd(this.m_k2*c*(this.m_Ls[n]-a),o)}}}},{key:"SetAngle",value:function(t){for(var e=this.m_count-2,n=0;n<e;++n)this.m_as[n]=t}},{key:"SolveC3",value:function(){for(var e=this.m_count-2,n=0;n<e;++n){var i=this.m_ps[n],r=this.m_ps[n+1],o=this.m_ps[n+2],a=this.m_ims[n],s=this.m_ims[n+1],u=this.m_ims[n+2],l=Vt.SubVV(r,i,t.s_d1),c=Vt.SubVV(o,r,t.s_d2),h=l.LengthSquared(),f=c.LengthSquared();if(h*f!==0){var m=Vt.CrossVV(l,c),_=Vt.DotVV(l,c),p=wt(m,_),v=Vt.MulSV(-1/h,l.SelfSkew(),t.s_Jd1),y=Vt.MulSV(1/f,c.SelfSkew(),t.s_Jd2),b=Vt.NegV(v,t.s_J1),g=Vt.SubVV(v,y,t.s_J2),x=y,S=a*Vt.DotVV(b,b)+s*Vt.DotVV(g,g)+u*Vt.DotVV(x,x);if(0!==S){S=1/S;for(var w=p-this.m_as[n];w>d;)w=(p-=2*d)-this.m_as[n];for(;w<-d;)w=(p+=2*d)-this.m_as[n];var C=-this.m_k3*S*w;i.SelfMulAdd(a*C,b),r.SelfMulAdd(s*C,g),o.SelfMulAdd(u*C,x)}}}}},{key:"Draw",value:function(t){for(var e=new Rt(.4,.5,.7),n=0;n<this.m_count-1;++n)t.DrawSegment(this.m_ps[n],this.m_ps[n+1],e)}}]),t}();jo.s_d=new Vt,jo.s_d1=new Vt,jo.s_d2=new Vt,jo.s_Jd1=new Vt,jo.s_Jd2=new Vt,jo.s_J1=new Vt,jo.s_J2=new Vt,t.b2AABB=Pe,t.b2Abs=st,t.b2Acos=xt,t.b2Alloc=W,t.b2AreaJoint=Ii,t.b2AreaJointDef=Oi,t.b2Asin=St,t.b2Assert=e,t.b2Atan2=wt,t.b2BlockAllocator=zt,t.b2Body=Ci,t.b2BodyDef=wi,t.b2BroadPhase=qe,t.b2BuoyancyController=ko,t.b2CalculateParticleIterations=Tr,t.b2ChainAndCircleContact=lr,t.b2ChainAndPolygonContact=cr,t.b2ChainShape=_i,t.b2CircleContact=rr,t.b2CircleShape=fi,t.b2Clamp=ct,t.b2ClipSegmentToLine=Oe,t.b2ClipVertex=Be,t.b2CollideCircles=vn,t.b2CollideEdgeAndCircle=ei,t.b2CollideEdgeAndPolygon=ui,t.b2CollidePolygonAndCircle=xn,t.b2CollidePolygons=Jn,t.b2Color=Rt,t.b2ConstantAccelController=Vo,t.b2ConstantForceController=Po,t.b2Contact=ir,t.b2ContactEdge=nr,t.b2ContactFactory=fr,t.b2ContactFeature=be,t.b2ContactFilter=dr,t.b2ContactID=ge,t.b2ContactImpulse=_r,t.b2ContactListener=pr,t.b2ContactManager=br,t.b2ContactPositionConstraint=Vr,t.b2ContactRegister=hr,t.b2ContactSolver=Or,t.b2ContactSolverDef=Pr,t.b2ContactVelocityConstraint=kr,t.b2Controller=Bo,t.b2ControllerEdge=Ao,t.b2Cos=bt,t.b2Counter=Gt,t.b2DegToRad=vt,t.b2DestructionListener=mr,t.b2Distance=se,t.b2DistanceInput=Wt,t.b2DistanceJoint=Mi,t.b2DistanceJointDef=Pi,t.b2DistanceOutput=Xt,t.b2DistanceProxy=Ut,t.b2Draw=Et,t.b2DynamicTree=Ee,t.b2EdgeAndCircleContact=sr,t.b2EdgeAndPolygonContact=ur,t.b2EdgeShape=di,t.b2Filter=pi,t.b2Fixture=gi,t.b2FixtureDef=vi,t.b2FixtureParticleQueryCallback=to,t.b2FixtureProxy=yi,t.b2Free=X,t.b2FrictionJoint=Di,t.b2FrictionJointDef=ji,t.b2GearJoint=Li,t.b2GearJointDef=Ti,t.b2GetPointStates=Ae,t.b2GravityController=Mo,t.b2GrowableBuffer=Yr,t.b2GrowableStack=Nt,t.b2InvSqrt=dt,t.b2IsPowerOfTwo=At,t.b2IsValid=ft,t.b2Island=jr,t.b2Jacobian=Ai,t.b2Joint=Vi,t.b2JointDef=ki,t.b2JointEdge=Bi,t.b2Log=H,t.b2MakeArray=et,t.b2MakeNullArray=nt,t.b2MakeNumberArray=it,t.b2Manifold=we,t.b2ManifoldPoint=xe,t.b2MassData=ci,t.b2Mat22=Ot,t.b2Mat33=It,t.b2Max=lt,t.b2Maybe=n,t.b2Min=ut,t.b2MixFriction=tr,t.b2MixRestitution=er,t.b2MotorJoint=Ei,t.b2MotorJointDef=Ri,t.b2MouseJoint=Gi,t.b2MouseJointDef=Fi,t.b2NextPowerOfTwo=Ct,t.b2Pair=ze,t.b2PairLessThan=Ue,t.b2ParseInt=Y,t.b2ParseUInt=tt,t.b2ParticleBodyContact=no,t.b2ParticleContact=eo,t.b2ParticleDef=Dr,t.b2ParticleGroup=Fr,t.b2ParticleGroupDef=Er,t.b2ParticleHandle=Rr,t.b2ParticlePair=io,t.b2ParticlePairSet=po,t.b2ParticleSystem=ao,t.b2ParticleSystemDef=oo,t.b2ParticleSystem_CompositeShape=go,t.b2ParticleSystem_ConnectionFilter=vo,t.b2ParticleSystem_DestroyParticlesInShapeCallback=yo,t.b2ParticleSystem_FixedSetAllocator=ho,t.b2ParticleSystem_FixtureParticle=fo,t.b2ParticleSystem_FixtureParticleSet=mo,t.b2ParticleSystem_InsideBoundsEnumerator=lo,t.b2ParticleSystem_JoinParticleGroupsFilter=bo,t.b2ParticleSystem_ParticleListNode=co,t.b2ParticleSystem_ParticlePair=_o,t.b2ParticleSystem_Proxy=uo,t.b2ParticleSystem_ReactiveFilter=xo,t.b2ParticleSystem_SolveCollisionCallback=wo,t.b2ParticleSystem_UpdateBodyContactsCallback=So,t.b2ParticleSystem_UserOverridableBuffer=so,t.b2ParticleTriad=ro,t.b2PolygonAndCircleContact=ar,t.b2PolygonContact=or,t.b2PolygonShape=mi,t.b2Position=Sr,t.b2PositionSolverManifold=Mr,t.b2Pow=pt,t.b2PrismaticJoint=zi,t.b2PrismaticJointDef=Ni,t.b2Profile=gr,t.b2PulleyJoint=Ji,t.b2PulleyJointDef=Ui,t.b2QueryCallback=vr,t.b2RadToDeg=yt,t.b2Random=Bt,t.b2RandomRange=kt,t.b2RayCastCallback=yr,t.b2RayCastInput=ke,t.b2RayCastOutput=Ve,t.b2RevoluteJoint=Xi,t.b2RevoluteJointDef=Wi,t.b2Rope=jo,t.b2RopeDef=Io,t.b2RopeJoint=Qi,t.b2RopeJointDef=Hi,t.b2Rot=jt,t.b2SeparationFunction=rn,t.b2Shape=hi,t.b2ShapeCast=ve,t.b2ShapeCastInput=Ht,t.b2ShapeCastOutput=Qt,t.b2Simplex=Kt,t.b2SimplexCache=Jt,t.b2SimplexVertex=Zt,t.b2Sin=gt,t.b2SolverData=Cr,t.b2Sq=mt,t.b2Sqrt=_t,t.b2StackAllocator=qt,t.b2Swap=ht,t.b2Sweep=Lt,t.b2TOIInput=tn,t.b2TOIOutput=nn,t.b2TensorDampingController=Oo,t.b2TestOverlapAABB=Me,t.b2TestOverlapShape=Te,t.b2TimeOfImpact=dn,t.b2TimeStep=xr,t.b2Timer=Ft,t.b2Transform=Dt,t.b2TreeNode=Re,t.b2Vec2=Vt,t.b2Vec2_zero=Pt,t.b2Vec3=Mt,t.b2Velocity=wr,t.b2VelocityConstraintPoint=Br,t.b2Version=Q,t.b2WeldJoint=Zi,t.b2WeldJointDef=$i,t.b2WheelJoint=Yi,t.b2WheelJointDef=Ki,t.b2World=Co,t.b2WorldManifold=Ce,t.b2_180_over_pi=ot,t.b2_aabbExtension=v,t.b2_aabbMultiplier=y,t.b2_angularSleepTolerance=J,t.b2_angularSlop=g,t.b2_barrierCollisionTime=z,t.b2_baumgarte=O,t.b2_branch=Z,t.b2_commit=K,t.b2_epsilon=f,t.b2_epsilon_sq=m,t.b2_gjk_reset=$t,t.b2_invalidParticleIndex=j,t.b2_linearSleepTolerance=U,t.b2_linearSlop=b,t.b2_maxAngularCorrection=B,t.b2_maxFloat=h,t.b2_maxLinearCorrection=A,t.b2_maxManifoldPoints=_,t.b2_maxParticleForce=E,t.b2_maxParticleIndex=D,t.b2_maxParticlePressure=R,t.b2_maxPolygonVertices=p,t.b2_maxRotation=P,t.b2_maxRotationSquared=M,t.b2_maxSubSteps=S,t.b2_maxTOIContacts=w,t.b2_maxTranslation=k,t.b2_maxTranslationSquared=V,t.b2_maxTriadDistance=F,t.b2_maxTriadDistanceSquared=G,t.b2_minParticleSystemBufferCapacity=N,t.b2_minParticleWeight=L,t.b2_minPulleyLength=qi,t.b2_particleStride=T,t.b2_pi=d,t.b2_pi_over_180=rt,t.b2_polygonRadius=x,t.b2_timeToSleep=q,t.b2_toiBaumgarte=I,t.b2_toi_reset=Je,t.b2_two_pi=at,t.b2_velocityThreshold=C,t.b2_version=$,t.g_blockSolve=Ar,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(0),r="undefined"!==typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(0),r="undefined"!==typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect},function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";t.exports=n(85)},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(87)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(8),r=n(1),o=function t(e,n,o){if(r.d.fun(e))return e;if(r.d.arr(e))return t({range:e,output:n,extrapolate:o});if(r.d.str(e.output[0]))return i.createStringInterpolator(e);var a=e,s=a.output,u=a.range||[0,1],l=a.extrapolateLeft||a.extrapolate||"extend",c=a.extrapolateRight||a.extrapolate||"extend",h=a.easing||function(t){return t};return function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,u);return function(t,e,n,i,r,o,a,s,u){var l=u?u(t):t;if(l<e){if("identity"===a)return l;"clamp"===a&&(l=e)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(i===r)return i;if(e===n)return t<=e?i:r;e===-1/0?l=-l:n===1/0?l-=e:l=(l-e)/(n-e);l=o(l),i===-1/0?l=-l:r===1/0?l+=i:l=l*(r-i)+i;return l}(t,u[e],u[e+1],s[e],s[e+1],h,l,c,a.map)}}},function(t,e,n){"use strict";var i,r="object"===typeof Reflect?Reflect:null,o=r&&"function"===typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,i){function r(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,r),i(n)},t.once("error",o)),t.once(e,r)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n,i){var r,o,a,s;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"===typeof a?a=o[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(t))>0&&a.length>r&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):p(r,r.length)}function _(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=r[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)o(c[n],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,m(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,m(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,i,r,o,a;if(l(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},s.prototype.listenerCount=_,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(9),r=n(2),o=function t(e,n,o){if(r.d.fun(e))return e;if(r.d.arr(e))return t({range:e,output:n,extrapolate:o});if(r.d.str(e.output[0]))return i.createStringInterpolator(e);var a=e,s=a.output,u=a.range||[0,1],l=a.extrapolateLeft||a.extrapolate||"extend",c=a.extrapolateRight||a.extrapolate||"extend",h=a.easing||function(t){return t};return function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,u);return function(t,e,n,i,r,o,a,s,u){var l=u?u(t):t;if(l<e){if("identity"===a)return l;"clamp"===a&&(l=e)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(i===r)return i;if(e===n)return t<=e?i:r;e===-1/0?l=-l:n===1/0?l-=e:l=(l-e)/(n-e);l=o(l),i===-1/0?l=-l:r===1/0?l+=i:l=l*(r-i)+i;return l}(t,u[e],u[e+1],s[e],s[e+1],h,l,c,a.map)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a}));var i=n(0),r=function(t){return Object(i.useEffect)(t,[])},o=function(){var t=Object(i.useState)(0)[1],e=Object(i.useRef)(!1);return r((function(){return function(){e.current=!0}})),function(){e.current||t({})}};function a(t){var e=Object(i.useRef)(void 0);return Object(i.useEffect)((function(){e.current=t})),e.current}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a}));var i=n(0),r=function(t){return Object(i.useEffect)(t,[])},o=function(){var t=Object(i.useState)(0)[1],e=Object(i.useRef)(!1);return r((function(){return function(){e.current=!0}})),function(){e.current||t({})}};function a(t){var e=Object(i.useRef)(void 0);return Object(i.useEffect)((function(){e.current=t})),e.current}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var i=n(3);n(21);var r=function t(){Object(i.a)(this,t),this.x=NaN,this.y=NaN};function o(){return new r}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();return n.x=t,n.y=e,n}var s=1e-16;function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(),n=t.x*t.x+t.y*t.y;if(n<s)return a(NaN,NaN,e);var i=1/Math.sqrt(n);return a(i*t.x,i*t.y,e)}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();return a(t.x*e,t.y*e,n)}},function(t,e,n){"use strict";n.d(e,"f",(function(){return Hn})),n.d(e,"g",(function(){return Qn})),n.d(e,"b",(function(){return $n})),n.d(e,"c",(function(){return Zn})),n.d(e,"e",(function(){return Kn})),n.d(e,"d",(function(){return Yn})),n.d(e,"a",(function(){return ti}));var i=n(4);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o="undefined"!==typeof document?document.body:null,a=new WeakMap,s=new WeakMap,u={},l=0,c=n(23),h=n(0),f="right-scroll-bar-position",m="width-before-scroll-bar";function d(t){return t}function _(t,e){void 0===e&&(e=d);var n=[],i=!1;return{read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(t){var r=e(t,i);return n.push(r),function(){n=n.filter((function(t){return t!==r}))}},assignSyncMedium:function(t){for(i=!0;n.length;){var e=n;n=[],e.forEach(t)}n={push:function(e){return t(e)},filter:function(){return n}}},assignMedium:function(t){i=!0;var e=[];if(n.length){var r=n;n=[],r.forEach(t),e=n}var o=function(){var n=e;e=[],n.forEach(t)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(t){e.push(t),a()},filter:function(t){return e=e.filter(t),n}}}}}var p=function(t){void 0===t&&(t={});var e=_(null);return e.options=c.a({async:!0,ssr:!1},t),e}();function v(t,e){return function(t,e){var n=Object(h.useState)((function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(t){var e=n.value;e!==t&&(n.value=t,n.callback(t,e))}}}}))[0];return n.callback=e,n.facade}(e,(function(e){return t.forEach((function(t){return function(t,e){return"function"===typeof t?t(e):t&&(t.current=e),t}(t,e)}))}))}var y=function(){},b=h.forwardRef((function(t,e){var n=h.useRef(null),i=h.useState({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:y}),r=i[0],o=i[1],a=t.forwardProps,s=t.children,u=t.className,l=t.removeScrollBar,f=t.enabled,m=t.shards,d=t.sideCar,_=t.noIsolation,b=t.inert,g=t.allowPinchZoom,x=t.as,S=void 0===x?"div":x,w=c.b(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=d,A=v([n,e]),B=c.a({},w,r);return h.createElement(h.Fragment,null,f&&h.createElement(C,{sideCar:p,removeScrollBar:l,shards:m,noIsolation:_,inert:b,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),a?h.cloneElement(h.Children.only(s),c.a({},B,{ref:A})):h.createElement(S,c.a({},B,{className:u,ref:A}),s))}));b.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},b.classNames={fullWidth:m,zeroRight:f};var g,x=function(t){var e=t.sideCar,n=c.b(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return h.createElement(i,c.a({},n))};x.isSideCarExport=!0;function S(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=g||n.nc;return e&&t.setAttribute("nonce",e),t}var w=function(){var t=0,e=null;return{add:function(n){var i,r;0==t&&(e=S())&&(r=n,(i=e).styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r)),function(t){(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}(e)),t++},remove:function(){!--t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},C=function(){var t=function(){var t=w();return function(e){h.useEffect((function(){return t.add(e),function(){t.remove()}}),[])}}();return function(e){var n=e.styles;return t(n),null}},A={left:0,top:0,right:0,gap:0},B=function(t){return parseInt(t||"",10)||0},k=function(t){if(void 0===t&&(t="margin"),"undefined"===typeof window)return A;var e=function(t){var e=window.getComputedStyle(document.body),n=e["padding"===t?"paddingLeft":"marginLeft"],i=e["padding"===t?"paddingTop":"marginTop"],r=e["padding"===t?"paddingRight":"marginRight"];return[B(n),B(i),B(r)]}(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},V=C(),P=function(t,e,n,i){var r=t.left,o=t.top,a=t.right,s=t.gap;return void 0===n&&(n="margin"),"\n  .with-scroll-bars-hidden {\n   overflow: hidden "+i+";\n   padding-right: "+s+"px "+i+";\n  }\n  body {\n    overflow: hidden "+i+";\n    "+[e&&"position: relative "+i+";","margin"===n&&"\n    padding-left: "+r+"px;\n    padding-top: "+o+"px;\n    padding-right: "+a+"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: "+s+"px "+i+";\n    ","padding"===n&&"padding-right: "+s+"px "+i+";"].filter(Boolean).join("")+"\n  }\n  \n  ."+f+" {\n    right: "+s+"px "+i+";\n  }\n  \n  ."+m+" {\n    margin-right: "+s+"px "+i+";\n  }\n  \n  ."+f+" ."+f+" {\n    right: 0 "+i+";\n  }\n  \n  ."+m+" ."+m+" {\n    margin-right: 0 "+i+";\n  }\n"},M=function(t){var e=h.useState(k(t.gapMode)),n=e[0],i=e[1];h.useEffect((function(){i(k(t.gapMode))}),[t.gapMode]);var r=t.noRelative,o=t.noImportant,a=t.gapMode,s=void 0===a?"margin":a;return h.createElement(V,{styles:P(n,!r,s,o?"":"!important")})},O=function(t,e){var n=e;do{if(I(t,n)){var i=j(t,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},I=function(t,e){return"v"===t?function(t){var e=window.getComputedStyle(t);return"hidden"!==e.overflowY&&!(e.overflowY===e.overflowX&&"visible"===e.overflowY)}(e):function(t){var e=window.getComputedStyle(t);return"hidden"!==e.overflowX&&!(e.overflowY===e.overflowX&&"visible"===e.overflowX)}(e)},j=function(t,e){return"v"===t?[(n=e).scrollTop,n.scrollHeight,n.clientHeight]:function(t){return[t.scrollLeft,t.scrollWidth,t.clientWidth]}(e);var n},D=!1;if("undefined"!==typeof window)try{var T=Object.defineProperty({},"passive",{get:function(){return D=!0,!0}});window.addEventListener("test",T,T),window.removeEventListener("test",T,T)}catch(ei){D=!1}var L=!!D&&{passive:!1},R=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},E=function(t){return[t.deltaX,t.deltaY]},F=function(t){return t&&"current"in t?t.current:t},G=function(t){return"\n  .block-interactivity-"+t+" {pointer-events: none;}\n  .allow-interactivity-"+t+" {pointer-events: all;}\n"},N=0,z=[];var q,U=(q=function(t){var e=h.useRef([]),n=h.useRef([0,0]),i=h.useRef(),r=h.useState(N++)[0],o=h.useState((function(){return C()}))[0],a=h.useRef(t);h.useEffect((function(){a.current=t}),[t]),h.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-"+r);var e=[t.lockRef.current].concat((t.shards||[]).map(F)).filter(Boolean);return e.forEach((function(t){return t.classList.add("allow-interactivity-"+r)})),function(){document.body.classList.remove("block-interactivity-"+r),e.forEach((function(t){return t.classList.remove("allow-interactivity-"+r)}))}}}),[t.inert,t.lockRef.current,t.shards]);var s=h.useCallback((function(t,e){if("touches"in t&&2===t.touches.length)return!a.current.allowPinchZoom;var r,o=R(t),s=n.current,u="deltaX"in t?t.deltaX:s[0]-o[0],l="deltaY"in t?t.deltaY:s[1]-o[1],c=t.target,h=Math.abs(u)>Math.abs(l)?"h":"v",f=O(h,c);if(!f)return!0;if(f?r=h:(r="v"===h?"h":"v",f=O(h,c)),!f)return!1;if(!i.current&&"changedTouches"in t&&(u||l)&&(i.current=r),!r)return!0;var m=i.current||r;return function(t,e,n,i,r){var o=i,a=n.target,s=e.contains(a),u=!1,l=o>0,c=0,h=0;do{var f=j(t,a),m=f[0],d=f[1]-f[2]-m;(m||d)&&I(t,a)&&(c+=d,h+=m),a=a.parentNode}while(!s&&a!==document.body||s&&(e.contains(a)||e===a));return(l&&(r&&0===c||!r&&o>c)||!l&&(r&&0===h||!r&&-o>h))&&(u=!0),u}(m,e,t,"h"===m?u:l,!0)}),[]),u=h.useCallback((function(t){var n=t;if(z.length&&z[z.length-1]===o){var i="deltaY"in n?E(n):R(n),r=e.current.filter((function(t){return t.name===n.type&&t.target===n.target&&(e=t.delta,r=i,e[0]===r[0]&&e[1]===r[1]);var e,r}))[0];if(r&&r.should)n.preventDefault();else if(!r){var u=(a.current.shards||[]).map(F).filter(Boolean).filter((function(t){return t.contains(n.target)}));(u.length>0?s(n,u[0]):!a.current.noIsolation)&&n.preventDefault()}}}),[]),l=h.useCallback((function(t,n,i,r){var o={name:t,delta:n,target:i,should:r};e.current.push(o),setTimeout((function(){e.current=e.current.filter((function(t){return t!==o}))}),1)}),[]),c=h.useCallback((function(t){n.current=R(t),i.current=void 0}),[]),f=h.useCallback((function(e){l(e.type,E(e),e.target,s(e,t.lockRef.current))}),[]),m=h.useCallback((function(e){l(e.type,R(e),e.target,s(e,t.lockRef.current))}),[]);h.useEffect((function(){return z.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",u,L),document.addEventListener("touchmove",u,L),document.addEventListener("touchstart",c,L),function(){z=z.filter((function(t){return t!==o})),document.removeEventListener("wheel",u,L),document.removeEventListener("touchmove",u,L),document.removeEventListener("touchstart",c,L)}}),[]);var d=t.removeScrollBar,_=t.inert;return h.createElement(h.Fragment,null,_?h.createElement(o,{styles:G(r)}):null,d?h.createElement(M,{gapMode:"margin"}):null)},p.useMedium(q),x),J=h.forwardRef((function(t,e){return h.createElement(b,c.a({},t,{ref:e,sideCar:U}))}));J.classNames=b.classNames;var W=J,X=0;function H(){h.useEffect((function(){var t,e,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(t=n[0])&&void 0!==t?t:Q()),document.body.insertAdjacentElement("beforeend",null!==(e=n[1])&&void 0!==e?e:Q()),X++,function(){1===X&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(t){return t.remove()})),X--}}),[])}function Q(){var t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var $=n(20);function Z(t,e){var n=Object($.a)(t),i=n.indexOf(e);return-1!==i&&n.splice(i,1),n}function K(t){return"data-".concat(function(t){var e=t.replace(".","").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return"".concat("radix","-").concat(e)}(t))}function Y(t){return r({},K(t),"")}function tt(t,e){var n=t.width,i=t.height,r=e.x,o=e.y;return DOMRect.fromRect({width:n,height:i,x:r,y:o})}function et(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{top:t.top<e,right:t.right>window.innerWidth-e,bottom:t.bottom>window.innerHeight-e,left:t.left<e}}var it;var rt=new Map;function ot(){var t=[];rt.forEach((function(e,n){var i=n.getBoundingClientRect();(function(t,e){return t.width===e.width&&t.height===e.height&&t.top===e.top&&t.right===e.right&&t.bottom===e.bottom&&t.left===e.left})(e.rect,i)||(e.rect=i,t.push(e))})),t.forEach((function(t){t.callbacks.forEach((function(e){return e(t.rect)}))})),it=requestAnimationFrame(ot)}function at(t){return h.forwardRef(t)}function st(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.checkForDefaultPrevented,r=void 0===i||i;return function(n){if(null==t||t(n),!1===r||!n.defaultPrevented)return null==e?void 0:e(n)}}function ut(t,e){var n=h.createContext(null);return n.displayName=t,[n,function(t){var i=h.useContext(n);if(null===i)throw new Error("`".concat(t,"` must be used within `").concat(e,"`"));return i}]}function lt(){return(lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function ct(t,e){var n=at((function(n,i){var r=t;return h.createElement(r,lt({},Y(e),n,{ref:i}))}));return n.displayName=e,n}function ht(t){var e=h.useRef(t);return h.useEffect((function(){e.current=t})),h.useCallback((function(){for(var t,n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];null===(n=e.current)||void 0===n||(t=n).call.apply(t,[e].concat(r))}),[])}function ft(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.forEach((function(e){return function(t,e){"function"==typeof t?t(e):null!=t&&(t.current=e)}(e,t)}))}}function mt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useCallback(ft.apply(void 0,e),e)}function dt(t){var e=t.prop,n=t.defaultProp,r=t.onChange,o=void 0===r?function(){}:r,a=function(t){var e=t.defaultProp,n=t.onChange,r=h.useState(e),o=Object(i.a)(r,1)[0],a=h.useRef(o),s=ht(n);return h.useEffect((function(){a.current!==o&&(s(o),a.current=o)}),[o,a,s]),r}({defaultProp:n,onChange:o}),s=Object(i.a)(a,2),u=s[0],l=s[1],c=void 0!==e,f=c?e:u,m=ht(o);return[f,h.useCallback((function(t){if(c){var n="function"==typeof t?t(e):t;n!==e&&m(n)}else l(t)}),[c,e,l,m])]}var _t,pt="undefined"!=typeof window&&window.document&&window.document.createElement?h.useLayoutEffect:function(){},vt=0;var yt=0,bt=function(){var t=h.useState((function(){return yt+=1}));return Object(i.a)(t,1)[0]};function gt(t){var e=h.useState(),n=Object(i.a)(e,2),r=n[0],o=n[1];return pt((function(){if(t.current){var e=function(t,e){var n=rt.get(t);return void 0===n?(rt.set(t,{rect:{},callbacks:[e]}),1===rt.size&&(it=requestAnimationFrame(ot))):n.callbacks.push(e),function(){var n=rt.get(t);if(void 0!==n){var i=n.callbacks.indexOf(e);i>-1&&n.callbacks.splice(i,1),0===n.callbacks.length&&(rt.delete(t),0===rt.size&&cancelAnimationFrame(it))}}}(t.current,o);return function(){o(void 0),e()}}}),[t]),r}function xt(t){var e=h.useState(void 0),n=Object(i.a)(e,2),r=n[0],o=n[1];return h.useEffect((function(){if(t.current){var e=t.current,n=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,i,r=t[0];if("borderBoxSize"in r){var a=r.borderBoxSize,s=Array.isArray(a)?a[0]:a;n=s.inlineSize,i=s.blockSize}else{var u=e.getBoundingClientRect();n=u.width,i=u.height}o({width:n,height:i})}}));return n.observe(e,{box:"border-box"}),function(){o(void 0),n.unobserve(e)}}}),[t]),r}var St=n(34),wt=n.n(St),Ct=function(t){var e,n=t.children,r=t.containerRef,o=null!==(e=null==r?void 0:r.current)&&void 0!==e?e:"undefined"!=typeof document?document.body:void 0,a=h.useState({}),s=Object(i.a)(a,2)[1];if(pt((function(){s({})}),[]),o){return wt.a.createPortal(h.createElement("radix-portal",null,n),o)}return null};function At(t,e){var n,i=function(t){return document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return t.tabIndex>=0&&!t.disabled?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}})}(t),r=e?e.compareDocumentPosition(t):Node.DOCUMENT_POSITION_PRECEDING;if(r&Node.DOCUMENT_POSITION_PRECEDING)Bt(null!==(n=i.firstChild())&&void 0!==n?n:t);else if(r&Node.DOCUMENT_POSITION_FOLLOWING){var o;Bt(null!==(o=i.lastChild())&&void 0!==o?o:t)}}function Bt(t){t&&t.focus&&(t.focus({preventScroll:!0}),function(t){return t instanceof HTMLInputElement&&"select"in t}(t)&&t.select())}var kt=function(){var t=[];return{add:function(e){var n=t[0];e!==n&&(null==n||n.pause()),(t=Z(t,e)).unshift(e)},remove:function(e){var n;null===(n=(t=Z(t,e))[0])||void 0===n||n.resume()},size:function(){return t.length}}}();function Vt(t){var e=t.children,n=t.trapped,i=void 0!==n&&n,r=h.useRef(null),o=h.useRef(),a=ht(t.onMountAutoFocus),s=ht(t.onUnmountAutoFocus);return h.useEffect((function(){var t=r.current;if(t)return t.addEventListener("focusScope.autoFocusOnCreate",a),t.addEventListener("focusScope.autoFocusOnDestroy",s),o.current=function(t){var e=document.activeElement;function n(e){if(!i.paused){var n="focusout"===e.type?e.relatedTarget:e.target;t.contains(n)||(e.stopImmediatePropagation(),At(t,n))}}var i={paused:!1,pause:function(){return i.paused=!0},resume:function(){return i.paused=!1},trap:function(){document.addEventListener("focusout",n,{capture:!0}),document.addEventListener("focusin",n,{capture:!0})},untrap:function(){document.removeEventListener("focusout",n,{capture:!0}),document.removeEventListener("focusin",n,{capture:!0})},destroy:function(){!function(t){t.removeAttribute("tabIndex")}(t),i.untrap(),function(){var n=new Event("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0});t.dispatchEvent(n),n.defaultPrevented||Bt(e)}(),kt.remove(i)}};return kt.add(i),function(t){t.tabIndex>-1||(t.tabIndex=-1)}(t),function(){var e=new Event("focusScope.autoFocusOnCreate",{bubbles:!1,cancelable:!0});t.dispatchEvent(e),e.defaultPrevented||At(t,null)}(),i}(t),function(){t.removeEventListener("focusScope.autoFocusOnCreate",a),setTimeout((function(){var e;null===(e=o.current)||void 0===e||e.destroy(),t.removeEventListener("focusScope.autoFocusOnDestroy",s)}),0)}}),[r,a,s]),h.useEffect((function(){var t;if(i)return null===(t=o.current)||void 0===t||t.trap(),function(){var t;return null===(t=o.current)||void 0===t?void 0:t.untrap()}}),[i]),e({ref:r})}function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){Ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var It=$t(),jt=Object(i.a)(It,2),Dt=jt[0],Tt=jt[1],Lt=Zt(),Rt=Object(i.a)(Lt,2),Et=Rt[0],Ft=Rt[1],Gt=$t("TotalLayerCountWithDisabledOutsidePointerEventsProvider"),Nt=Object(i.a)(Gt,2),zt=Nt[0],qt=Nt[1],Ut=Zt("RunningLayerCountWithDisabledOutsidePointerEventsProvider"),Jt=Object(i.a)(Ut,2),Wt=Jt[0],Xt=Jt[1];function Ht(t){var e=0===Ft(),n=h.createElement(Qt,t);return e?h.createElement(Dt,null,h.createElement(zt,null,n)):n}function Qt(t){var e=t.children,n=t.disableOutsidePointerEvents,i=void 0!==n&&n,r=t.onEscapeKeyDown,o=t.onPointerDownOutside,a=t.onFocusOutside,s=t.onInteractOutside,u=t.onDismiss,l=h.useRef(null),c=Tt(),f=Ft()+1,m=f===c,d=qt(i),_=Xt()+(i?1:0),p=_<d;(function(t){var e=t.disabled;pt((function(){if(e)return 0===vt&&(_t=document.body.style.pointerEvents),document.body.style.pointerEvents="none",vt++,function(){0===--vt&&(document.body.style.pointerEvents=_t)}}),[e])})({disabled:i}),function(t){var e=ht((function(t){m&&(null==r||r(t),t.defaultPrevented||null==u||u())}));h.useEffect((function(){var t=function(t){"Escape"===t.key&&e(t)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[e])}();var v=function(t){var e=ht((function(t){p||(null==o||o(t),null==s||s(t),t.defaultPrevented||null==u||u())})),n=h.useRef(!1);h.useEffect((function(){var t=function(t){n.current||e(t),n.current=!1};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e]);var i=function(){n.current=!0};return{onMouseDownCapture:i,onTouchStartCapture:i}}(),y=function(t){var e=h.useRef(0);return{onBlurCapture:function(n){n.persist(),e.current=window.setTimeout((function(){null==t||t(n)}),0)},onFocusCapture:function(){window.clearTimeout(e.current)}}}((function(t){null==a||a(t),null==s||s(t),t.defaultPrevented||null==u||u()})),b=d>0&&!p;return h.createElement(Et,{runningCount:f},h.createElement(Wt,{runningCount:_},e(Mt(Mt({ref:l,style:b?{pointerEvents:"auto"}:{}},v),y))))}function $t(t){var e=h.createContext({total:0,setTotal:function(){}}),n=function(t){var n=t.children,r=h.useState(0),o=Object(i.a)(r,2),a=o[0],s=o[1],u=h.useMemo((function(){return{total:a,setTotal:s}}),[a,s]);return h.createElement(e.Provider,{value:u},n)};return t&&(n.displayName=t),[n,function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=h.useContext(e),i=n.total,r=n.setTotal;return h.useLayoutEffect((function(){if(t)return r((function(t){return t+1})),function(){return r((function(t){return t-1}))}}),[t,r]),i}]}function Zt(t){var e=h.createContext(0),n=function(t){var n=t.children,i=t.runningCount;return h.createElement(e.Provider,{value:i},n)};return t&&(n.displayName=t),[n,function(){return h.useContext(e)||0}]}function Kt(){return(Kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Yt(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var te=at((function(t,e){var n=t.as,i=void 0===n?ee:n,r=Yt(t,["as"]);return h.createElement(i,Kt({},r,{ref:e}))})),ee=at((function(t,e){var n=t.as,i=void 0===n?"svg":n,r=t.width,o=void 0===r?10:r,a=t.height,s=void 0===a?5:a,u=Yt(t,["as","width","height"]);return h.createElement(i,Kt({},Y("Arrow"),u,{ref:e,viewBox:"0 0 30 10",width:o,height:s,preserveAspectRatio:"none"}),h.createElement("polygon",{points:"0,0 30,0 15,10"}))}));te.displayName="Arrow";function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oe(t,e,n){var i=t["x"===n?"left":"top"],r="x"===n?"width":"height",o=t[r],a=e[r];return{before:i-a,start:i,center:i+(o-a)/2,end:i+o-a,after:i+o}}function ae(t){var e=Math.round(t.x+window.scrollX),n=Math.round(t.y+window.scrollY);return{position:"absolute",top:0,left:0,willChange:"transform",transform:"translate3d(".concat(e,"px, ").concat(n,"px, 0)")}}function se(t,e,n,i,r){var o="top"===e||"bottom"===e,a=r?r.width:0,s=r?r.height:0,u=a/2+i,l="",c="";return o?(l={start:"".concat(u,"px"),center:"center",end:"".concat(t.width-u,"px")}[n],c="".concat("top"===e?t.height+s:-s,"px")):(l="".concat("left"===e?t.width+s:-s,"px"),c={start:"".concat(u,"px"),center:"center",end:"".concat(t.height-u,"px")}[n]),"".concat(l," ").concat(c)}var ue={position:"fixed",top:0,left:0,opacity:0,pointerEvents:"none"},le={position:"absolute",opacity:0};function ce(t){var e,n=t.popperSize,i=t.arrowSize,o=t.arrowOffset,a=t.side,s=t.align,u=(n.width-i.width)/2,l=(n.height-i.width)/2,c={top:0,right:90,bottom:180,left:-90}[a],h=Math.max(i.width,i.height),f=(r(e={width:"".concat(h,"px"),height:"".concat(h,"px"),transform:"rotate(".concat(c,"deg)"),willChange:"transform",position:"absolute"},a,"100%"),r(e,"direction",function(t,e){return("top"!==t&&"right"!==t||"end"!==e)&&("bottom"!==t&&"left"!==t||"end"===e)?"ltr":"rtl"}(a,s)),e);return"top"!==a&&"bottom"!==a||("start"===s&&(f.left="".concat(o,"px")),"center"===s&&(f.left="".concat(u,"px")),"end"===s&&(f.right="".concat(o,"px"))),"left"!==a&&"right"!==a||("start"===s&&(f.top="".concat(o,"px")),"center"===s&&(f.top="".concat(l,"px")),"end"===s&&(f.bottom="".concat(o,"px"))),f}function he(){return(he=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){de(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _e(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var pe=ut("PopperContext","Popper"),ve=Object(i.a)(pe,2),ye=ve[0],be=ve[1],ge=at((function(t,e){var n=t.as,r=void 0===n?"div":n,o=t.children,a=t.anchorRef,s=t.side,u=void 0===s?"bottom":s,l=t.sideOffset,c=t.align,f=void 0===c?"center":c,m=t.alignOffset,d=t.collisionTolerance,_=t.avoidCollisions,p=void 0===_||_,v=_e(t,["as","children","anchorRef","side","sideOffset","align","alignOffset","collisionTolerance","avoidCollisions"]),y=h.useState(),b=Object(i.a)(y,2),g=b[0],x=b[1],S=gt(a),w=h.useRef(null),C=xt(w),A=h.useRef(null),B=xt(A),k=mt(e,w),V=function(t){var e=t.anchorRect,n=t.popperSize,i=t.arrowSize,r=t.arrowOffset,o=void 0===r?0:r,a=t.side,s=t.sideOffset,u=void 0===s?0:s,l=t.align,c=t.alignOffset,h=void 0===c?0:c,f=t.shouldAvoidCollisions,m=void 0===f||f,d=t.collisionTolerance,_=void 0===d?0:d;if(!e||!n)return{popperStyles:ue,arrowStyles:le};var p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=r?r.height:0,a=oe(e,t,"x"),s=oe(e,t,"y"),u=s.before-n-o,l=s.after+n+o,c=a.before-n-o,h=a.after+n+o;return{top:{start:{x:a.start+i,y:u},center:{x:a.center,y:u},end:{x:a.end-i,y:u}},right:{start:{x:h,y:s.start+i},center:{x:h,y:s.center},end:{x:h,y:s.end-i}},bottom:{start:{x:a.start+i,y:l},center:{x:a.center,y:l},end:{x:a.end-i,y:l}},left:{start:{x:c,y:s.start+i},center:{x:c,y:s.center},end:{x:c,y:s.end-i}}}}(n,e,u,h,i),v=p[a][l];if(!1===m){var y=ae(v),b=le;i&&(b=ce({popperSize:n,arrowSize:i,arrowOffset:o,side:a,align:l}));var g=se(n,a,l,o,i);return{popperStyles:ie(ie({},y),{},{"--radix-popper-transform-origin":g}),arrowStyles:b,placedSide:a,placedAlign:l}}var x=nt(tt(n,v),_),S=function(t,e,n){var i=et(t);return e[t]&&!n[i]?i:t}(a,x,nt(tt(n,p[et(a)][l]),_)),w=function(t,e,n,i,r){var o="top"===n||"bottom"===n,a=o?"left":"top",s=o?"right":"bottom",u=o?"width":"height",l=e[u]>t[u];return"start"!==i&&"center"!==i||!(r[a]&&l||r[s]&&!l)?"end"!==i&&"center"!==i||!(r[s]&&l||r[a]&&!l)?i:"start":"end"}(n,e,a,l,x),C=ae(p[S][w]),A=le;i&&(A=ce({popperSize:n,arrowSize:i,arrowOffset:o,side:S,align:w}));var B=se(n,S,w,o,i);return{popperStyles:ie(ie({},C),{},{"--radix-popper-transform-origin":B}),arrowStyles:A,placedSide:S,placedAlign:w}}({anchorRect:S,popperSize:C,arrowSize:B,arrowOffset:g,side:u,sideOffset:l,align:f,alignOffset:m,collisionTolerance:d,shouldAvoidCollisions:p}),P=V.popperStyles,M=V.arrowStyles,O=V.placedSide,I=V.placedAlign,j=void 0!==O,D=h.useMemo((function(){return{arrowRef:A,arrowStyles:M,setArrowOffset:x}}),[M]);return h.createElement("div",{style:P},h.createElement(r,he({},Y("Popper"),v,{style:me(me({},v.style),{},{animation:j?void 0:"none"}),ref:k,"data-side":O,"data-align":I}),h.createElement(ye.Provider,{value:D},o)))}));ge.displayName="Popper";var xe=at((function(t,e){var n=t.offset,i=_e(t,["offset"]),r=be("PopperArrow"),o=r.arrowRef,a=r.setArrowOffset,s=r.arrowStyles;return h.useEffect((function(){return a(n)}),[a,n]),h.createElement("span",{style:me(me({},s),{},{pointerEvents:"none"})},h.createElement("span",{ref:o,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},h.createElement(te,he({},Y("PopperArrow"),i,{ref:e,style:me(me({},i.style),{},{display:"block"})}))))}));xe.displayName="PopperArrow";var Se=ge,we=xe,Ce=ut("RovingFocusGroupContext","RovingFocusGroup"),Ae=Object(i.a)(Ce,2),Be=Ae[0],ke=Ae[1];function Ve(t){var e=t.children,n=t.orientation,r=t.loop,o=t.dir,a=dt({prop:t.reachable,defaultProp:t.defaultReachable,onChange:t.onReachableChange}),s=Object(i.a)(a,2),u=s[0],l=void 0===u||u,c=s[1],f=h.useState(null),m=Object(i.a)(f,2),d=m[0],_=m[1],p=String(bt()),v=h.useMemo((function(){return{groupId:p,tabStopId:d,setTabStopId:_,reachable:l,setReachable:c,orientation:n,dir:o,loop:r}}),[p,d,_,l,c,n,o,r]);return h.createElement(Be.Provider,{value:v},e)}function Pe(t){var e,n=t.disabled,o=t.active,a=String(bt()),s=ke("RovingFocusItem"),u=a===s.tabStopId,l=s.reachable,c=s.setTabStopId;return h.useEffect((function(){c((function(t){return l?o||!t?a:t:null}))}),[o,a,l,c]),n?{tabIndex:-1,onMouseDown:function(t){return t.preventDefault()}}:(r(e={},De(s.groupId),""),r(e,"tabIndex",u?0:-1),r(e,"onFocus",(function(){s.setReachable(!0),s.setTabStopId(a)})),r(e,"onKeyDown",(function(t){var e,n=function(t,e,n){var i=function(t,e){return"rtl"!==e?t:"ArrowLeft"===t?"ArrowRight":"ArrowRight"===t?"ArrowLeft":t}(t.key,n);return"vertical"===e&&["ArrowLeft","ArrowRight"].includes(i)||"horizontal"===e&&["ArrowUp","ArrowDown"].includes(i)?void 0:Ie[i]}(t,s.orientation,s.dir);if(je.includes(t.key)&&t.stopPropagation(),void 0!==n){t.preventDefault();var r=(e=s.groupId,Array.from(document.querySelectorAll("[".concat(De(e),"]")))),o=r.length,a=document.activeElement,u=a?r.indexOf(a):-1,l={first:0,last:o-1,prev:u-1,next:u+1}[n],c=r[l=s.loop?function(t,e){return(e+t)%e}(l,o):function(t,e){var n=Object(i.a)(e,2),r=n[0],o=n[1];return Math.min(o,Math.max(r,t))}(l,[0,o-1])];c&&setTimeout((function(){return c.focus()}))}})),e)}Ve.displayName="RovingFocusGroup";var Me,Oe,Ie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},je=Object.keys(Ie),De=function(t){return"".concat(K("RovingFocusGroup"),"-").concat(t,"-item")};function Te(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}(Oe=Me||(Me={}))[Oe.NotStarted=0]="NotStarted",Oe[Oe.Running=1]="Running",Oe[Oe.Stopped=2]="Stopped";var Le={type:"xstate.init"};function Re(t){return void 0===t?[]:[].concat(t)}function Ee(t,e){return"string"==typeof(t="string"==typeof t&&e&&e[t]?e[t]:t)?{type:t}:"function"==typeof t?{type:t.name,exec:t}:t}function Fe(t){return function(e){return t===e}}function Ge(t){return"string"==typeof t?{type:t}:t}function Ne(t,e){return{value:t,context:e,actions:[],changed:!1,matches:Fe(t)}}function ze(t,e,n){var i=e,r=!1;return[t.filter((function(t){if("xstate.assign"===t.type){r=!0;var e=Object.assign({},i);return"function"==typeof t.assignment?e=t.assignment(i,n):Object.keys(t.assignment).forEach((function(r){e[r]="function"==typeof t.assignment[r]?t.assignment[r](i,n):t.assignment[r]})),i=e,!1}return!0})),i,r]}var qe=function(t,e){return t.actions.forEach((function(n){var i=n.exec;return i&&i(t.context,e)}))};var Ue=function(t){var e=t.present,n=t.children,r=function(t){var e=h.useState(),n=Object(i.a)(e,2),r=n[0],o=n[1],a=h.useState(),s=Object(i.a)(a,2),u=s[0],l=s[1],c=h.useRef(t),f=h.useRef(),m=function(t){var e=h.useState((function(){return function(t){var e=t.initialState,n=Me.NotStarted,i=new Set,r={_machine:t,send:function(r){n===Me.Running&&(e=t.transition(e,r),qe(e,Ge(r)),i.forEach((function(t){return t(e)})))},subscribe:function(t){return i.add(t),t(e),{unsubscribe:function(){return i.delete(t)}}},start:function(i){if(i){var o="object"==typeof i?i:{context:t.config.context,value:i};e={value:o.value,actions:[],context:o.context,matches:Fe(o.value)}}return n=Me.Running,qe(e,Le),r},stop:function(){return n=Me.Stopped,i.clear(),r},get state(){return e},get status(){return n}};return r}(function(e,n){void 0===n&&(n={});var i=Te(ze(Re(e.states[e.initial].entry).map((function(t){return Ee(t,n.actions)})),e.context,Le),2),r=i[0],o=i[1],a={config:e,_options:n,initialState:{value:e.initial,actions:r,context:o,matches:Fe(e.initial)},transition:function(n,i){var r,o,s="string"==typeof n?{value:n,context:e.context}:n,u=s.value,l=s.context,c=Ge(i),h=e.states[u];if(h.on){var f=Re(h.on[c.type]);try{for(var m=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(f),d=m.next();!d.done;d=m.next()){var _=d.value;if(void 0===_)return Ne(u,l);var p="string"==typeof _?{target:_}:_,v=p.target,y=void 0===v?u:v,b=p.actions,g=void 0===b?[]:b,x=p.cond;if((void 0===x?function(){return!0}:x)(l,c)){var S=e.states[y],w=Te(ze([].concat(h.exit,g,S.entry).filter((function(t){return t})).map((function(t){return Ee(t,a._options.actions)})),l,c),3),C=w[0],A=w[1],B=w[2];return{value:y,context:A,actions:C,changed:y!==u||C.length>0||B,matches:Fe(y)}}}}catch(t){r={error:t}}finally{try{d&&!d.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}}return Ne(u,l)}};return a}(t))})),n=Object(i.a)(e,1)[0],r=h.useState(t.initial),o=Object(i.a)(r,2),a=o[0],s=o[1],u=h.useState(t.context),l=Object(i.a)(u,2),c=l[0],f=l[1];return h.useEffect((function(){var t=n.subscribe((function(t){s(t.value),f(t.context)}));return n.start(),function(){t.unsubscribe(),n.stop()}}),[n]),h.useMemo((function(){return{state:a,context:c,send:n.send}}),[a,c,n])}({id:"presence",initial:t?"mounted":"unmounted",states:{mounted:{on:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended",TRANSITION_OUT:"unmountSuspended"}},unmountSuspended:{on:{ANIMATION_END:"unmounted",TRANSITION_END:"unmounted"}},unmounted:{on:{MOUNT:"mounted"}}}}),d=m.state,_=m.send;return h.useEffect((function(){if(r){var t=getComputedStyle(r);f.current=Je(t),l(t)}}),[r]),h.useEffect((function(){return function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=requestAnimationFrame((function(){t=requestAnimationFrame((function(){e=requestAnimationFrame(n)}))}));return function(){cancelAnimationFrame(i),cancelAnimationFrame(t),cancelAnimationFrame(e)}}((function(){var e=c.current,n=f.current,i=Je(u),r=String(n)!==String(i);f.current=i,c.current=t,_(t?"MOUNT":e&&r?"none"===(null==u?void 0:u.display)?"UNMOUNT":"ANIMATION_OUT":"UNMOUNT")}))}),[t,u,_]),h.useEffect((function(){if(r){var e=function(e){var n=c.current,i=!t&&n;e.target===r&&i&&_("TRANSITION_OUT")},n=function(t){t.target===r&&_("TRANSITION_END")},i=function(t){t.target===r&&_("ANIMATION_END")};return r.addEventListener("animationcancel",i),r.addEventListener("animationend",i),r.addEventListener("transitionrun",e),r.addEventListener("transitioncancel",n),r.addEventListener("transitionend",n),function(){r.removeEventListener("animationcancel",i),r.removeEventListener("animationend",i),r.removeEventListener("transitionrun",e),r.removeEventListener("transitioncancel",n),r.removeEventListener("transitionend",n)}}}),[r,t,_]),{ref:function(t){return o(t)},isPresent:["mounted","unmountSuspended"].includes(d)}}(e),o="function"==typeof n?n({present:r.isPresent}):h.Children.only(n),a=mt(r.ref,o.ref);return"function"==typeof n||r.isPresent?h.cloneElement(o,{ref:a}):null};function Je(t){return(null==t?void 0:t.animationName)||"none"}Ue.displayName="Presence";var We=function(t){var e;return null!==(e=t.getAttribute(Xe))&&void 0!==e?e:""},Xe=K("MenuTypeaheadItem");function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){$e(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ze(){return(Ze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Ke(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Ye=["ArrowDown","PageUp","Home"],tn=[].concat(Ye,["ArrowUp","PageDown","End"]),en=ut("MenuContext","Menu"),nn=Object(i.a)(en,2),rn=nn[0],on=nn[1],an=at((function(t,e){var n=t.children,i=t.forceMount,r=t.open,o=void 0!==r&&r,a=Ke(t,["children","forceMount","open"]);return h.createElement(Ue,{present:i||o},h.createElement(sn,Ze({ref:e},a,{"data-state":gn(o)}),n))})),sn=at((function(t,e){var n=t.children,r=t.onOpenChange,c=t.anchorRef,f=t.loop,m=t.trapFocus,d=t.onOpenAutoFocus,_=t.onCloseAutoFocus,p=t.disableOutsidePointerEvents,v=t.onEscapeKeyDown,y=t.onPointerDownOutside,b=t.onFocusOutside,g=t.onInteractOutside,x=t.onDismiss,S=t.disableOutsideScroll,w=t.portalled,C=Ke(t,["children","onOpenChange","anchorRef","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll","portalled"]),A=ht(r),B=h.useRef(null),k=h.useState(0),V=Object(i.a)(k,2),P=V[0],M=V[1],O=h.useState(!1),I=Object(i.a)(O,2),j=I[0],D=I[1],T=function(){var t=h.useRef(0),e=h.useRef(""),n=h.useCallback((function(i){e.current=i,window.clearTimeout(t.current),t.current=window.setTimeout((function(){return n("")}),1e3)}),[]);return{onKeyDownCapture:function(t){if(1===t.key.length&&!(t.ctrlKey||t.altKey||t.metaKey)){var i=t.currentTarget;n(e.current+t.key)," "!==t.key||e.current.startsWith(" ")||t.stopPropagation();var r=document.activeElement,o=r?We(r):void 0,a=function(t,e,n){var i=e.length>1&&Array.from(e).every((function(t){return t===e[0]}))?e[0]:e,r=n?t.indexOf(n):-1,o=function(t,e){return t.map((function(n,i){return t[(e+i)%t.length]}))}(t,Math.max(r,0));1===i.length&&(o=o.filter((function(t){return t!==n})));var a=o.find((function(t){return t.toLowerCase().startsWith(i.toLowerCase())}));return a!==n?a:void 0}(Array.from(i.querySelectorAll("[".concat(Xe,"]"))).map(We),e.current,o),s=i.querySelector("[".concat(Xe,'="').concat(a,'"]'));s&&setTimeout((function(){return s.focus()}))}}}}(),L=h.useMemo((function(){return{menuRef:B,setItemsReachable:D,onOpenChange:A}}),[A]);h.useEffect((function(){M(j?-1:0)}),[j]);var R=w?Ct:h.Fragment,E=S?W:h.Fragment;return H(),h.useEffect((function(){var t=B.current;if(t)return function(t,e,n){void 0===e&&(e=o),void 0===n&&(n="data-aria-hidden");var i=Array.isArray(t)?t:[t];u[n]||(u[n]=new WeakMap);var r=u[n],c=[];return function t(e){!e||i.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(i.some((function(t){return e.contains(t)})))t(e);else{var o=e.getAttribute("aria-hidden"),u=null!==o&&"false"!==o,l=(a.get(e)||0)+1,h=(r.get(e)||0)+1;a.set(e,l),r.set(e,h),c.push(e),1===l&&u&&s.set(e,!0),1===h&&e.setAttribute(n,"true"),u||e.setAttribute("aria-hidden","true")}}))}(e),l++,function(){c.forEach((function(t){var e=a.get(t)-1,i=r.get(t)-1;a.set(t,e),r.set(t,i),e||(s.has(t)||t.removeAttribute("aria-hidden"),s.delete(t)),i||t.removeAttribute(n)})),--l||(a=new WeakMap,a=new WeakMap,s=new WeakMap,u={})}}(t)}),[]),h.createElement(R,null,h.createElement(E,null,h.createElement(Vt,{trapped:m,onMountAutoFocus:d,onUnmountAutoFocus:_},(function(t){return h.createElement(Ht,{disableOutsidePointerEvents:p,onEscapeKeyDown:v,onPointerDownOutside:y,onFocusOutside:b,onInteractOutside:g,onDismiss:x},(function(i){return h.createElement(Se,Ze({role:"menu"},Y("Menu"),C,{ref:ft(e,B,t.ref,i.ref),anchorRef:c,tabIndex:P,style:Qe(Qe({},i.style),{},{outline:"none"},C.style),onBlurCapture:st(C.onBlurCapture,i.onBlurCapture,{checkForDefaultPrevented:!1}),onFocusCapture:st(C.onFocusCapture,i.onFocusCapture,{checkForDefaultPrevented:!1}),onMouseDownCapture:st(C.onMouseDownCapture,i.onMouseDownCapture,{checkForDefaultPrevented:!1}),onTouchStartCapture:st(C.onTouchStartCapture,i.onTouchStartCapture,{checkForDefaultPrevented:!1}),onKeyDownCapture:st(C.onKeyDownCapture,T.onKeyDownCapture),onKeyDown:st(C.onKeyDown,(function(t){var e=B.current;if(t.target===e&&tn.includes(t.key)){t.preventDefault();var n=Array.from(e.querySelectorAll(cn)),i=Ye.includes(t.key)?n[0]:n.reverse()[0];null==i||i.focus()}})),onMouseMove:st(C.onMouseMove,(function(t){var e;null===t.target.closest(cn)&&(null===(e=B.current)||void 0===e||e.focus())}))}),h.createElement(Ve,{reachable:j,onReachableChange:D,orientation:"vertical",loop:f},h.createElement(rn.Provider,{value:L},n)))}))}))))}));an.displayName="Menu";var un=at((function(t,e){var n=t.as,i=void 0===n?"div":n,r=Ke(t,["as"]);return h.createElement(i,Ze({role:"group"},r,Y("MenuGroup"),{ref:e}))}));un.displayName="MenuGroup";var ln=at((function(t,e){var n=t.as,i=void 0===n?"div":n,r=Ke(t,["as"]);return h.createElement(i,Ze({},r,Y("MenuLabel"),{ref:e}))}));ln.displayName="MenuLabel";var cn="[".concat(K("MenuItem"),"]:not([data-disabled])"),hn=at((function(t,e){var n=t.as,o=void 0===n?"div":n,a=t.disabled,s=t.textValue,u=t.onSelect,l=Ke(t,["as","disabled","textValue","onSelect"]),c=h.useRef(null),f=mt(e,c),m=on("MenuItem"),d=Pe({disabled:a}),_=h.useState(""),p=Object(i.a)(_,2),v=p[0],y=p[1];h.useEffect((function(){var t,e=c.current;e&&y((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}),[l.children]);var b,g=r({},Xe,(b={textValue:null!=s?s:v,disabled:a}).disabled?void 0:b.textValue),x=function(){var t=c.current;if(!a&&t){var e,n=new Event("menu.itemSelect",{bubbles:!0,cancelable:!0});if(t.dispatchEvent(n),n.defaultPrevented)return;null===(e=m.onOpenChange)||void 0===e||e.call(m,!1)}};return h.useEffect((function(){var t=c.current;if(t){var e=function(t){return null==u?void 0:u(t)};return t.addEventListener("menu.itemSelect",e),function(){return t.removeEventListener("menu.itemSelect",e)}}}),[u]),h.createElement(o,Ze({role:"menuitem","aria-disabled":a||void 0},l,Y("MenuItem"),d,g,{ref:f,"data-disabled":a?"":void 0,onFocus:st(l.onFocus,d.onFocus),onKeyDown:st(l.onKeyDown,st(d.onKeyDown,(function(t){a||"Enter"!==t.key&&" "!==t.key||x()}))),onMouseDown:st(l.onMouseDown,d.onMouseDown),onMouseUp:st(l.onMouseUp,x),onMouseMove:st(l.onMouseMove,(function(t){a||t.currentTarget.focus()})),onBlur:st(l.onBlur,(function(t){m.setItemsReachable(!1)})),onMouseLeave:st(l.onMouseLeave,(function(t){var e;null===(e=m.menuRef.current)||void 0===e||e.focus()}))}))}));hn.displayName="MenuItem";var fn=at((function(t,e){var n=t.checked,i=void 0!==n&&n,r=t.onCheckedChange,o=t.children,a=Ke(t,["checked","onCheckedChange","children"]);return h.createElement(hn,Ze({role:"menuitemcheckbox","aria-checked":i},a,Y("MenuCheckboxItem"),{"data-state":xn(i),ref:e,onSelect:st(a.onSelect,(function(){return null==r?void 0:r(!i)}),{checkForDefaultPrevented:!1})}),h.createElement(pn.Provider,{value:i},o))}));fn.displayName="MenuCheckboxItem";var mn=h.createContext({}),dn=at((function(t,e){var n=t.children,i=t.value,r=t.onValueChange,o=Ke(t,["children","value","onValueChange"]),a=ht(r),s=h.useMemo((function(){return{value:i,onValueChange:a}}),[i,a]);return h.createElement(un,Ze({ref:e},o,Y("MenuRadioGroup")),h.createElement(mn.Provider,{value:s},n))}));dn.displayName="MenuRadioGroup";var _n=at((function(t,e){var n=t.value,i=t.children,r=Ke(t,["value","children"]),o=h.useContext(mn),a=n===o.value;return h.createElement(hn,Ze({role:"menuitemradio","aria-checked":a},r,Y("MenuRadioItem"),{"data-state":xn(a),ref:e,onSelect:st(r.onSelect,(function(){var t;return null===(t=o.onValueChange)||void 0===t?void 0:t.call(o,n)}),{checkForDefaultPrevented:!1})}),h.createElement(pn.Provider,{value:a},i))}));_n.displayName="MenuRadioItem";var pn=h.createContext(!1),vn=at((function(t,e){var n=t.as,i=void 0===n?"span":n,r=t.forceMount,o=Ke(t,["as","forceMount"]),a=h.useContext(pn);return h.createElement(Ue,{present:r||a},h.createElement(i,Ze({},o,Y("MenuItemIndicator"),{"data-state":xn(a),ref:e})))}));vn.displayName="MenuItemIndicator";var yn=at((function(t,e){var n=t.as,i=void 0===n?"div":n,r=Ke(t,["as"]);return h.createElement(i,Ze({role:"separator","aria-orientation":"horizontal"},r,Y("MenuSeparator"),{ref:e}))}));yn.displayName="MenuSeparator";var bn=ct(we,"MenuArrow");function gn(t){return t?"open":"closed"}function xn(t){return t?"checked":"unchecked"}var Sn=an,wn=un,Cn=ln,An=hn,Bn=fn,kn=dn,Vn=_n,Pn=vn,Mn=yn,On=bn;function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){Dn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tn(){return(Tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Ln(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Rn=ut("DropdownMenuContext","DropdownMenu"),En=Object(i.a)(Rn,2),Fn=En[0],Gn=En[1],Nn=function(t){var e=t.children,n=t.id,r=t.open,o=t.defaultOpen,a=t.onOpenChange,s=h.useRef(null),u=bt(),l=n||"dropdown-menu-".concat(u),c=dt({prop:r,defaultProp:o,onChange:a}),f=Object(i.a)(c,2),m=f[0],d=void 0!==m&&m,_=f[1],p=h.useMemo((function(){return{triggerRef:s,id:l,open:d,setOpen:_}}),[l,d,_]);return h.createElement(Fn.Provider,{value:p},e)};Nn.displayName="DropdownMenu";var zn=at((function(t,e){var n=t.as,i=void 0===n?"button":n,r=(t.onClick,Ln(t,["as","onClick"])),o=Gn("DropdownMenuTrigger"),a=mt(e,o.triggerRef);return h.createElement(i,Tn({},Y("DropdownMenuTrigger"),{ref:a,type:"button","aria-haspopup":"menu","aria-expanded":!!o.open||void 0,"aria-controls":o.open?o.id:void 0},r,{onMouseDown:st(r.onMouseDown,(function(t){0===t.button&&!1===t.ctrlKey&&o.setOpen((function(t){return!t}))})),onKeyDown:st(r.onKeyDown,(function(t){" "!==t.key&&"ArrowUp"!==t.key&&"ArrowDown"!==t.key||(t.preventDefault(),o.setOpen(!0))}))}))}));zn.displayName="DropdownMenuTrigger";var qn=at((function(t,e){var n=t.anchorRef,r=t.disableOutsidePointerEvents,o=void 0===r||r,a=(t.onPointerDownOutside,t.onInteractOutside),s=t.disableOutsideScroll,u=void 0===s||s,l=t.portalled,c=void 0===l||l,f=Ln(t,["anchorRef","disableOutsidePointerEvents","onPointerDownOutside","onInteractOutside","disableOutsideScroll","portalled"]),m=Gn("DropdownMenuContent"),d=h.useState(!1),_=Object(i.a)(d,2),p=_[0],v=_[1];return h.createElement(Sn,Tn({ref:e},f,Y("DropdownMenuContent"),{id:m.id,style:jn(jn({},f.style),{},{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}),open:m.open,onOpenChange:m.setOpen,anchorRef:n||m.triggerRef,trapFocus:!0,onCloseAutoFocus:function(t){var e;p?t.preventDefault():null===(e=m.triggerRef.current)||void 0===e||e.focus()},disableOutsidePointerEvents:o,onPointerDownOutside:function(t){var e,n=null===(e=m.triggerRef.current)||void 0===e?void 0:e.contains(t.target);v(!o),n?t.preventDefault():null==a||a(t),t.defaultPrevented&&v(!1)},onInteractOutside:a,disableOutsideScroll:u,portalled:c,onDismiss:function(){return m.setOpen(!1)}}))}));qn.displayName="DropdownMenuContent";var Un=ct(wn,"DropdownMenuGroup"),Jn=ct(Cn,"DropdownMenuLabel"),Wn=ct(An,"DropdownMenuItem"),Xn=(ct(Bn,"DropdownMenuCheckboxItem"),ct(kn,"DropdownMenuRadioGroup"),ct(Vn,"DropdownMenuRadioItem"),ct(Pn,"DropdownMenuItemIndicator"),ct(Mn,"DropdownMenuSeparator"),ct(On,"DropdownMenuArrow")),Hn=Nn,Qn=zn,$n=qn,Zn=Un,Kn=Jn,Yn=Wn,ti=Xn},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));function i(t,e,n){var i="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):i+=n+" "})),i}var r=function(t,e,n){var i=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[i]&&(t.registered[i]=e.styles),void 0===t.inserted[e.name]){var r=e;do{t.insert(e===r?"."+i:"",r,t.sheet,!0);r=r.next}while(void 0!==r)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(49);function r(t,e){if(t){if("string"===typeof t)return Object(i.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(t,e):void 0}}},function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var i=function(t){for(var e,n=0,i=0,r=t.length;r>=4;++i,r-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&t.charCodeAt(i+2))<<16;case 2:n^=(255&t.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(60),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(t){return 45===t.charCodeAt(1)},l=function(t){return null!=t&&"boolean"!==typeof t},c=Object(o.a)((function(t){return u(t)?t:t.replace(a,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(s,(function(t,e,n){return m={name:e,styles:n,next:m},e}))}return 1===r[t]||u(t)||"number"!==typeof e||0===e?e:e+"px"};function f(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return m={name:n.name,styles:n.styles,next:m},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)m={name:i.name,styles:i.styles,next:m},i=i.next;return n.styles+";"}return function(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=f(t,e,n[r])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=e&&void 0!==e[a]?i+=o+"{"+e[a]+"}":l(a)&&(i+=c(o)+":"+h(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=f(t,e,a);switch(o){case"animation":case"animationName":i+=c(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)l(a[u])&&(i+=c(o)+":"+h(o,a[u])+";")}return i}(t,e,n);case"function":if(void 0!==t){var r=m,o=n(t);return m=r,f(t,e,o)}break;case"string":}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var m,d=/label:\s*([^\s;\n{]+)\s*;/g;var _=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,o="";m=void 0;var a=t[0];null==a||void 0===a.raw?(r=!1,o+=f(n,e,a)):o+=a[0];for(var s=1;s<t.length;s++)o+=f(n,e,t[s]),r&&(o+=a[s]);d.lastIndex=0;for(var u,l="";null!==(u=d.exec(o));)l+="-"+u[1];return{name:i(o)+l,styles:o,next:m}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var i=n(8),r=function(t){return(0,i.requestAnimationFrame)(t)},o=function(t){void 0===t&&(t=r);var e=!0,n=!1,o=0,s=[],u=0,l=new Set,c=new Set,h=new Set,f=function(t){var e=s.indexOf(t);e<0&&(e=s.findIndex((function(e){return e.priority>t.priority})),s.splice(~e?e:s.length,0,t))},m=function n(){if(!e)try{p(),t(n)}catch(i){console.error(i)}},d=function(){e&&(e=!1,0==o&&(o=i.now(),t(m)))},_=[];this.setTimeout=function(t,e){var n=i.now()+e,r=a(_,(function(t){return t.time>n})),o={time:n,handler:t,cancel:function t(){var e=_.findIndex((function(e){return e.cancel==t}));e>=0&&_.splice(e,1)}};return _.splice(r,0,o),d(),o};var p=this.advance=function(){var t=i.now();if(l.size&&(l.forEach(f),l.clear()),_.length&&i.batchedUpdates((function(){var e=a(_,(function(e){return e.time>t}));_.splice(0,e).forEach((function(t){return t.handler()}))})),t>o){var e=Math.min(64,t-o);o=t,i.batchedUpdates((function(){s.length&&(i.willAdvance(s),s=s.filter((function(t){return u=t.priority,t.idle||t.advance(e),!t.idle})),u=0),c.size&&(c.forEach((function(e){return e(t)})),c.clear()),h.size&&(n=!0,h.forEach((function(e){return e(t)})),h.clear(),n=!1)}))}};this.start=function(t){u>t.priority?l.add(t):(f(t),d())},this.onFrame=function(t){c.add(t),d()},this.onWrite=function(t){n?t(o):h.add(t)}};function a(t,e){var n=t.findIndex(e);return n<0?t.length:n}}).call(this,n(70))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var i=n(9),r=function(t){return(0,i.requestAnimationFrame)(t)},o=function(t){void 0===t&&(t=r);var e=!0,n=!1,o=0,s=[],u=0,l=new Set,c=new Set,h=new Set,f=function(t){var e=s.indexOf(t);e<0&&(e=s.findIndex((function(e){return e.priority>t.priority})),s.splice(~e?e:s.length,0,t))},m=function n(){if(!e)try{p(),t(n)}catch(i){console.error(i)}},d=function(){e&&(e=!1,0==o&&(o=i.now(),t(m)))},_=[];this.setTimeout=function(t,e){var n=i.now()+e,r=a(_,(function(t){return t.time>n})),o={time:n,handler:t,cancel:function t(){var e=_.findIndex((function(e){return e.cancel==t}));e>=0&&_.splice(e,1)}};return _.splice(r,0,o),d(),o};var p=this.advance=function(){var t=i.now();if(l.size&&(l.forEach(f),l.clear()),_.length&&i.batchedUpdates((function(){var e=a(_,(function(e){return e.time>t}));_.splice(0,e).forEach((function(t){return t.handler()}))})),t>o){var e=Math.min(64,t-o);o=t,i.batchedUpdates((function(){s.length&&(i.willAdvance(s),s=s.filter((function(t){return u=t.priority,t.idle||t.advance(e),!t.idle})),u=0),c.size&&(c.forEach((function(e){return e(t)})),c.clear()),h.size&&(n=!0,h.forEach((function(e){return e(t)})),h.clear(),n=!1)}))}};this.start=function(t){u>t.priority?l.add(t):(f(t),d())},this.onFrame=function(t){c.add(t),d()},this.onWrite=function(t){n?t(o):h.add(t)}};function a(t,e){var n=t.findIndex(e);return n<0?t.length:n}}).call(this,n(70))},function(t,e,n){"use strict";e.a=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var i=t(n);return e.set(n,i),i}}},function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var i=n(0);function r(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}var o=function(t){var e=t.color,n=void 0===e?"currentColor":e,o=r(t,["color"]);return Object(i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),Object(i.createElement)("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))},a=function(t){var e=t.color,n=void 0===e?"currentColor":e,o=r(t,["color"]);return Object(i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),Object(i.createElement)("path",{d:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))},s=function(t){var e=t.color,n=void 0===e?"currentColor":e,o=r(t,["color"]);return Object(i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),Object(i.createElement)("path",{d:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(i){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}()},function(t,e,n){"use strict";function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var r=n(17),o=n(37),a="[-+]?\\d*\\.?\\d+",s=a+"%";function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var l=new RegExp("rgb"+u(a,a,a)),c=new RegExp("rgba"+u(a,a,a,a)),h=new RegExp("hsl"+u(a,s,s)),f=new RegExp("hsla"+u(a,s,s,a)),m=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,d=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_=/^#([0-9a-fA-F]{6})$/,p=/^#([0-9a-fA-F]{8})$/,v=n(9);function y(t,e,n){var i=(1-Math.abs(2*n-1))*e,r=n-i/2,o=function(t,e,n){return t<60?[e,n,0]:t<120?[n,e,0]:t<180?[0,e,n]:t<240?[0,n,e]:t<300?[n,0,e]:[e,0,n]}(t,i,i*(1-Math.abs(t/60%2-1))),a=o[0],s=o[1],u=o[2];return Math.round(255*(a+r))<<24|Math.round(255*(s+r))<<16|Math.round(255*(u+r))<<8}function b(t){var e=parseInt(t,10);return e<0?0:e>255?255:e}function g(t){return(parseFloat(t)%360+360)%360/360}function x(t){var e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function S(t){var e=parseFloat(t);return e<0?0:e>100?1:e/100}function w(t){var e=function(t){var e;return"number"===typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=_.exec(t))?parseInt(e[1]+"ff",16)>>>0:v.colorNames&&void 0!==v.colorNames[t]?v.colorNames[t]:(e=l.exec(t))?(b(e[1])<<24|b(e[2])<<16|b(e[3])<<8|255)>>>0:(e=c.exec(t))?(b(e[1])<<24|b(e[2])<<16|b(e[3])<<8|x(e[4]))>>>0:(e=m.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=p.exec(t))?parseInt(e[1],16)>>>0:(e=d.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=h.exec(t))?(255|y(g(e[1]),S(e[2]),S(e[3])))>>>0:(e=f.exec(t))?(y(g(e[1]),S(e[2]),S(e[3]))|x(e[4]))>>>0:null}(t);return null===e?t:"rgba("+((4278190080&(e=e||0))>>>24)+", "+((16711680&e)>>>16)+", "+((65280&e)>>>8)+", "+(255&e)/255+")"}var C,A=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,B=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,k=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,V=function(t,e,n,i,r){return"rgba("+Math.round(e)+", "+Math.round(n)+", "+Math.round(i)+", "+r+")"},P=function(t){C||(C=v.colorNames?new RegExp("("+Object.keys(v.colorNames).join("|")+")","g"):/^\b$/);var e=t.output.map((function(t){return Object(r.c)(t).replace(B,w).replace(C,w)})),n=e.map((function(t){return t.match(A).map(Number)})),a=n[0].map((function(t,e){return n.map((function(t){if(!(e in t))throw Error('The arity of each "output" value must be equal');return t[e]}))})).map((function(e){return Object(o.a)(i(i({},t),{output:e}))}));return function(t){var n=0;return e[0].replace(A,(function(){return String(a[n++](t))})).replace(k,V)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var i=n(23),r=n(16),o=n(35),a="[-+]?\\d*\\.?\\d+",s=a+"%";function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var l=new RegExp("rgb"+u(a,a,a)),c=new RegExp("rgba"+u(a,a,a,a)),h=new RegExp("hsl"+u(a,s,s)),f=new RegExp("hsla"+u(a,s,s,a)),m=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,d=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_=/^#([0-9a-fA-F]{6})$/,p=/^#([0-9a-fA-F]{8})$/,v=n(8);function y(t,e,n){var i=(1-Math.abs(2*n-1))*e,r=n-i/2,o=function(t,e,n){return t<60?[e,n,0]:t<120?[n,e,0]:t<180?[0,e,n]:t<240?[0,n,e]:t<300?[n,0,e]:[e,0,n]}(t,i,i*(1-Math.abs(t/60%2-1))),a=o[0],s=o[1],u=o[2];return Math.round(255*(a+r))<<24|Math.round(255*(s+r))<<16|Math.round(255*(u+r))<<8}function b(t){var e=parseInt(t,10);return e<0?0:e>255?255:e}function g(t){return(parseFloat(t)%360+360)%360/360}function x(t){var e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function S(t){var e=parseFloat(t);return e<0?0:e>100?1:e/100}function w(t){var e=function(t){var e;return"number"===typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=_.exec(t))?parseInt(e[1]+"ff",16)>>>0:v.colorNames&&void 0!==v.colorNames[t]?v.colorNames[t]:(e=l.exec(t))?(b(e[1])<<24|b(e[2])<<16|b(e[3])<<8|255)>>>0:(e=c.exec(t))?(b(e[1])<<24|b(e[2])<<16|b(e[3])<<8|x(e[4]))>>>0:(e=m.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=p.exec(t))?parseInt(e[1],16)>>>0:(e=d.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=h.exec(t))?(255|y(g(e[1]),S(e[2]),S(e[3])))>>>0:(e=f.exec(t))?(y(g(e[1]),S(e[2]),S(e[3]))|x(e[4]))>>>0:null}(t);return null===e?t:"rgba("+((4278190080&(e=e||0))>>>24)+", "+((16711680&e)>>>16)+", "+((65280&e)>>>8)+", "+(255&e)/255+")"}var C,A=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,B=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,k=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,V=function(t,e,n,i,r){return"rgba("+Math.round(e)+", "+Math.round(n)+", "+Math.round(i)+", "+r+")"},P=function(t){C||(C=v.colorNames?new RegExp("("+Object.keys(v.colorNames).join("|")+")","g"):/^\b$/);var e=t.output.map((function(t){return Object(r.c)(t).replace(B,w).replace(C,w)})),n=e.map((function(t){return t.match(A).map(Number)})),a=n[0].map((function(t,e){return n.map((function(t){if(!(e in t))throw Error('The arity of each "output" value must be equal');return t[e]}))})).map((function(e){return Object(o.a)(Object(i.a)(Object(i.a)({},t),{output:e}))}));return function(t){var n=0;return e[0].replace(A,(function(){return String(a[n++](t))})).replace(k,V)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(13),r=n(44);var o=n(52);function a(t,e,n){return(a=Object(o.a)()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}function s(t){var e="function"===typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return a(t,arguments,Object(i.a)(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(r.a)(o,t)})(t)}},function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))r.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";n.d(e,"useSpring",(function(){return It}));var i=n(27),r=n(4),o=n(7),a=n.n(o),s=n(15),u=n(13),l=n(11),c=n(5),h=n(6),f=n(55),m=n(24),d=n(21),_=n(3),p=n(20),v=n(30),y=n(1),b=n(16),g=n(25),x=n(38),S=n(35),w=n(12),C=n(0),A=n(18),B=n(8),k=n(64),V=n(65),P=n(29),M=n(54);var O=Object(w.a)(Object(w.a)({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:function(t){return t},clamp:!1}),I=function t(){Object(_.a)(this,t),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,O)};function j(t,e){if(y.d.und(e.decay)){var n=!y.d.und(e.tension)||!y.d.und(e.friction);!n&&y.d.und(e.frequency)&&y.d.und(e.damping)&&y.d.und(e.mass)||(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}else t.duration=void 0}var D=[],T=function t(){Object(_.a)(this,t),this.changed=!1,this.values=D,this.toValues=null,this.fromValues=D,this.to=void 0,this.from=void 0,this.config=new I,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]},L=function(t,e){return Object(k.b)(t,e||[{}])};function R(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return y.d.fun(t)?t.apply(void 0,n):t}var E=function(t,e){return!0===t||!!(e&&t&&(y.d.fun(t)?t(e):Object(y.h)(t).includes(e)))},F=function(t,e,n){return t&&(y.d.fun(t)?t(e,n):y.d.arr(t)?t[e]:Object(w.a)({},t))},G=function(t,e){return!0===t.default?t[e]:t.default?t.default[e]:void 0},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=z;t.default&&!0!==t.default&&(t=t.default,i=Object.keys(t));var r,o=Object(d.a)(i);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t[a];y.d.und(s)||e.includes(a)||(n[a]=s)}}catch(u){o.e(u)}finally{o.f()}return n},z=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],q={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function U(t){var e=function(t){var e={},n=0;if(Object(y.b)(t,(function(t,i){q[i]||(e[i]=t,n++)})),n)return e}(t);if(e){var n={to:e};return Object(y.b)(t,(function(t,i){return i in e||(n[i]=t)})),n}return Object(w.a)({},t)}function J(t){var e=Object(b.b)(t);return e?J(e.get()):y.d.arr(t)?t.map(J):Object(y.e)(t)?Object(B.createStringInterpolator)({range:[0,1],output:[t,t]})(1):t}function W(t,e){var n=e.key,i=e.props,r=e.state,o=e.actions;return new Promise((function(e,a){var s,u,l=!1,c=E(i.cancel,n);function h(){r.resumeQueue.add(f),u.cancel(),s=u.time-g.Globals.now()}function f(){s>0?(r.pauseQueue.add(h),u=g.Globals.frameLoop.setTimeout(m,s)):m()}function m(){r.pauseQueue.delete(h),t<=(r.cancelId||0)&&(c=!0);try{o.start(Object(w.a)(Object(w.a)({},i),{},{callId:t,delay:s,cancel:c,pause:l}),e)}catch(n){a(n)}}c?m():(s=R(i.delay||0,n),(l=E(i.pause,n))?(r.resumeQueue.add(f),o.pause()):(o.resume(),f()))}))}var X=function(t,e){return 1==e.length?e[0]:e.some((function(t){return t.cancelled}))?$(t):e.every((function(t){return t.noop}))?H(t):Q(t,e.every((function(t){return t.finished})))},H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.get();return{value:e,noop:!0,finished:!0,target:t}},Q=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.get();return{value:n,finished:e,target:t}},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.get();return{value:e,cancelled:!0,target:t}};function Z(t,e,n,i){return K.apply(this,arguments)}function K(){return(K=Object(m.a)(a.a.mark((function t(e,n,i,r){var o,s,u,l,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.pause){t.next=3;break}return t.next=3,new Promise((function(t){i.resumeQueue.add(t)}));case 3:if(o=n.callId,s=n.parentId,u=n.onRest,l=i.asyncTo,c=i.promise,s||e!==l||n.reset){t.next=7;break}return t.abrupt("return",c);case 7:return t.abrupt("return",i.promise=Object(m.a)(a.a.mark((function t(){var h,f,_,p,v,b,g,x;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.asyncId=o,i.asyncTo=e,h=N(n,["onRest"]),p=new Promise((function(t,e){return f=t,_=e})),v=function(t){var e=o<=(i.cancelId||0)&&$(r)||o!==i.asyncId&&Q(r,!1);if(e)throw t.result=e,t},b=function(t){return function(){var e=function(t){throw t instanceof tt&&_(t),t};try{return t.apply(void 0,arguments).catch(e)}catch(n){e(n)}}}((function(t,e){var n=new tt;v(n);var s=y.d.obj(t)?Object(w.a)({},t):Object(w.a)(Object(w.a)({},e),{},{to:t});return s.parentId=o,Object(y.b)(h,(function(t,e){y.d.und(s[e])&&(s[e]=t)})),r.start(s).then(function(){var t=Object(m.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(n),!r.is("PAUSED")){t.next=4;break}return t.next=4,new Promise((function(t){i.resumeQueue.add(t)}));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.prev=7,y.d.arr(e)?x=function(){var t=Object(m.a)(a.a.mark((function t(e){var n,i,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(d.a)(e),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=9;break}return r=i.value,t.next=7,b(r);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()(e):y.d.fun(e)&&(x=Promise.resolve(e(b,r.stop.bind(r)))),t.next=11,Promise.all([x.then(f),p]);case 11:g=Q(r,!0),t.next=21;break;case 14:if(t.prev=14,t.t0=t.catch(7),!(t.t0 instanceof tt)){t.next=20;break}g=t.t0.result,t.next=21;break;case 20:throw t.t0;case 21:return t.prev=21,o==i.asyncId&&(i.asyncId=s,i.asyncTo=s?l:void 0,i.promise=s?c:void 0),t.finish(21);case 24:return y.d.fun(u)&&Object(B.batchedUpdates)((function(){u(g)})),t.abrupt("return",g);case 26:case"end":return t.stop()}}),t,null,[[7,14,21,24]])})))());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t,e){t.cancelId=e,t.asyncId=t.asyncTo=t.promise=void 0}var tt=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(_.a)(this,n),(t=e.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,t}return n}(Object(f.a)(Error)),et=function(t){return t instanceof it},nt=1,it=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(_.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).id=nt++,t.key=void 0,t._priority=0,t._children=new Set,t}return Object(l.a)(n,[{key:"get",value:function(){var t=Object(A.f)(this);return t&&t.getValue()}},{key:"to",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(B.to)(this,e)}},{key:"interpolate",value:function(){Object(V.a)();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(B.to)(this,e)}},{key:"addChild",value:function(t){this._children.size||this._attach(),this._children.add(t)}},{key:"removeChild",value:function(t){this._children.delete(t),this._children.size||this._detach()}},{key:"onParentChange",value:function(t){var e=t.type;this.idle?"start"==e&&(this._reset(),this._start()):"reset"==e&&this._reset()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_reset",value:function(){this._emit({type:"reset",parent:this})}},{key:"_start",value:function(){this._emit({type:"start",parent:this})}},{key:"_onChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._emit({type:"change",parent:this,value:t,idle:e})}},{key:"_onPriorityChange",value:function(t){this.idle||B.frameLoop.start(this),this._emit({type:"priority",parent:this,priority:t})}},{key:"_emit",value:function(t){Object(y.b)(Array.from(this._children),(function(e){e.onParentChange(t)}))}},{key:"priority",get:function(){return this._priority},set:function(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}}]),n}(b.a),rt="CREATED",ot="IDLE",at="ACTIVE",st="PAUSED",ut="DISPOSED",lt=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t,i){var r;if(Object(_.a)(this,n),(r=e.call(this)).key=void 0,r.animation=new T,r.queue=void 0,r._phase=rt,r._state={pauseQueue:new Set,resumeQueue:new Set},r._defaultProps={},r._lastCallId=0,r._lastToId=0,!y.d.und(t)||!y.d.und(i)){var o=y.d.obj(t)?Object(w.a)({},t):Object(w.a)(Object(w.a)({},i),{},{from:t});o.default=!0,r.start(o)}return r}return Object(l.a)(n,[{key:"advance",value:function(t){var e=this,n=!0,i=!1,r=this.animation,o=r.config,a=r.toValues,s=Object(A.g)(r.to);if(!s){var u=Object(b.b)(r.to);u&&(a=Object(y.h)(u.get()))}return r.values.forEach((function(u,l){if(!u.done){var c=s?s[l].lastPosition:a[l],h=r.immediate,f=c;if(!h){if(f=u.lastPosition,o.tension<=0)return void(u.done=!0);var m,d=u.elapsedTime+=t,_=r.fromValues[l],p=null!=u.v0?u.v0:u.v0=y.d.arr(o.velocity)?o.velocity[l]:o.velocity;if(y.d.und(o.duration))if(o.decay){var v=!0===o.decay?.998:o.decay,b=Math.exp(-(1-v)*d);f=_+p/(1-v)*(1-b),h=Math.abs(u.lastPosition-f)<.1,m=p*b}else{m=null==u.lastVelocity?p:u.lastVelocity;for(var g=o.precision||(_==c?.005:Math.min(1,.001*Math.abs(c-_))),x=o.restVelocity||g/10,S=o.clamp?0:o.bounce,w=!y.d.und(S),C=_==c?u.v0>0:_<c,A=Math.ceil(t/1),B=0;B<A&&(Math.abs(m)>x||!(h=Math.abs(c-f)<=g));++B){w&&(f==c||f>c==C)&&(m=-m*S,f=c),f+=1*(m+=1*((1e-6*-o.tension*(f-c)+.001*-o.friction*m)/o.mass))}}else{var k=o.progress||0;o.duration<=0?k=1:k+=(1-k)*Math.min(1,d/o.duration),m=((f=_+o.easing(k)*(c-_))-u.lastPosition)/t,h=1==k}u.lastVelocity=m,Number.isNaN(f)&&(console.warn("Got NaN while animating:",e),h=!0)}s&&!s[l].done&&(h=!1),h?u.done=!0:n=!1,u.setValue(f,o.round)&&(i=!0)}})),n?this.finish():i&&this._onChange(this.get()),n}},{key:"is",value:function(t){return this._phase==t}},{key:"set",value:function(t){var e=this;return Object(B.batchedUpdates)((function(){if(e._focus(t),e._set(t)&&!e.is(at))return e._onChange(e.get(),!0);e._stop()})),this}},{key:"pause",value:function(){ct(this,"pause"),this.is(st)||(this._phase=st,Object(y.c)(this._state.pauseQueue,(function(t){return t()})))}},{key:"resume",value:function(){ct(this,"resume"),this.is(st)&&(this._start(),Object(y.c)(this._state.resumeQueue,(function(t){return t()})))}},{key:"finish",value:function(t){var e=this;if(this.resume(),this.is(at)){var n=this.animation;!n.config.decay&&y.d.und(t)&&(t=n.to),y.d.und(t)||this._set(t),Object(B.batchedUpdates)((function(){n.changed||(n.changed=!0,n.onStart&&n.onStart(e)),e._stop()}))}return this}},{key:"update",value:function(t){return ct(this,"update"),(this.queue||(this.queue=[])).push(t),this}},{key:"start",value:function(){var t=Object(m.a)(a.a.mark((function t(e,n){var i,r,o=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ct(this,"start"),y.d.und(e)?(i=this.queue||[],this.queue=[]):i=[y.d.obj(e)?e:Object(w.a)(Object(w.a)({},n),{},{to:e})],t.next=4,Promise.all(i.map((function(t){return o._update(t)})));case 4:return r=t.sent,t.abrupt("return",X(this,r));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"stop",value:function(t){var e=this;return this.is(ut)||(Y(this._state,this._lastCallId),this._focus(this.get()),Object(B.batchedUpdates)((function(){return e._stop(t)}))),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"dispose",value:function(){this.is(ut)||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase=ut)}},{key:"onParentChange",value:function(t){Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,t),"change"==t.type?this.is(at)||(this._reset(),this.is(st)||this._start()):"priority"==t.type&&(this.priority=t.priority+1)}},{key:"_prepareNode",value:function(t){var e=t.to,n=t.from,i=t.reverse,r=this.key||"",o={to:e=!y.d.obj(e)||Object(b.b)(e)?e:e[r],from:n=!y.d.obj(n)||Object(b.b)(n)?n:n[r]};if(this.is(rt)){if(i){var a=[n,e];e=a[0],n=a[1]}n=Object(b.c)(n);var s=this._updateNode(y.d.und(n)?Object(b.c)(e):n);s&&!y.d.und(n)&&s.setValue(n)}return o}},{key:"_updateNode",value:function(t){var e=Object(A.f)(this);if(!y.d.und(t)){var n=this._getNodeType(t);e&&e.constructor===n||Object(A.h)(this,e=n.create(t))}return e}},{key:"_getNodeType",value:function(t){var e=Object(A.f)(t);return e?e.constructor:y.d.arr(t)?A.a:Object(y.e)(t)?A.c:A.d}},{key:"_update",value:function(t,e){var n=this,i=this._defaultProps,r=function(e){var n=G(t,e);y.d.und(n)||(i[e]=n),i[e]&&(t[e]=i[e])};r("cancel"),r("pause");var o=this._prepareNode(t);return W(++this._lastCallId,{key:this.key,props:t,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,o)}}).then((function(i){if(t.loop&&i.finished&&(!e||!i.noop)){var r=mt(t);if(r)return n._update(r,!0)}return i}))}},{key:"_merge",value:function(t,e,n){if(e.cancel)return this.stop(!0),n($(this));var i=this.key,r=this.animation,o=this._defaultProps,a=!y.d.und(t.to),s=!y.d.und(t.from);if(a||s){if(!(e.callId>this._lastToId))return n($(this));this._lastToId=e.callId}var u=function(t){return y.d.und(e[t])?o[t]:e[t]},l=ht(u("onDelayEnd"),i);l&&l(e,this),e.default&&function(t,e,n){N(e,n,t)}(o,e,["pause","cancel"]);var c=r.to,h=r.from,f=t.to,m=void 0===f?c:f,d=t.from,_=void 0===d?h:d;if(s&&!a&&(m=_),e.reverse){var p=[_,m];m=p[0],_=p[1]}var v=!Object(y.f)(_,h);v&&(r.from=_);var g=!Object(y.f)(m,c);g&&this._focus(m);var x=Object(b.b)(m),S=Object(b.b)(_);S&&(_=S.get());var C=y.d.arr(e.to)||y.d.fun(e.to),k=r.config,V=k.decay,P=k.velocity;e.config&&!C&&function(t,e,n){for(var i in n&&(j(n=Object(w.a)({},n),e),e=Object(w.a)(Object(w.a)({},n),e)),j(t,e),Object.assign(t,e),O)null==t[i]&&(t[i]=O[i]);var r=t.mass,o=t.frequency,a=t.damping;y.d.und(o)||(o<.01&&(o=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/o,2)*r,t.friction=4*Math.PI*a*r/o)}(k,R(e.config,i),e.config!==o.config?R(o.config,i):void 0);var M=Object(A.f)(this);if(!M||y.d.und(m))return n(Q(this,!0));var I=y.d.und(e.reset)?s&&!e.default:!y.d.und(_)&&E(e.reset,i),D=I?_:this.get(),T=J(m),L=y.d.num(T)||y.d.arr(T)||Object(y.e)(T),F=!C&&(!L||E(o.immediate||e.immediate,i));if(g)if(F)M=this._updateNode(T);else{var G=this._getNodeType(m);if(G!==M.constructor)throw Error("Cannot animate between "+M.constructor.name+" and "+G.name+', as the "to" prop suggests')}var z=M.constructor,q=!!x,U=!1;if(!q){var W=I||this.is(rt)&&v;(g||W)&&(q=!(U=Object(y.f)(J(D),T))),Object(y.f)(k.decay,V)&&Object(y.f)(k.velocity,P)||(q=!0)}if(U&&this.is(at)&&(r.changed&&!I?q=!0:q||this._stop()),!C){(q||Object(b.b)(c))&&(r.values=M.getPayload(),r.toValues=x?null:z==A.c?[1]:Object(y.h)(T)),r.immediate=F,r.onStart=ht(u("onStart"),i),r.onChange=ht(u("onChange"),i);var X=r.onRest,K=I&&!e.onRest?X[0]||y.g:ft(ht(u("onRest"),i),this);if(q){r.onRest=[K,ft(n,this)];var Y=I?0:1;Y<X.length&&Object(B.batchedUpdates)((function(){for(;Y<X.length;Y++)X[Y]()}))}else(I||e.onRest)&&(r.onRest[0]=K)}var tt=ht(u("onProps"),i);tt&&tt(e,this),I&&M.setValue(D),C?n(Z(e.to,e,this._state,this)):q?(I&&(this._phase=ot),this._reset(),this._start()):this.is(at)&&!g?r.onRest.push(ft(n,this)):n(H(this,D))}},{key:"_focus",value:function(t){var e=this.animation;if(t!==e.to){var n=Object(b.b)(e.to);n&&n.removeChild(this),e.to=t;var i=0;(n=Object(b.b)(t))&&(n.addChild(this),et(t)&&(i=(t.priority||0)+1)),this.priority=i}}},{key:"_set",value:function(t){var e=Object(b.b)(t);e&&(t=e.get());var n=Object(A.f)(this),i=n&&n.getValue();return n?n.setValue(t):this._updateNode(t),!Object(y.f)(t,i)}},{key:"_onChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.animation;i.changed||e||(i.changed=!0,i.onStart&&i.onStart(this)),i.onChange&&i.onChange(t,this),Object(s.a)(Object(u.a)(n.prototype),"_onChange",this).call(this,t,e)}},{key:"_reset",value:function(){var t=this.animation;Object(A.f)(this).reset(t.to),this.is(at)||(t.changed=!1),t.immediate||(t.fromValues=t.values.map((function(t){return t.lastPosition}))),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.is(at)||(this._phase=at,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),B.skipAnimation?this.finish():B.frameLoop.start(this))}},{key:"_stop",value:function(t){if(this.resume(),this.is(at)){this._phase=ot,this._onChange(this.get(),!0);var e=this.animation;Object(y.b)(e.values,(function(t){t.done=!0}));var n=e.onRest;n.length&&(e.onRest=[e.toValues?y.g:n[0]],e.changed||(n[0]=y.g),Object(y.b)(n,(function(e){return e(t)})))}}},{key:"idle",get:function(){return!this.is(at)&&!this._state.asyncTo}},{key:"goal",get:function(){return Object(b.c)(this.animation.to)}},{key:"velocity",get:function(){var t=Object(A.f)(this);return t instanceof A.d?t.lastVelocity||0:t.getPayload().map((function(t){return t.lastVelocity||0}))}}]),n}(it);function ct(t,e){if(t.is(ut))throw Error('Cannot call "'+e+'" of disposed "'+t.constructor.name+'" object')}function ht(t,e){return y.d.fun(t)?t:e&&t?t[e]:void 0}var ft=function(t,e){var n=e.animation.to;return t?function(i){if(i)t($(e));else{var r=J(n),o=J(e.get()),a=Object(y.f)(o,r);t(Q(e,a))}}:y.g};function mt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.to,i=R(e);if(i){var r=!0!==i&&U(i),o=(r||t).reverse,a=!r||r.reset;return dt(Object(w.a)(Object(w.a)({},t),{},{loop:e,default:!1,to:!o||y.d.arr(n)||y.d.fun(n)?n:void 0,from:a?t.from:void 0,reset:a},r))}}function dt(t){var e=t=U(t),n=e.to,i=e.from,r=new Set;return i?pt(i,r):delete t.from,y.d.obj(n)?pt(n,r):n||delete t.to,t.keys=r.size?Array.from(r):null,t}function _t(t){var e=dt(t);return y.d.und(e.default)&&(e.default=N(e,[!0===e.immediate&&"immediate"])),e}function pt(t,e){Object(y.b)(t,(function(t,n){return null!=t&&e.add(n)}))}var vt=["onStart","onChange","onRest"],yt=1,bt=function(){function t(e,n){Object(_.a)(this,t),this.id=yt++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase=rt,this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(e)}return Object(l.a)(t,[{key:"is",value:function(t){return this._phase==t}},{key:"get",value:function(){var t={};return this.each((function(e,n){return t[n]=e.get()})),t}},{key:"update",value:function(t){return t&&this.queue.push(dt(t)),this}},{key:"start",value:function(t){var e=t?Object(y.h)(t).map(dt):this.queue;return t||(this.queue=[]),this._flush?this._flush(this,e):(Bt(this,e),gt(this,e))}},{key:"stop",value:function(t){if(y.d.und(t))this.each((function(t){return t.stop()})),Y(this._state,this._lastAsyncId);else{var e=this.springs;Object(y.b)(Object(y.h)(t),(function(t){return e[t].stop()}))}return this}},{key:"pause",value:function(t){if(y.d.und(t))this.each((function(t){return t.pause()}));else{var e=this.springs;Object(y.b)(Object(y.h)(t),(function(t){return e[t].pause()}))}return this}},{key:"resume",value:function(t){if(y.d.und(t))this.each((function(t){return t.resume()}));else{var e=this.springs;Object(y.b)(Object(y.h)(t),(function(t){return e[t].resume()}))}return this}},{key:"reset",value:function(){return this.each((function(t){return t.reset()})),this}},{key:"each",value:function(t){Object(y.b)(this.springs,t)}},{key:"dispose",value:function(){this._state.asyncTo=void 0,this.each((function(t){return t.dispose()})),this.springs={}}},{key:"_onFrame",value:function(){var t=this,e=this._events,n=e.onStart,i=e.onChange,o=e.onRest,a=this._active.size>0;a&&this._phase!=at&&(this._phase=at,Object(y.c)(n,(function(e){return e(t)})));var s=(i.size||!a&&o.size)&&this.get();Object(y.c)(i,(function(t){return t(s)})),a||(this._phase=ot,Object(y.c)(o,(function(t){var e=Object(r.a)(t,2),n=e[0],i=e[1];i.value=s,n(i)})))}},{key:"onParentChange",value:function(t){"change"==t.type&&(this._active[t.idle?"delete":"add"](t.parent),B.frameLoop.onFrame(this._onFrame))}},{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(t){return t.idle}))}}]),t}();function gt(t,e){return Promise.all(e.map((function(e){return xt(t,e)}))).then((function(e){return X(t,e)}))}function xt(t,e,n){var i=e.to,r=e.loop,o=e.onRest;r&&(e.loop=!1);var a=y.d.arr(i)||y.d.fun(i)?i:void 0;a?(e.to=void 0,e.onRest=void 0):Object(y.b)(vt,(function(n){var i=e[n];if(y.d.fun(i)){var r=t._events[n];r instanceof Set?e[n]=function(){return r.add(i)}:e[n]=function(t){var e=t.finished,n=t.cancelled,o=r.get(i);o?(e||(o.finished=!1),n&&(o.cancelled=!0)):r.set(i,{value:null,finished:e,cancelled:n})}}}));var s=(e.keys||Object.keys(t.springs)).map((function(n){return t.springs[n].start(e)})),u=t._state;return a?s.push(W(++t._lastAsyncId,{props:e,state:u,actions:{pause:y.g,resume:y.g,start:function(e,n){e.onRest=o,e.cancel?function(t,e){return!y.d.und(G(t,e))}(e,"cancel")&&Y(u,e.callId):n(Z(a,e,u,t))}}})):e.keys||!0!==e.cancel||Y(u,t._lastAsyncId),Promise.all(s).then((function(o){var a=X(t,o);if(r&&a.finished&&(!n||!a.noop)){var s=mt(e,r,i);if(s)return Bt(t,[s]),xt(t,s,!0)}return a}))}function St(t,e){var n=Object(w.a)({},t.springs);return e&&Object(y.b)(Object(y.h)(e),(function(t){y.d.und(t.keys)&&(t=dt(t)),y.d.obj(t.to)||(t=Object(w.a)(Object(w.a)({},t),{},{to:void 0})),At(n,t,(function(t){return Ct(t)}))})),n}function wt(t,e){Object(y.b)(e,(function(e,n){t.springs[n]||(t.springs[n]=e,e.addChild(t))}))}function Ct(t,e){var n=new lt;return n.key=t,e&&n.addChild(e),n}function At(t,e,n){e.keys&&Object(y.b)(e.keys,(function(i){(t[i]||(t[i]=n(i)))._prepareNode(e)}))}function Bt(t,e){Object(y.b)(e,(function(e){At(t.springs,e,(function(e){return Ct(e,t)}))}))}var kt=Object(C.createContext)({}),Vt=function(t){var e=t.children,n=Object(P.a)(t,["children"]),i=Object(C.useContext)(kt);n=L((function(){return Object(w.a)(Object(w.a)({},i),n)}),[i,n.pause,n.cancel,n.immediate,n.config]);var r=kt.Provider;return Object(C.createElement)(r,{value:n},e)};Vt.Provider=kt.Provider,Vt.Consumer=kt.Consumer;var Pt=function(){return Object(C.useContext)(kt)},Mt=function(t){return{get controllers(){return t()},update:function(e){return Object(y.b)(t(),(function(t,n){t.update(F(e,n,t))})),this},start:function(e){return Object(m.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t().map((function(t,n){var i=F(e,n,t);return t.start(i)})));case 2:return i=n.sent,n.abrupt("return",{value:i.map((function(t){return t.value})),finished:i.every((function(t){return t.finished}))});case 4:case"end":return n.stop()}}),n)})))()},stop:function(e){return Object(y.b)(t(),(function(t){return t.stop(e)}))},pause:function(e){return Object(y.b)(t(),(function(t){return t.pause(e)}))},resume:function(e){return Object(y.b)(t(),(function(t){return t.resume(e)}))}}};function Ot(t,e,n){var i=y.d.fun(e)&&e;i&&!n&&(n=[]);var o=Object(C.useRef)(0),a=Object(x.a)(),s=Object(C.useState)((function(){return{ctrls:[],queue:[],flush:function(t,e){var n=St(t,e);return o.current>0&&!l.queue.length&&!Object.keys(n).some((function(e){return!t.springs[e]}))?gt(t,e):new Promise((function(i){wt(t,n),l.queue.push((function(){i(gt(t,e))})),a()}))}}})),u=Object(r.a)(s,1),l=u[0],c=Object(C.useRef)(),h=Object(p.a)(l.ctrls),f=[],m=Object(x.c)(t)||0,d=h.slice(t,m);function _(t,n){for(var r=t;r<n;r++){var o=h[r]||(h[r]=new bt(null,l.flush)),a=i?i(r,o):e[r];a&&(a=f[r]=_t(a),0==r&&(c.current=a.ref,a.ref=void 0))}}L((function(){h.length=t,_(m,t)}),[t]),L((function(){_(0,Math.min(m,t))}),n);var b=Object(C.useMemo)((function(){return Mt((function(){return l.ctrls}))}),[]),g=h.map((function(t,e){return St(t,f[e])})),S=Pt();Object(v.a)((function(){o.current++,l.ctrls=h,c.current&&(c.current.current=b);var t=l.queue;t.length&&(l.queue=[],Object(y.b)(t,(function(t){return t()}))),Object(y.b)(d,(function(t){return t.dispose()})),Object(y.b)(h,(function(t,e){wt(t,g[e]),t.start({default:S});var n=f[e];n&&(c.current?t.queue.push(n):t.start(n))}))})),Object(x.b)((function(){return function(){Object(y.b)(l.ctrls,(function(t){return t.dispose()}))}}));var A=g.map((function(t){return Object(w.a)({},t)}));return i||3==arguments.length?[A,b.start,b.stop]:A}function It(t,e){var n=y.d.fun(t),i=Ot(1,n?t:[t],n?e||[]:e),o=Object(r.a)(i,3),a=Object(r.a)(o[0],1),s=a[0],u=o[1],l=o[2];return n||2==arguments.length?[s,u,l]:s}var jt=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t,r){var o;Object(_.a)(this,n),(o=e.call(this)).source=t,o.key=void 0,o.idle=!0,o.calc=void 0,o.calc=S.a.apply(void 0,Object(p.a)(r));var a=o._get(),s=y.d.arr(a)?A.a:A.d;return Object(A.h)(Object(i.a)(o),s.create(a)),o}return Object(l.a)(n,[{key:"advance",value:function(t){var e=this._get(),n=this.get();Object(y.f)(e,n)||(Object(A.f)(this).setValue(e),this._onChange(e,this.idle))}},{key:"_get",value:function(){var t=y.d.arr(this.source)?this.source.map((function(t){return t.get()})):Object(y.h)(this.source.get());return this.calc.apply(this,Object(p.a)(t))}},{key:"_reset",value:function(){Object(y.b)(Object(A.g)(this),(function(t){return t.reset()})),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.idle=!1,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),B.skipAnimation?(this.idle=!0,this.advance()):B.frameLoop.start(this)}},{key:"_attach",value:function(){var t=this,e=!0,n=1;Object(y.b)(Object(y.h)(this.source),(function(i){et(i)&&(i.idle||(e=!1),n=Math.max(n,i.priority+1)),i.addChild(t)})),this.priority=n,e||(this._reset(),this._start())}},{key:"_detach",value:function(){var t=this;Object(y.b)(Object(y.h)(this.source),(function(e){e.removeChild(t)})),this.idle=!0}},{key:"onParentChange",value:function(t){"start"==t.type?this.advance():"change"==t.type?this.idle?this.advance():t.idle&&(this.idle=Object(y.h)(this.source).every((function(t){return!1!==t.idle})),this.idle&&(this.advance(),Object(y.b)(Object(A.g)(this),(function(t){t.done=!0})))):"priority"==t.type&&(this.priority=Object(y.h)(this.source).reduce((function(t,e){return Math.max(t,(e.priority||0)+1)}),0)),Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,t)}}]),n}(it);g.Globals.assign({createStringInterpolator:M.a,to:function(t,e){return new jt(t,e)}})},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){"use strict";n.d(e,"useSpring",(function(){return It}));var i=n(27),r=n(4),o=n(7),a=n.n(o),s=n(15),u=n(13),l=n(11),c=n(5),h=n(6),f=n(55),m=n(24),d=n(21),_=n(3),p=n(20),v=n(31),y=n(2),b=n(17),g=n(26),x=n(39),S=n(37),w=n(10),C=n(0),A=n(19),B=n(9),k=n(66),V=n(67),P=n(32),M=n(53);var O=Object(w.a)(Object(w.a)({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:function(t){return t},clamp:!1}),I=function t(){Object(_.a)(this,t),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,O)};function j(t,e){if(y.d.und(e.decay)){var n=!y.d.und(e.tension)||!y.d.und(e.friction);!n&&y.d.und(e.frequency)&&y.d.und(e.damping)&&y.d.und(e.mass)||(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}else t.duration=void 0}var D=[],T=function t(){Object(_.a)(this,t),this.changed=!1,this.values=D,this.toValues=null,this.fromValues=D,this.to=void 0,this.from=void 0,this.config=new I,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]},L=function(t,e){return Object(k.b)(t,e||[{}])};function R(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return y.d.fun(t)?t.apply(void 0,n):t}var E=function(t,e){return!0===t||!!(e&&t&&(y.d.fun(t)?t(e):Object(y.h)(t).includes(e)))},F=function(t,e,n){return t&&(y.d.fun(t)?t(e,n):y.d.arr(t)?t[e]:Object(w.a)({},t))},G=function(t,e){return!0===t.default?t[e]:t.default?t.default[e]:void 0},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=z;t.default&&!0!==t.default&&(t=t.default,i=Object.keys(t));var r,o=Object(d.a)(i);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t[a];y.d.und(s)||e.includes(a)||(n[a]=s)}}catch(u){o.e(u)}finally{o.f()}return n},z=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],q={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function U(t){var e=function(t){var e={},n=0;if(Object(y.b)(t,(function(t,i){q[i]||(e[i]=t,n++)})),n)return e}(t);if(e){var n={to:e};return Object(y.b)(t,(function(t,i){return i in e||(n[i]=t)})),n}return Object(w.a)({},t)}function J(t){var e=Object(b.b)(t);return e?J(e.get()):y.d.arr(t)?t.map(J):Object(y.e)(t)?Object(B.createStringInterpolator)({range:[0,1],output:[t,t]})(1):t}function W(t,e){var n=e.key,i=e.props,r=e.state,o=e.actions;return new Promise((function(e,a){var s,u,l=!1,c=E(i.cancel,n);function h(){r.resumeQueue.add(f),u.cancel(),s=u.time-g.Globals.now()}function f(){s>0?(r.pauseQueue.add(h),u=g.Globals.frameLoop.setTimeout(m,s)):m()}function m(){r.pauseQueue.delete(h),t<=(r.cancelId||0)&&(c=!0);try{o.start(Object(w.a)(Object(w.a)({},i),{},{callId:t,delay:s,cancel:c,pause:l}),e)}catch(n){a(n)}}c?m():(s=R(i.delay||0,n),(l=E(i.pause,n))?(r.resumeQueue.add(f),o.pause()):(o.resume(),f()))}))}var X=function(t,e){return 1==e.length?e[0]:e.some((function(t){return t.cancelled}))?$(t):e.every((function(t){return t.noop}))?H(t):Q(t,e.every((function(t){return t.finished})))},H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.get();return{value:e,noop:!0,finished:!0,target:t}},Q=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.get();return{value:n,finished:e,target:t}},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.get();return{value:e,cancelled:!0,target:t}};function Z(t,e,n,i){return K.apply(this,arguments)}function K(){return(K=Object(m.a)(a.a.mark((function t(e,n,i,r){var o,s,u,l,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.pause){t.next=3;break}return t.next=3,new Promise((function(t){i.resumeQueue.add(t)}));case 3:if(o=n.callId,s=n.parentId,u=n.onRest,l=i.asyncTo,c=i.promise,s||e!==l||n.reset){t.next=7;break}return t.abrupt("return",c);case 7:return t.abrupt("return",i.promise=Object(m.a)(a.a.mark((function t(){var h,f,_,p,v,b,g,x;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.asyncId=o,i.asyncTo=e,h=N(n,["onRest"]),p=new Promise((function(t,e){return f=t,_=e})),v=function(t){var e=o<=(i.cancelId||0)&&$(r)||o!==i.asyncId&&Q(r,!1);if(e)throw t.result=e,t},b=function(t){return function(){var e=function(t){throw t instanceof tt&&_(t),t};try{return t.apply(void 0,arguments).catch(e)}catch(n){e(n)}}}((function(t,e){var n=new tt;v(n);var s=y.d.obj(t)?Object(w.a)({},t):Object(w.a)(Object(w.a)({},e),{},{to:t});return s.parentId=o,Object(y.b)(h,(function(t,e){y.d.und(s[e])&&(s[e]=t)})),r.start(s).then(function(){var t=Object(m.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(n),!r.is("PAUSED")){t.next=4;break}return t.next=4,new Promise((function(t){i.resumeQueue.add(t)}));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.prev=7,y.d.arr(e)?x=function(){var t=Object(m.a)(a.a.mark((function t(e){var n,i,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(d.a)(e),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=9;break}return r=i.value,t.next=7,b(r);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()(e):y.d.fun(e)&&(x=Promise.resolve(e(b,r.stop.bind(r)))),t.next=11,Promise.all([x.then(f),p]);case 11:g=Q(r,!0),t.next=21;break;case 14:if(t.prev=14,t.t0=t.catch(7),!(t.t0 instanceof tt)){t.next=20;break}g=t.t0.result,t.next=21;break;case 20:throw t.t0;case 21:return t.prev=21,o==i.asyncId&&(i.asyncId=s,i.asyncTo=s?l:void 0,i.promise=s?c:void 0),t.finish(21);case 24:return y.d.fun(u)&&Object(B.batchedUpdates)((function(){u(g)})),t.abrupt("return",g);case 26:case"end":return t.stop()}}),t,null,[[7,14,21,24]])})))());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t,e){t.cancelId=e,t.asyncId=t.asyncTo=t.promise=void 0}var tt=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(_.a)(this,n),(t=e.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,t}return n}(Object(f.a)(Error)),et=function(t){return t instanceof it},nt=1,it=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(_.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).id=nt++,t.key=void 0,t._priority=0,t._children=new Set,t}return Object(l.a)(n,[{key:"get",value:function(){var t=Object(A.f)(this);return t&&t.getValue()}},{key:"to",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(B.to)(this,e)}},{key:"interpolate",value:function(){Object(V.a)();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(B.to)(this,e)}},{key:"addChild",value:function(t){this._children.size||this._attach(),this._children.add(t)}},{key:"removeChild",value:function(t){this._children.delete(t),this._children.size||this._detach()}},{key:"onParentChange",value:function(t){var e=t.type;this.idle?"start"==e&&(this._reset(),this._start()):"reset"==e&&this._reset()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_reset",value:function(){this._emit({type:"reset",parent:this})}},{key:"_start",value:function(){this._emit({type:"start",parent:this})}},{key:"_onChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._emit({type:"change",parent:this,value:t,idle:e})}},{key:"_onPriorityChange",value:function(t){this.idle||B.frameLoop.start(this),this._emit({type:"priority",parent:this,priority:t})}},{key:"_emit",value:function(t){Object(y.b)(Array.from(this._children),(function(e){e.onParentChange(t)}))}},{key:"priority",get:function(){return this._priority},set:function(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}}]),n}(b.a),rt="CREATED",ot="IDLE",at="ACTIVE",st="PAUSED",ut="DISPOSED",lt=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t,i){var r;if(Object(_.a)(this,n),(r=e.call(this)).key=void 0,r.animation=new T,r.queue=void 0,r._phase=rt,r._state={pauseQueue:new Set,resumeQueue:new Set},r._defaultProps={},r._lastCallId=0,r._lastToId=0,!y.d.und(t)||!y.d.und(i)){var o=y.d.obj(t)?Object(w.a)({},t):Object(w.a)(Object(w.a)({},i),{},{from:t});o.default=!0,r.start(o)}return r}return Object(l.a)(n,[{key:"advance",value:function(t){var e=this,n=!0,i=!1,r=this.animation,o=r.config,a=r.toValues,s=Object(A.g)(r.to);if(!s){var u=Object(b.b)(r.to);u&&(a=Object(y.h)(u.get()))}return r.values.forEach((function(u,l){if(!u.done){var c=s?s[l].lastPosition:a[l],h=r.immediate,f=c;if(!h){if(f=u.lastPosition,o.tension<=0)return void(u.done=!0);var m,d=u.elapsedTime+=t,_=r.fromValues[l],p=null!=u.v0?u.v0:u.v0=y.d.arr(o.velocity)?o.velocity[l]:o.velocity;if(y.d.und(o.duration))if(o.decay){var v=!0===o.decay?.998:o.decay,b=Math.exp(-(1-v)*d);f=_+p/(1-v)*(1-b),h=Math.abs(u.lastPosition-f)<.1,m=p*b}else{m=null==u.lastVelocity?p:u.lastVelocity;for(var g=o.precision||(_==c?.005:Math.min(1,.001*Math.abs(c-_))),x=o.restVelocity||g/10,S=o.clamp?0:o.bounce,w=!y.d.und(S),C=_==c?u.v0>0:_<c,A=Math.ceil(t/1),B=0;B<A&&(Math.abs(m)>x||!(h=Math.abs(c-f)<=g));++B){w&&(f==c||f>c==C)&&(m=-m*S,f=c),f+=1*(m+=1*((1e-6*-o.tension*(f-c)+.001*-o.friction*m)/o.mass))}}else{var k=o.progress||0;o.duration<=0?k=1:k+=(1-k)*Math.min(1,d/o.duration),m=((f=_+o.easing(k)*(c-_))-u.lastPosition)/t,h=1==k}u.lastVelocity=m,Number.isNaN(f)&&(console.warn("Got NaN while animating:",e),h=!0)}s&&!s[l].done&&(h=!1),h?u.done=!0:n=!1,u.setValue(f,o.round)&&(i=!0)}})),n?this.finish():i&&this._onChange(this.get()),n}},{key:"is",value:function(t){return this._phase==t}},{key:"set",value:function(t){var e=this;return Object(B.batchedUpdates)((function(){if(e._focus(t),e._set(t)&&!e.is(at))return e._onChange(e.get(),!0);e._stop()})),this}},{key:"pause",value:function(){ct(this,"pause"),this.is(st)||(this._phase=st,Object(y.c)(this._state.pauseQueue,(function(t){return t()})))}},{key:"resume",value:function(){ct(this,"resume"),this.is(st)&&(this._start(),Object(y.c)(this._state.resumeQueue,(function(t){return t()})))}},{key:"finish",value:function(t){var e=this;if(this.resume(),this.is(at)){var n=this.animation;!n.config.decay&&y.d.und(t)&&(t=n.to),y.d.und(t)||this._set(t),Object(B.batchedUpdates)((function(){n.changed||(n.changed=!0,n.onStart&&n.onStart(e)),e._stop()}))}return this}},{key:"update",value:function(t){return ct(this,"update"),(this.queue||(this.queue=[])).push(t),this}},{key:"start",value:function(){var t=Object(m.a)(a.a.mark((function t(e,n){var i,r,o=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ct(this,"start"),y.d.und(e)?(i=this.queue||[],this.queue=[]):i=[y.d.obj(e)?e:Object(w.a)(Object(w.a)({},n),{},{to:e})],t.next=4,Promise.all(i.map((function(t){return o._update(t)})));case 4:return r=t.sent,t.abrupt("return",X(this,r));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"stop",value:function(t){var e=this;return this.is(ut)||(Y(this._state,this._lastCallId),this._focus(this.get()),Object(B.batchedUpdates)((function(){return e._stop(t)}))),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"dispose",value:function(){this.is(ut)||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase=ut)}},{key:"onParentChange",value:function(t){Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,t),"change"==t.type?this.is(at)||(this._reset(),this.is(st)||this._start()):"priority"==t.type&&(this.priority=t.priority+1)}},{key:"_prepareNode",value:function(t){var e=t.to,n=t.from,i=t.reverse,r=this.key||"",o={to:e=!y.d.obj(e)||Object(b.b)(e)?e:e[r],from:n=!y.d.obj(n)||Object(b.b)(n)?n:n[r]};if(this.is(rt)){if(i){var a=[n,e];e=a[0],n=a[1]}n=Object(b.c)(n);var s=this._updateNode(y.d.und(n)?Object(b.c)(e):n);s&&!y.d.und(n)&&s.setValue(n)}return o}},{key:"_updateNode",value:function(t){var e=Object(A.f)(this);if(!y.d.und(t)){var n=this._getNodeType(t);e&&e.constructor===n||Object(A.h)(this,e=n.create(t))}return e}},{key:"_getNodeType",value:function(t){var e=Object(A.f)(t);return e?e.constructor:y.d.arr(t)?A.a:Object(y.e)(t)?A.c:A.d}},{key:"_update",value:function(t,e){var n=this,i=this._defaultProps,r=function(e){var n=G(t,e);y.d.und(n)||(i[e]=n),i[e]&&(t[e]=i[e])};r("cancel"),r("pause");var o=this._prepareNode(t);return W(++this._lastCallId,{key:this.key,props:t,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,o)}}).then((function(i){if(t.loop&&i.finished&&(!e||!i.noop)){var r=mt(t);if(r)return n._update(r,!0)}return i}))}},{key:"_merge",value:function(t,e,n){if(e.cancel)return this.stop(!0),n($(this));var i=this.key,r=this.animation,o=this._defaultProps,a=!y.d.und(t.to),s=!y.d.und(t.from);if(a||s){if(!(e.callId>this._lastToId))return n($(this));this._lastToId=e.callId}var u=function(t){return y.d.und(e[t])?o[t]:e[t]},l=ht(u("onDelayEnd"),i);l&&l(e,this),e.default&&function(t,e,n){N(e,n,t)}(o,e,["pause","cancel"]);var c=r.to,h=r.from,f=t.to,m=void 0===f?c:f,d=t.from,_=void 0===d?h:d;if(s&&!a&&(m=_),e.reverse){var p=[_,m];m=p[0],_=p[1]}var v=!Object(y.f)(_,h);v&&(r.from=_);var g=!Object(y.f)(m,c);g&&this._focus(m);var x=Object(b.b)(m),S=Object(b.b)(_);S&&(_=S.get());var C=y.d.arr(e.to)||y.d.fun(e.to),k=r.config,V=k.decay,P=k.velocity;e.config&&!C&&function(t,e,n){for(var i in n&&(j(n=Object(w.a)({},n),e),e=Object(w.a)(Object(w.a)({},n),e)),j(t,e),Object.assign(t,e),O)null==t[i]&&(t[i]=O[i]);var r=t.mass,o=t.frequency,a=t.damping;y.d.und(o)||(o<.01&&(o=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/o,2)*r,t.friction=4*Math.PI*a*r/o)}(k,R(e.config,i),e.config!==o.config?R(o.config,i):void 0);var M=Object(A.f)(this);if(!M||y.d.und(m))return n(Q(this,!0));var I=y.d.und(e.reset)?s&&!e.default:!y.d.und(_)&&E(e.reset,i),D=I?_:this.get(),T=J(m),L=y.d.num(T)||y.d.arr(T)||Object(y.e)(T),F=!C&&(!L||E(o.immediate||e.immediate,i));if(g)if(F)M=this._updateNode(T);else{var G=this._getNodeType(m);if(G!==M.constructor)throw Error("Cannot animate between "+M.constructor.name+" and "+G.name+', as the "to" prop suggests')}var z=M.constructor,q=!!x,U=!1;if(!q){var W=I||this.is(rt)&&v;(g||W)&&(q=!(U=Object(y.f)(J(D),T))),Object(y.f)(k.decay,V)&&Object(y.f)(k.velocity,P)||(q=!0)}if(U&&this.is(at)&&(r.changed&&!I?q=!0:q||this._stop()),!C){(q||Object(b.b)(c))&&(r.values=M.getPayload(),r.toValues=x?null:z==A.c?[1]:Object(y.h)(T)),r.immediate=F,r.onStart=ht(u("onStart"),i),r.onChange=ht(u("onChange"),i);var X=r.onRest,K=I&&!e.onRest?X[0]||y.g:ft(ht(u("onRest"),i),this);if(q){r.onRest=[K,ft(n,this)];var Y=I?0:1;Y<X.length&&Object(B.batchedUpdates)((function(){for(;Y<X.length;Y++)X[Y]()}))}else(I||e.onRest)&&(r.onRest[0]=K)}var tt=ht(u("onProps"),i);tt&&tt(e,this),I&&M.setValue(D),C?n(Z(e.to,e,this._state,this)):q?(I&&(this._phase=ot),this._reset(),this._start()):this.is(at)&&!g?r.onRest.push(ft(n,this)):n(H(this,D))}},{key:"_focus",value:function(t){var e=this.animation;if(t!==e.to){var n=Object(b.b)(e.to);n&&n.removeChild(this),e.to=t;var i=0;(n=Object(b.b)(t))&&(n.addChild(this),et(t)&&(i=(t.priority||0)+1)),this.priority=i}}},{key:"_set",value:function(t){var e=Object(b.b)(t);e&&(t=e.get());var n=Object(A.f)(this),i=n&&n.getValue();return n?n.setValue(t):this._updateNode(t),!Object(y.f)(t,i)}},{key:"_onChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.animation;i.changed||e||(i.changed=!0,i.onStart&&i.onStart(this)),i.onChange&&i.onChange(t,this),Object(s.a)(Object(u.a)(n.prototype),"_onChange",this).call(this,t,e)}},{key:"_reset",value:function(){var t=this.animation;Object(A.f)(this).reset(t.to),this.is(at)||(t.changed=!1),t.immediate||(t.fromValues=t.values.map((function(t){return t.lastPosition}))),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.is(at)||(this._phase=at,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),B.skipAnimation?this.finish():B.frameLoop.start(this))}},{key:"_stop",value:function(t){if(this.resume(),this.is(at)){this._phase=ot,this._onChange(this.get(),!0);var e=this.animation;Object(y.b)(e.values,(function(t){t.done=!0}));var n=e.onRest;n.length&&(e.onRest=[e.toValues?y.g:n[0]],e.changed||(n[0]=y.g),Object(y.b)(n,(function(e){return e(t)})))}}},{key:"idle",get:function(){return!this.is(at)&&!this._state.asyncTo}},{key:"goal",get:function(){return Object(b.c)(this.animation.to)}},{key:"velocity",get:function(){var t=Object(A.f)(this);return t instanceof A.d?t.lastVelocity||0:t.getPayload().map((function(t){return t.lastVelocity||0}))}}]),n}(it);function ct(t,e){if(t.is(ut))throw Error('Cannot call "'+e+'" of disposed "'+t.constructor.name+'" object')}function ht(t,e){return y.d.fun(t)?t:e&&t?t[e]:void 0}var ft=function(t,e){var n=e.animation.to;return t?function(i){if(i)t($(e));else{var r=J(n),o=J(e.get()),a=Object(y.f)(o,r);t(Q(e,a))}}:y.g};function mt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.to,i=R(e);if(i){var r=!0!==i&&U(i),o=(r||t).reverse,a=!r||r.reset;return dt(Object(w.a)(Object(w.a)({},t),{},{loop:e,default:!1,to:!o||y.d.arr(n)||y.d.fun(n)?n:void 0,from:a?t.from:void 0,reset:a},r))}}function dt(t){var e=t=U(t),n=e.to,i=e.from,r=new Set;return i?pt(i,r):delete t.from,y.d.obj(n)?pt(n,r):n||delete t.to,t.keys=r.size?Array.from(r):null,t}function _t(t){var e=dt(t);return y.d.und(e.default)&&(e.default=N(e,[!0===e.immediate&&"immediate"])),e}function pt(t,e){Object(y.b)(t,(function(t,n){return null!=t&&e.add(n)}))}var vt=["onStart","onChange","onRest"],yt=1,bt=function(){function t(e,n){Object(_.a)(this,t),this.id=yt++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase=rt,this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(e)}return Object(l.a)(t,[{key:"is",value:function(t){return this._phase==t}},{key:"get",value:function(){var t={};return this.each((function(e,n){return t[n]=e.get()})),t}},{key:"update",value:function(t){return t&&this.queue.push(dt(t)),this}},{key:"start",value:function(t){var e=t?Object(y.h)(t).map(dt):this.queue;return t||(this.queue=[]),this._flush?this._flush(this,e):(Bt(this,e),gt(this,e))}},{key:"stop",value:function(t){if(y.d.und(t))this.each((function(t){return t.stop()})),Y(this._state,this._lastAsyncId);else{var e=this.springs;Object(y.b)(Object(y.h)(t),(function(t){return e[t].stop()}))}return this}},{key:"pause",value:function(t){if(y.d.und(t))this.each((function(t){return t.pause()}));else{var e=this.springs;Object(y.b)(Object(y.h)(t),(function(t){return e[t].pause()}))}return this}},{key:"resume",value:function(t){if(y.d.und(t))this.each((function(t){return t.resume()}));else{var e=this.springs;Object(y.b)(Object(y.h)(t),(function(t){return e[t].resume()}))}return this}},{key:"reset",value:function(){return this.each((function(t){return t.reset()})),this}},{key:"each",value:function(t){Object(y.b)(this.springs,t)}},{key:"dispose",value:function(){this._state.asyncTo=void 0,this.each((function(t){return t.dispose()})),this.springs={}}},{key:"_onFrame",value:function(){var t=this,e=this._events,n=e.onStart,i=e.onChange,o=e.onRest,a=this._active.size>0;a&&this._phase!=at&&(this._phase=at,Object(y.c)(n,(function(e){return e(t)})));var s=(i.size||!a&&o.size)&&this.get();Object(y.c)(i,(function(t){return t(s)})),a||(this._phase=ot,Object(y.c)(o,(function(t){var e=Object(r.a)(t,2),n=e[0],i=e[1];i.value=s,n(i)})))}},{key:"onParentChange",value:function(t){"change"==t.type&&(this._active[t.idle?"delete":"add"](t.parent),B.frameLoop.onFrame(this._onFrame))}},{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(t){return t.idle}))}}]),t}();function gt(t,e){return Promise.all(e.map((function(e){return xt(t,e)}))).then((function(e){return X(t,e)}))}function xt(t,e,n){var i=e.to,r=e.loop,o=e.onRest;r&&(e.loop=!1);var a=y.d.arr(i)||y.d.fun(i)?i:void 0;a?(e.to=void 0,e.onRest=void 0):Object(y.b)(vt,(function(n){var i=e[n];if(y.d.fun(i)){var r=t._events[n];r instanceof Set?e[n]=function(){return r.add(i)}:e[n]=function(t){var e=t.finished,n=t.cancelled,o=r.get(i);o?(e||(o.finished=!1),n&&(o.cancelled=!0)):r.set(i,{value:null,finished:e,cancelled:n})}}}));var s=(e.keys||Object.keys(t.springs)).map((function(n){return t.springs[n].start(e)})),u=t._state;return a?s.push(W(++t._lastAsyncId,{props:e,state:u,actions:{pause:y.g,resume:y.g,start:function(e,n){e.onRest=o,e.cancel?function(t,e){return!y.d.und(G(t,e))}(e,"cancel")&&Y(u,e.callId):n(Z(a,e,u,t))}}})):e.keys||!0!==e.cancel||Y(u,t._lastAsyncId),Promise.all(s).then((function(o){var a=X(t,o);if(r&&a.finished&&(!n||!a.noop)){var s=mt(e,r,i);if(s)return Bt(t,[s]),xt(t,s,!0)}return a}))}function St(t,e){var n=Object(w.a)({},t.springs);return e&&Object(y.b)(Object(y.h)(e),(function(t){y.d.und(t.keys)&&(t=dt(t)),y.d.obj(t.to)||(t=Object(w.a)(Object(w.a)({},t),{},{to:void 0})),At(n,t,(function(t){return Ct(t)}))})),n}function wt(t,e){Object(y.b)(e,(function(e,n){t.springs[n]||(t.springs[n]=e,e.addChild(t))}))}function Ct(t,e){var n=new lt;return n.key=t,e&&n.addChild(e),n}function At(t,e,n){e.keys&&Object(y.b)(e.keys,(function(i){(t[i]||(t[i]=n(i)))._prepareNode(e)}))}function Bt(t,e){Object(y.b)(e,(function(e){At(t.springs,e,(function(e){return Ct(e,t)}))}))}var kt=Object(C.createContext)({}),Vt=function(t){var e=t.children,n=Object(P.a)(t,["children"]),i=Object(C.useContext)(kt);n=L((function(){return Object(w.a)(Object(w.a)({},i),n)}),[i,n.pause,n.cancel,n.immediate,n.config]);var r=kt.Provider;return Object(C.createElement)(r,{value:n},e)};Vt.Provider=kt.Provider,Vt.Consumer=kt.Consumer;var Pt=function(){return Object(C.useContext)(kt)},Mt=function(t){return{get controllers(){return t()},update:function(e){return Object(y.b)(t(),(function(t,n){t.update(F(e,n,t))})),this},start:function(e){return Object(m.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t().map((function(t,n){var i=F(e,n,t);return t.start(i)})));case 2:return i=n.sent,n.abrupt("return",{value:i.map((function(t){return t.value})),finished:i.every((function(t){return t.finished}))});case 4:case"end":return n.stop()}}),n)})))()},stop:function(e){return Object(y.b)(t(),(function(t){return t.stop(e)}))},pause:function(e){return Object(y.b)(t(),(function(t){return t.pause(e)}))},resume:function(e){return Object(y.b)(t(),(function(t){return t.resume(e)}))}}};function Ot(t,e,n){var i=y.d.fun(e)&&e;i&&!n&&(n=[]);var o=Object(C.useRef)(0),a=Object(x.a)(),s=Object(C.useState)((function(){return{ctrls:[],queue:[],flush:function(t,e){var n=St(t,e);return o.current>0&&!l.queue.length&&!Object.keys(n).some((function(e){return!t.springs[e]}))?gt(t,e):new Promise((function(i){wt(t,n),l.queue.push((function(){i(gt(t,e))})),a()}))}}})),u=Object(r.a)(s,1),l=u[0],c=Object(C.useRef)(),h=Object(p.a)(l.ctrls),f=[],m=Object(x.c)(t)||0,d=h.slice(t,m);function _(t,n){for(var r=t;r<n;r++){var o=h[r]||(h[r]=new bt(null,l.flush)),a=i?i(r,o):e[r];a&&(a=f[r]=_t(a),0==r&&(c.current=a.ref,a.ref=void 0))}}L((function(){h.length=t,_(m,t)}),[t]),L((function(){_(0,Math.min(m,t))}),n);var b=Object(C.useMemo)((function(){return Mt((function(){return l.ctrls}))}),[]),g=h.map((function(t,e){return St(t,f[e])})),S=Pt();Object(v.a)((function(){o.current++,l.ctrls=h,c.current&&(c.current.current=b);var t=l.queue;t.length&&(l.queue=[],Object(y.b)(t,(function(t){return t()}))),Object(y.b)(d,(function(t){return t.dispose()})),Object(y.b)(h,(function(t,e){wt(t,g[e]),t.start({default:S});var n=f[e];n&&(c.current?t.queue.push(n):t.start(n))}))})),Object(x.b)((function(){return function(){Object(y.b)(l.ctrls,(function(t){return t.dispose()}))}}));var A=g.map((function(t){return Object(w.a)({},t)}));return i||3==arguments.length?[A,b.start,b.stop]:A}function It(t,e){var n=y.d.fun(t),i=Ot(1,n?t:[t],n?e||[]:e),o=Object(r.a)(i,3),a=Object(r.a)(o[0],1),s=a[0],u=o[1],l=o[2];return n||2==arguments.length?[s,u,l]:s}var jt=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(t,r){var o;Object(_.a)(this,n),(o=e.call(this)).source=t,o.key=void 0,o.idle=!0,o.calc=void 0,o.calc=S.a.apply(void 0,Object(p.a)(r));var a=o._get(),s=y.d.arr(a)?A.a:A.d;return Object(A.h)(Object(i.a)(o),s.create(a)),o}return Object(l.a)(n,[{key:"advance",value:function(t){var e=this._get(),n=this.get();Object(y.f)(e,n)||(Object(A.f)(this).setValue(e),this._onChange(e,this.idle))}},{key:"_get",value:function(){var t=y.d.arr(this.source)?this.source.map((function(t){return t.get()})):Object(y.h)(this.source.get());return this.calc.apply(this,Object(p.a)(t))}},{key:"_reset",value:function(){Object(y.b)(Object(A.g)(this),(function(t){return t.reset()})),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.idle=!1,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),B.skipAnimation?(this.idle=!0,this.advance()):B.frameLoop.start(this)}},{key:"_attach",value:function(){var t=this,e=!0,n=1;Object(y.b)(Object(y.h)(this.source),(function(i){et(i)&&(i.idle||(e=!1),n=Math.max(n,i.priority+1)),i.addChild(t)})),this.priority=n,e||(this._reset(),this._start())}},{key:"_detach",value:function(){var t=this;Object(y.b)(Object(y.h)(this.source),(function(e){e.removeChild(t)})),this.idle=!0}},{key:"onParentChange",value:function(t){"start"==t.type?this.advance():"change"==t.type?this.idle?this.advance():t.idle&&(this.idle=Object(y.h)(this.source).every((function(t){return!1!==t.idle})),this.idle&&(this.advance(),Object(y.b)(Object(A.g)(this),(function(t){t.done=!0})))):"priority"==t.type&&(this.priority=Object(y.h)(this.source).reduce((function(t,e){return Math.max(t,(e.priority||0)+1)}),0)),Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,t)}}]),n}(it);g.Globals.assign({createStringInterpolator:M.a,to:function(t,e){return new jt(t,e)}})},function(t,e,n){"use strict";e.a=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},function(t,e,n){"use strict";var i=n(92),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return i.isMemo(t)?a:s[t.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(d){var r=m(n);r&&r!==d&&t(e,r,i)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(e),_=u(n),p=0;p<a.length;++p){var v=a[p];if(!o[v]&&(!i||!i[v])&&(!_||!_[v])&&(!s||!s[v])){var y=f(n,v);try{l(e,v,y)}catch(b){}}}}return e}},function(t,e,n){"use strict";var i=n(61),r=n.n(i);e.a=function(t,e){return r()(t,e)}},function(t,e,n){"use strict";var i=n(51),r="-ms-",o="-moz-",a="-webkit-",s="comm",u="rule",l="decl",c=Math.abs,h=String.fromCharCode;function f(t){return t.trim()}function m(t,e,n){return t.replace(e,n)}function d(t,e){return t.indexOf(e)}function _(t,e){return 0|t.charCodeAt(e)}function p(t,e,n){return t.slice(e,n)}function v(t){return t.length}function y(t){return t.length}function b(t,e){return e.push(t),t}function g(t,e){return t.map(e).join("")}var x=1,S=1,w=0,C=0,A=0,B="";function k(t,e,n,i,r,o,a){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:x,column:S,length:a,return:""}}function V(t,e,n){return k(t,e.root,e.parent,n,e.props,e.children,0)}function P(){return A=C<w?_(B,C++):0,S++,10===A&&(S=1,x++),A}function M(){return _(B,C)}function O(){return C}function I(t,e){return p(B,t,e)}function j(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(t){return x=S=1,w=v(B=t),C=0,[]}function T(t){return B="",t}function L(t){return f(I(C-1,E(91===t?t+2:40===t?t+1:t)))}function R(t){for(;(A=M())&&A<33;)P();return j(t)>2||j(A)>3?"":" "}function E(t){for(;P();)switch(A){case t:return C;case 34:case 39:return E(34===t||39===t?t:A);case 40:41===t&&E(t);break;case 92:P()}return C}function F(t,e){for(;P()&&t+A!==57&&(t+A!==84||47!==M()););return"/*"+I(e,C-1)+"*"+h(47===t?t:P())}function G(t){for(;!j(M());)P();return I(t,C)}function N(t){return T(z("",null,null,null,[""],t=D(t),0,[0],t))}function z(t,e,n,i,r,o,a,s,u){for(var l=0,c=0,f=a,d=0,_=0,p=0,y=1,g=1,x=1,S=0,w="",C=r,A=o,B=i,k=w;g;)switch(p=S,S=P()){case 34:case 39:case 91:case 40:k+=L(S);break;case 9:case 10:case 13:case 32:k+=R(p);break;case 47:switch(M()){case 42:case 47:b(U(F(P(),O()),e,n),u);break;default:k+="/"}break;case 123*y:s[l++]=v(k)*x;case 125*y:case 59:case 0:switch(S){case 0:case 125:g=0;case 59+c:_>0&&b(_>32?J(k+";",i,n,f-1):J(m(k," ","")+";",i,n,f-2),u);break;case 59:k+=";";default:if(b(B=q(k,e,n,l,c,r,s,w,C=[],A=[],f),o),123===S)if(0===c)z(k,e,B,B,C,o,f,s,A);else switch(d){case 100:case 109:case 115:z(t,B,B,i&&b(q(t,B,B,0,0,r,s,w,r,C=[],f),A),r,A,f,s,i?C:A);break;default:z(k,B,B,B,[""],A,f,s,A)}}l=c=_=0,y=x=1,w=k="",f=a;break;case 58:f=1+v(k),_=p;default:switch(k+=h(S),S*y){case 38:x=c>0?1:(k+="\f",-1);break;case 44:s[l++]=(v(k)-1)*x,x=1;break;case 64:45===M()&&(k+=L(P())),d=M(),c=v(w=k+=G(O())),S++;break;case 45:45===p&&2==v(k)&&(y=0)}}return o}function q(t,e,n,i,r,o,a,s,l,h,d){for(var _=r-1,v=0===r?o:[""],b=y(v),g=0,x=0,S=0;g<i;++g)for(var w=0,C=p(t,_+1,_=c(x=a[g])),A=t;w<b;++w)(A=f(x>0?v[w]+" "+C:m(C,/&\f/g,v[w])))&&(l[S++]=A);return k(t,e,n,0===r?u:s,l,h,d)}function U(t,e,n){return k(t,e,n,s,h(A),p(t,2,-2),0)}function J(t,e,n,i){return k(t,e,n,l,p(t,0,i),p(t,i+1,-1),i)}function W(t,e){switch(function(t,e){return(((e<<2^_(t,0))<<2^_(t,1))<<2^_(t,2))<<2^_(t,3)}(t,e)){case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return a+t+o+t+r+t+t;case 6828:case 4268:return a+t+r+t+t;case 6165:return a+t+r+"flex-"+t+t;case 5187:return a+t+m(t,/(\w+).+(:[^]+)/,a+"box-$1$2"+r+"flex-$1$2")+t;case 5443:return a+t+r+"flex-item-"+m(t,/flex-|-self/,"")+t;case 4675:return a+t+r+"flex-line-pack"+m(t,/align-content|flex-|-self/,"")+t;case 5548:return a+t+r+m(t,"shrink","negative")+t;case 5292:return a+t+r+m(t,"basis","preferred-size")+t;case 6060:return a+"box-"+m(t,"-grow","")+a+t+r+m(t,"grow","positive")+t;case 4554:return a+m(t,/([^-])(transform)/g,"$1"+a+"$2")+t;case 6187:return m(m(m(t,/(zoom-|grab)/,a+"$1"),/(image-set)/,a+"$1"),t,"")+t;case 5495:case 3959:return m(t,/(image-set\([^]*)/,a+"$1$`$1");case 4968:return m(m(t,/(.+:)(flex-)?(.*)/,a+"box-pack:$3"+r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a+t+t;case 4095:case 3583:case 4068:case 2532:return m(t,/(.+)-inline(.+)/,a+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(v(t)-1-e>6)switch(_(t,e+1)){case 102:e=_(t,e+3);case 109:return m(t,/(.+:)(.+)-([^]+)/,"$1"+a+"$2-$3$1"+o+(108==e?"$3":"$2-$3"))+t;case 115:return~d(t,"stretch")?W(m(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==_(t,e+1))break;case 6444:switch(_(t,v(t)-3-(~d(t,"!important")&&10))){case 107:case 111:return m(t,t,a+t)+t;case 101:return m(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a+(45===_(t,14)?"inline-":"")+"box$3$1"+a+"$2$3$1"+r+"$2box$3")+t}break;case 5936:switch(_(t,e+11)){case 114:return a+t+r+m(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return a+t+r+m(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return a+t+r+m(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return a+t+r+t+t}return t}function X(t,e){for(var n="",i=y(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function H(t,e,n,i){switch(t.type){case"@import":case l:return t.return=t.return||t.value;case s:return"";case u:t.value=t.props.join(",")}return v(n=X(t.children,i))?t.return=t.value+"{"+n+"}":""}function Q(t){return function(e){e.root||(e=e.return)&&t(e)}}n(48),n(60);var $=function(t,e){return T(function(t,e){var n=-1,i=44;do{switch(j(i)){case 0:38===i&&12===M()&&(e[n]=1),t[n]+=G(C-1);break;case 2:t[n]+=L(i);break;case 4:if(44===i){t[++n]=58===M()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=h(i)}}while(i=P());return t}(D(t),e))},Z=new WeakMap,K=function(t){if("rule"===t.type&&t.parent&&t.length){for(var e=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;"rule"!==n.type;)n=n.parent;if((1!==t.props.length||58===e.charCodeAt(0)||Z.get(n))&&!i){Z.set(t,!0);for(var r=[],o=$(e,r),a=n.props,s=0,u=0;s<o.length;s++)for(var l=0;l<a.length;l++,u++)t.props[u]=r[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},Y=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},tt=[function(t,e,n,i){if(!t.return)switch(t.type){case l:t.return=W(t.value,t.length);break;case"@keyframes":return X([V(m(t.value,"@","@"+a),t,"")],i);case u:if(t.length)return g(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return X([V(m(e,/:(read-\w+)/,":-moz-$1"),t,"")],i);case"::placeholder":return X([V(m(e,/:(plac\w+)/,":"+a+"input-$1"),t,""),V(m(e,/:(plac\w+)/,":-moz-$1"),t,""),V(m(e,/:(plac\w+)/,r+"input-$1"),t,"")],i)}return""}))}}];e.a=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){document.head.appendChild(t),t.setAttribute("data-s","")}))}var r=t.stylisPlugins||tt;var o,a,s={},u=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(t){var n=t.getAttribute("data-emotion").split(" ");if(n[0]===e){for(var i=1;i<n.length;i++)s[n[i]]=!0;u.push(t)}}));var l=[K,Y];var c,h=[H,Q((function(t){c.insert(t)}))],f=function(t){var e=y(t);return function(n,i,r,o){for(var a="",s=0;s<e;s++)a+=t[s](n,i,r,o)||"";return a}}(l.concat(r,h));a=function(t,e,n,i){c=n,X(N(t?t+"{"+e.styles+"}":e.styles),f),i&&(m.inserted[e.name]=!0)};var m={key:e,sheet:new i.a({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend}),nonce:t.nonce,inserted:s,registered:{},insert:a};return m.sheet.hydrate(u),m}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var i=n(0);function r(t,e){var n=Object(i.useState)((function(){return{inputs:e,result:t()}}))[0],r=Object(i.useRef)(n),o=Boolean(e&&r.current.inputs&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,r.current.inputs))?r.current:{inputs:e,result:t()};return Object(i.useEffect)((function(){r.current=o}),[o]),o.result}function o(t,e){return r((function(){return t}),e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=!1;function r(){i||(i=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)'))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var i=n(0);function r(t,e){var n=Object(i.useState)((function(){return{inputs:e,result:t()}}))[0],r=Object(i.useRef)(n),o=Boolean(e&&r.current.inputs&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,r.current.inputs))?r.current:{inputs:e,result:t()};return Object(i.useEffect)((function(){r.current=o}),[o]),o.result}function o(t,e){return r((function(){return t}),e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=!1;function r(){i||(i=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)'))}},function(t,e,n){"use strict";n.d(e,"animated",(function(){return V}));var i=n(11),r=n(4),o=n(3),a=n(5),s=n(6),u=n(32),l=n(26),c=n(34),h=n(53),f=n(78),m=n(19),d=n(2),_=n(17),p=/^--/;function v(t,e){return null==e||"boolean"===typeof e||""===e?"":"number"!==typeof e||0===e||p.test(t)||b.hasOwnProperty(t)&&b[t]?(""+e).trim():e+"px"}var y={};var b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g=["Webkit","Ms","Moz","O"];b=Object.keys(b).reduce((function(t,e){return g.forEach((function(n){return t[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(n,e)]=t[e]})),t}),b);var x=/^(matrix|translate|scale|rotate|skew)/,S=/^(translate)/,w=/^(rotate|skew)/,C=function(t,e){return d.d.num(t)&&0!==t?t+e:t},A=function t(e,n){return d.d.arr(e)?e.every((function(e){return t(e,n)})):d.d.num(e)?e===n:parseFloat(e)===n},B=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){Object(o.a)(this,n);var i=t.x,a=t.y,s=t.z,l=Object(u.a)(t,["x","y","z"]),c=[],h=[];return(i||a||s)&&(c.push([i||0,a||0,s||0]),h.push((function(t){return["translate3d("+t.map((function(t){return C(t,"px")})).join(",")+")",A(t,0)]}))),Object(d.b)(l,(function(t,e){if("transform"===e)c.push([t||""]),h.push((function(t){return[t,""===t]}));else if(x.test(e)){if(delete l[e],d.d.und(t))return;var n=S.test(e)?"px":w.test(e)?"deg":"";c.push(Object(d.h)(t)),h.push("rotate3d"===e?function(t){var e=Object(r.a)(t,4),i=e[0],o=e[1],a=e[2],s=e[3];return["rotate3d("+i+","+o+","+a+","+C(s,n)+")",A(s,0)]}:function(t){return[e+"("+t.map((function(t){return C(t,n)})).join(",")+")",A(t,e.startsWith("scale")?1:0)]})}})),c.length&&(l.transform=new k(c,h)),e.call(this,l)}return n}(m.b),k=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;return Object(o.a)(this,n),(r=e.call(this)).inputs=t,r.transforms=i,r._value=null,r._children=new Set,r}return Object(i.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var t=this,e="",n=!0;return Object(d.b)(this.inputs,(function(i,o){var a=Object(_.c)(i[0]),s=t.transforms[o](d.d.arr(a)?a:i.map(_.c)),u=Object(r.a)(s,2),l=u[0],c=u[1];e+=" "+l,n=n&&c})),n?"none":e}},{key:"addChild",value:function(t){var e=this;this._children.size||Object(d.b)(this.inputs,(function(t){return Object(d.b)(t,(function(t){var n=Object(_.b)(t);n&&n.addChild(e)}))})),this._children.add(t)}},{key:"removeChild",value:function(t){var e=this;this._children.delete(t),this._children.size||Object(d.b)(this.inputs,(function(t){return Object(d.b)(t,(function(t){var n=Object(_.b)(t);n&&n.removeChild(e)}))}))}},{key:"onParentChange",value:function(t){"change"==t.type&&(this._value=null),Object(d.b)(this._children,(function(e){e.onParentChange(t)}))}}]),n}(_.a);l.Globals.assign({colorNames:f.a,createStringInterpolator:h.a,batchedUpdates:c.unstable_batchedUpdates});var V=Object(m.e)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;var n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,i=e,r=i.style,o=i.children,a=i.scrollTop,s=i.scrollLeft,c=Object(u.a)(i,["style","children","scrollTop","scrollLeft"]),h=Object.values(c),f=Object.keys(c).map((function(e){return n||t.hasAttribute(e)?e:y[e]||(y[e]=e.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()})))}));l.Globals.frameLoop.onWrite((function(){for(var e in void 0!==o&&(t.textContent=o),r)if(r.hasOwnProperty(e)){var n=v(e,r[e]);"float"===e?e="cssFloat":p.test(e)?t.style.setProperty(e,n):t.style[e]=n}f.forEach((function(e,n){t.setAttribute(e,h[n])})),void 0!==a&&(t.scrollTop=a),void 0!==s&&(t.scrollLeft=s)}))},createAnimatedStyle:function(t){return new B(t)},getComponentProps:function(t){return Object(u.a)(t,["scrollTop","scrollLeft"])}}).animated},function(t,e,n){"use strict";n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return w}));n(21);var i=n(4),r=n(0),o="pushState",a="replaceState",s=["popstate",o,a],u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.base,n=void 0===e?"":e,u=Object(r.useState)((function(){return f(n)})),l=Object(i.a)(u,2),c=l[0],h=l[1],m=Object(r.useRef)(c);Object(r.useEffect)((function(){var t=function(){var t=f(n);m.current!==t&&h(m.current=t)};return s.map((function(e){return addEventListener(e,t)})),t(),function(){return s.map((function(e){return removeEventListener(e,t)}))}}),[n]);var d=Object(r.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.replace,r=void 0!==i&&i;return history[r?a:o](null,"",n+t)}),[n]);return[c,d]};if("undefined"!==typeof history)for(var l=function(){var t=h[c],e=history[t];history[t]=function(){var n=e.apply(this,arguments),i=new Event(t);return i.arguments=arguments,dispatchEvent(i),n}},c=0,h=[o,a];c<h.length;c++)l();var f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.pathname;return e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"};function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e={},n=function(n){return e[n]||(e[n]=t(n))};return function(t,e){var i=n(t||""),r=i.regexp,o=i.keys,a=r.exec(e);return a?[!0,o.reduce((function(t,e,n){return t[e.name]=a[n+1],t}),{})]:[!1,null]}}var d=function(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")},_=function(t,e,n){var i=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&n&&(i="(?:\\/"+i+")"),i+(e?"?":"")},p=function(t){for(var e=/:([A-Za-z0-9_]+)([?+*]?)/g,n=null,r=0,o=[],a="";null!==(n=e.exec(t));){var s=n,u=Object(i.a)(s,3),l=(u[0],u[1]),c=u[2],h="+"===c||"*"===c,f="?"===c||"*"===c,m=f&&"/"===t[n.index-1]?1:0,p=t.substring(r,n.index-m);o.push({name:l}),r=e.lastIndex,a+=d(p)+_(h,f,m)}return a+=d(t.substring(r)),{keys:o,regexp:new RegExp("^"+a+"(?:\\/)?$","i")}},v=Object(r.createContext)({}),y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hook,n=void 0===e?u:e,i=t.base,r=void 0===i?"":i,o=t.matcher,a=void 0===o?m():o;return{hook:n,base:r,matcher:a}},b=function(){var t=Object(r.useContext)(v);return t.v||(t.v=y())},g=function(){var t=b();return t.hook(t)},x=function(t){var e=g(),n=Object(i.a)(e,1)[0];return b().matcher(t,n)},S=function(t){var e=Object(r.useRef)(),n=e.current||(e.current={v:y(t)});return Object(r.createElement)(v.Provider,{value:n,children:t.children})},w=function(t){var e=t.path,n=t.match,o=t.component,a=t.children,s=x(e),u=n||s,l=Object(i.a)(u,2),c=l[0],h=l[1];return c?o?Object(r.createElement)(o,{params:h}):"function"===typeof a?a(h):a:null}},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&m())}function m(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function _(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,n){"use strict";var i=n(7),r=n.n(i),o=n(4),a=n(0);function s(t){var e,n=new Set,i=function(t,i){var r="function"===typeof t?t(e):t;if(r!==e){var o=e;e=i?r:Object.assign({},e,r),n.forEach((function(t){return t(e,o)}))}},r=function(){return e},o={setState:i,getState:r,subscribe:function(t,i,o){return i||o?function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is,a=i(e);function s(){var n=i(e);if(!o(a,n)){var r=a;t(a=n,r)}}return n.add(s),function(){return n.delete(s)}}(t,i,o):(n.add(t),function(){return n.delete(t)})},destroy:function(){return n.clear()}};return e=t(i,r,o),o}var u="undefined"===typeof window?a.useEffect:a.useLayoutEffect;e.a=function(t){var e="function"===typeof t?s(t):t,n=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,r=Object(a.useReducer)((function(t){return t+1}),0),s=Object(o.a)(r,2),l=s[1],c=e.getState(),h=Object(a.useRef)(c),f=Object(a.useRef)(n),m=Object(a.useRef)(i),d=Object(a.useRef)(!1),_=Object(a.useRef)();void 0===_.current&&(_.current=n(c));var p=!1;(h.current!==c||f.current!==n||m.current!==i||d.current)&&(t=n(c),p=!i(_.current,t)),u((function(){p&&(_.current=t),h.current=c,f.current=n,m.current=i,d.current=!1}));var v=Object(a.useRef)(c);return Object(a.useEffect)((function(){var t=function(){try{var t=e.getState(),n=f.current(t);m.current(_.current,n)||(h.current=t,_.current=n,l())}catch(i){d.current=!0,l()}},n=e.subscribe(t);return e.getState()!==v.current&&t(),n}),[]),p?t:_.current};return Object.assign(n,e),n[Symbol.iterator]=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),t.next=3,n;case 3:return t.next=5,e;case 5:case"end":return t.stop()}}),t)})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(97),r=n(99),o=n(100);function a(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var s=a(i),u=a(r),l=a(o);e.combine=function(t,e){return function(n,i,r){return Object.assign({},t,e(n,i,r))}},e.devtools=function(t,e){return function(n,i,r){var o;try{o=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(u){}if(!o)return r.devtools=null,t(n,i,r);var a=t((function(t,e,o){n(t,e),r.dispatch||r.devtools.send(r.devtools.prefix+(o||"action"),i())}),i,r);if(!r.devtools){var s=r.setState;r.setState=function(t,e){s(t,e),r.devtools.send(r.devtools.prefix+"setState",r.getState())},r.devtools=o.connect({name:e}),r.devtools.prefix=e?e+" > ":"",r.devtools.subscribe((function(t){var e;if("DISPATCH"===t.type&&t.state){var n="JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type;r.dispatch||n?s(JSON.parse(t.state)):r.setState(JSON.parse(t.state))}else"DISPATCH"===t.type&&"COMMIT"===(null==(e=t.payload)?void 0:e.type)&&r.devtools.init(r.getState())})),r.devtools.init(a)}return a}},e.persist=function(t,e){return function(n,i,r){var o=e||{},a=o.name,l=o.storage,c=void 0===l?localStorage:l,h=o.serialize,f=void 0===h?JSON.stringify:h,m=o.deserialize,d=void 0===m?JSON.parse:m,_=t((function(t){n(t),u.default(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.t1=a,t.next=4,f(i());case 4:t.t2=t.sent,t.t0.setItem.call(t.t0,t.t1,t.t2);case 6:case"end":return t.stop()}}),t)})))()}),i,r);return u.default(s.default.mark((function t(){var e;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.getItem(a);case 3:if(!(e=t.sent)){t.next=10;break}return t.t0=n,t.next=8,d(e);case 8:t.t1=t.sent,(0,t.t0)(t.t1);case 10:t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),console.error(new Error('Unable to get to stored state in "'+a+'"'));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))(),_}},e.redux=function(t,e){return function(n,i,r){return r.dispatch=function(e){return n((function(n){return t(n,e)})),r.devtools&&r.devtools.send(r.devtools.prefix+e.type,i()),e},l.default({dispatch:r.dispatch},e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(Object.is(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0}},function(t,e,n){"use strict";n.d(e,"animated",(function(){return V}));var i=n(11),r=n(4),o=n(3),a=n(5),s=n(6),u=n(29),l=n(25),c=n(34),h=n(54),f=n(77),m=n(18),d=n(1),_=n(16),p=/^--/;function v(t,e){return null==e||"boolean"===typeof e||""===e?"":"number"!==typeof e||0===e||p.test(t)||b.hasOwnProperty(t)&&b[t]?(""+e).trim():e+"px"}var y={};var b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g=["Webkit","Ms","Moz","O"];b=Object.keys(b).reduce((function(t,e){return g.forEach((function(n){return t[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(n,e)]=t[e]})),t}),b);var x=/^(matrix|translate|scale|rotate|skew)/,S=/^(translate)/,w=/^(rotate|skew)/,C=function(t,e){return d.d.num(t)&&0!==t?t+e:t},A=function t(e,n){return d.d.arr(e)?e.every((function(e){return t(e,n)})):d.d.num(e)?e===n:parseFloat(e)===n},B=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){Object(o.a)(this,n);var i=t.x,a=t.y,s=t.z,l=Object(u.a)(t,["x","y","z"]),c=[],h=[];return(i||a||s)&&(c.push([i||0,a||0,s||0]),h.push((function(t){return["translate3d("+t.map((function(t){return C(t,"px")})).join(",")+")",A(t,0)]}))),Object(d.b)(l,(function(t,e){if("transform"===e)c.push([t||""]),h.push((function(t){return[t,""===t]}));else if(x.test(e)){if(delete l[e],d.d.und(t))return;var n=S.test(e)?"px":w.test(e)?"deg":"";c.push(Object(d.h)(t)),h.push("rotate3d"===e?function(t){var e=Object(r.a)(t,4),i=e[0],o=e[1],a=e[2],s=e[3];return["rotate3d("+i+","+o+","+a+","+C(s,n)+")",A(s,0)]}:function(t){return[e+"("+t.map((function(t){return C(t,n)})).join(",")+")",A(t,e.startsWith("scale")?1:0)]})}})),c.length&&(l.transform=new k(c,h)),e.call(this,l)}return n}(m.b),k=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,i){var r;return Object(o.a)(this,n),(r=e.call(this)).inputs=t,r.transforms=i,r._value=null,r._children=new Set,r}return Object(i.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var t=this,e="",n=!0;return Object(d.b)(this.inputs,(function(i,o){var a=Object(_.c)(i[0]),s=t.transforms[o](d.d.arr(a)?a:i.map(_.c)),u=Object(r.a)(s,2),l=u[0],c=u[1];e+=" "+l,n=n&&c})),n?"none":e}},{key:"addChild",value:function(t){var e=this;this._children.size||Object(d.b)(this.inputs,(function(t){return Object(d.b)(t,(function(t){var n=Object(_.b)(t);n&&n.addChild(e)}))})),this._children.add(t)}},{key:"removeChild",value:function(t){var e=this;this._children.delete(t),this._children.size||Object(d.b)(this.inputs,(function(t){return Object(d.b)(t,(function(t){var n=Object(_.b)(t);n&&n.removeChild(e)}))}))}},{key:"onParentChange",value:function(t){"change"==t.type&&(this._value=null),Object(d.b)(this._children,(function(e){e.onParentChange(t)}))}}]),n}(_.a);l.Globals.assign({colorNames:f.a,createStringInterpolator:h.a,batchedUpdates:c.unstable_batchedUpdates});var V=Object(m.e)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;var n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,i=e,r=i.style,o=i.children,a=i.scrollTop,s=i.scrollLeft,c=Object(u.a)(i,["style","children","scrollTop","scrollLeft"]),h=Object.values(c),f=Object.keys(c).map((function(e){return n||t.hasAttribute(e)?e:y[e]||(y[e]=e.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()})))}));l.Globals.frameLoop.onWrite((function(){for(var e in void 0!==o&&(t.textContent=o),r)if(r.hasOwnProperty(e)){var n=v(e,r[e]);"float"===e?e="cssFloat":p.test(e)?t.style.setProperty(e,n):t.style[e]=n}f.forEach((function(e,n){t.setAttribute(e,h[n])})),void 0!==a&&(t.scrollTop=a),void 0!==s&&(t.scrollLeft=s)}))},createAnimatedStyle:function(t){return new B(t)},getComponentProps:function(t){return Object(u.a)(t,["scrollTop","scrollLeft"])}}).animated},function(t,e,n){"use strict";e.a={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}},function(t,e,n){"use strict";e.a={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}},function(t,e,n){"use strict";n.d(e,"a",(function(){return Et}));var i,r=["colors","space","fontSizes","fonts","fontWeights","lineHeights","letterSpacings","sizes","borderWidths","borderStyles","radii","shadows","zIndices","transitions"],o="undefined"===typeof window,a=Symbol("ATOM"),s={animationDuration:1,animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u="",l=0,c=[[]],h=function(t){if(f(),c=[[]],!t)return c;for(var e=t.length,n=0;n<e;n++){var r=t[n];switch(r){case" ":1===i?m():i&&(u+=r);break;case",":l?u+=r:(m(),d());break;case'"':u+=r,l||i?1===l&&2===i&&(l=0,m()):(i=2,l=1);break;case"(":l||(i=3),l++,u+=r;break;case")":u+=r,l--,3!==i||l||m();break;case"[":l||(i=4),u+=r,l++;break;case"]":u+=r,--l||m();break;default:i||(i=1),u+=r}}return u&&m(),c};function f(){l=i=0,u=""}function m(){i&&c[c.length-1].push(u),f()}function d(){c[c.length]=[],f()}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var b=/^[0-9.]+[a-z|%]/,g=/\(.*\)|ease|ease-in|ease-out|ease-in-out|linear|step-start|step-end/,x=/^([+-]?[0-9.]+([a-z]+|%)?|large(r)?|medium|small(er)?|x{1,3}-large|x{1,2}-small)(\/[+-]?[0-9.]+([a-z]+|%)?)?$/,S=/^[+-]?[0-9.]+deg$/,w=/^(0*[1-9][0-9]{0,2}|1000|bold(er)?|lighter)$/,C=function(t,e){return"number"!==typeof t&&t.match(e)},A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";return t?"".concat(t).concat(n).concat(e):e},B={};r.forEach((function(t){return B[t]={}}));var k=function(t){return function(e,n){var i="number"===typeof n?[[n]]:h(n),r={},o="number"===typeof n?B:e;return i.forEach((function(e,n){e.forEach((function(a,s){t(o,r,a,s,e,n,i)}))})),r}},V=k((function(t,e,n,i,r,o,a){if("/"!==n)if(C(n,/scroll|local|fixed/))e.backgroundAttachment=A(e.backgroundAttachment,n);else if(C(n,/^url|linear-gradient|element|image|cross-fade|image-set/))e.backgroundImage=A(e.backgroundImage,n);else if(C(n,/border-box|padding-box|content-box|text/))1===r.filter((function(t){return t.match(/border-box|padding-box|content-box|text/)})).length?(e.backgroundOrigin=A(e.backgroundOrigin,n),e.backgroundClip=A(e.backgroundClip,n)):r.findIndex((function(t){return t.match(/border-box|padding-box|content-box|text/)}))===i?e.backgroundOrigin=A(e.backgroundOrigin,n):e.backgroundClip=A(e.backgroundClip,n);else if("/"===r[i-1])e.backgroundSize=A(e.backgroundSize,t.sizes[n]||n);else if(C(n,/center|top|right|bottom|left/)||C(n,b)||t.sizes[n])e.backgroundPosition=A(e.backgroundPosition,t.sizes[n]||n);else if(C(n,/repeat|no-repeat|repeat-x|repeat-y|space|round/))e.backgroundRepeat=A(e.backgroundRepeat,n);else{if(o!==a.length-1)throw new Error("You can only add background colors on the last chain");e.backgroundColor=A(e.backgroundColor,t.colors[n]||n)}})),P=k((function(t,e,n,i,r){C(n,g)?e.animationTimingFunction=A(e.animationTimingFunction,n):C(n,/^\d+$|infinite/)?e.animationIterationCount=A(e.animationIterationCount,n):C(n,/normal|reverse|alternate|alternate-reverse/)?e.animationDirection=A(e.animationDirection,n):C(n,/none|forward|backwards|both/)?e.animationFillMode=A(e.animationFillMode,n):C(n,/running|paused/)?e.animationPlayState=A(e.animationPlayState,n):C(n,b)?r.findIndex((function(t){return t.match(b)}))===i?e.animationDuration=A(e.animationDuration,n):e.animationDelay=A(e.animationDelay,n):e.animationName=A(e.animationName,n)})),M=k((function(t,e,n,i,r,o,a){if(a.shouldParseFontFamily)e.fontFamily=A(e.fontFamily,t.fonts[n]||n);else{var s=n.toLowerCase();switch(!0){case S.test(s):e.fontStyle+=" ".concat(n);break;case w.test(s):e.fontWeight=t.fontWeights[n]||n;break;case x.test(s):a.shouldParseFontFamily=!0;var u=v(n.split("/"),2),l=u[0],c=u[1];e.fontSize=t.fontSizes[l]||l,c&&(e.lineHeight=t.lineHeights[c]||c);break;case"italic"===s:case"oblique"===s:e.fontStyle=n;break;case"small-caps"===s:e.fontVariant=n;break;case"condensed"===s:case"expanded"===s:case"extra-condensed"===s:case"extra-expanded"===s:case"semi-condensed"===s:case"semi-expanded"===s:case"ultra-condensed"===s:case"ultra-expanded"===s:e.fontStretch=n;break;case"caption"===s:case"icon"===s:case"menu"===s:case"message-box"===s:case"small-caption"===s:case"status-bar"===s:a.shouldParseFontFamily=!0,e.fontFamily=A(e.fontFamily,t.fonts[n]||n)}}})),O=k((function(t,e,n,i,r){C(n,b)?r.findIndex((function(t){return t.match(b)}))===i?e.transitionDuration=A(e.transitionDuration,n):e.transitionDelay=A(e.transitionDelay,n):C(n,g)?e.transitionTimingFunction=A(e.transitionTimingFunction,n):e.transitionProperty=A(e.transitionProperty,n)})),I=k((function(t,e,n,i){0===i?(e.rowGap=t.space[n]||n,e.columnGap=t.space[n]||n):e.columnGap=t.space[n]||n})),j=k((function(t,e,n,i){0===i?(e.marginTop=t.space[n]||n,e.marginRight=t.space[n]||n,e.marginBottom=t.space[n]||n,e.marginLeft=t.space[n]||n):1===i?(e.marginRight=t.space[n]||n,e.marginLeft=t.space[n]||n):2===i?e.marginBottom=t.space[n]||n:e.marginLeft=t.space[n]||n})),D=k((function(t,e,n,i){0===i?(e.paddingTop=t.space[n]||n,e.paddingRight=t.space[n]||n,e.paddingBottom=t.space[n]||n,e.paddingLeft=t.space[n]||n):1===i?(e.paddingRight=t.space[n]||n,e.paddingLeft=t.space[n]||n):2===i?e.paddingBottom=t.space[n]||n:e.paddingLeft=t.space[n]||n})),T=k((function(t,e,n){C(n,/none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset/)?(e.borderTopStyle=n,e.borderRightStyle=n,e.borderBottomStyle=n,e.borderLeftStyle=n):C(n,b)||t.borderWidths[n]||!isNaN(n)?(e.borderTopWidth=t.borderWidths[n]||n,e.borderRightWidth=t.borderWidths[n]||n,e.borderBottomWidth=t.borderWidths[n]||n,e.borderLeftWidth=t.borderWidths[n]||n):(e.borderTopColor=t.colors[n]||n,e.borderRightColor=t.colors[n]||n,e.borderBottomColor=t.colors[n]||n,e.borderLeftColor=t.colors[n]||n)})),L=k((function(t,e,n){C(n,/none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset/)?e.borderTopStyle=n:C(n,b)||t.borderWidths[n]||!isNaN(n)?e.borderTopWidth=t.borderWidths[n]||n:e.borderTopColor=t.colors[n]||n})),R=k((function(t,e,n){C(n,/none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset/)?e.borderRightStyle=n:C(n,b)||t.borderWidths[n]||!isNaN(n)?e.borderRightWidth=t.borderWidths[n]||n:e.borderRightColor=t.colors[n]||n})),E=k((function(t,e,n){C(n,/none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset/)?e.borderLeftStyle=n:C(n,b)||t.borderWidths[n]||!isNaN(n)?e.borderLeftWidth=t.borderWidths[n]||n:e.borderLeftColor=t.colors[n]||n})),F=k((function(t,e,n){C(n,/none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset/)?e.borderBottomStyle=n:C(n,b)||t.borderWidths[n]||!isNaN(n)?e.borderBottomWidth=t.borderWidths[n]||n:e.borderBottomColor=t.colors[n]||n})),G=k((function(t,e,n,i){0===i?(e.borderTopWidth=t.borderWidths[n]||n,e.borderRightWidth=t.borderWidths[n]||n,e.borderBottomWidth=t.borderWidths[n]||n,e.borderLeftWidth=t.borderWidths[n]||n):1===i?(e.borderRightWidth=t.borderWidths[n]||n,e.borderLeftWidth=t.borderWidths[n]||n):2===i?e.borderBottomWidth=t.borderWidths[n]||n:e.borderLeftWidth=t.borderWidths[n]||n})),N=k((function(t,e,n,i){0===i?(e.borderTopColor=t.colors[n]||n,e.borderRightColor=t.colors[n]||n,e.borderBottomColor=t.colors[n]||n,e.borderLeftColor=t.colors[n]||n):1===i?(e.borderRightColor=t.colors[n]||n,e.borderLeftColor=t.colors[n]||n):2===i?e.borderBottomColor=t.colors[n]||n:e.borderLeftColor=t.colors[n]||n})),z=k((function(t,e,n,i){0===i?(e.borderTopStyle=n,e.borderRightStyle=n,e.borderBottomStyle=n,e.borderLeftStyle=n):1===i?(e.borderRightStyle=n,e.borderLeftStyle=n):2===i?e.borderBottomStyle=n:e.borderLeftStyle=n})),q=k((function(t,e,n,i){0===i?(e.borderBottomLeftRadius=t.radii[n]||n,e.borderTopLeftRadius=t.radii[n]||n,e.borderTopRightRadius=t.radii[n]||n,e.borderBottomRightRadius=t.radii[n]||n):1===i?(e.borderTopRightRadius=t.radii[n]||n,e.borderBottomLeftRadius=t.radii[n]||n):2===i?e.borderBottomRightRadius=t.radii[n]||n:3===i&&(e.borderBottomLeftRadius=t.radii[n]||n)})),U=k((function(t,e,n){C(n,/unset/)?(e.textDecorationStyle=n,e.textDecorationLine=n,e.textDecorationColor=n,e.textDecorationThickness=n):C(n,/solid|double|dotted|dashed|wavy/)?e.textDecorationStyle=n:C(n,/none|underline|overline|line-through|blink/)?e.textDecorationLine=A(e.textDecorationLine,n," "):C(n,b)||C(n,/auto|from-font/)?e.textDecorationThickness=n:e.textDecorationColor=t.colors[n]||n})),J="initial",W={gap:"space",gridGap:"space",columnGap:"space",gridColumnGap:"space",rowGap:"space",gridRowGap:"space",inset:"space",insetBlock:"space",insetBlockEnd:"space",insetBlockStart:"space",insetInline:"space",insetInlineEnd:"space",insetInlineStart:"space",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",top:"space",right:"space",bottom:"space",left:"space",fontSize:"fontSizes",backgroundColor:"colors",border:["","borderStyles","colors"],borderColor:"colors",borderTopColor:"colors",borderRightColor:"colors",borderBottomColor:"colors",borderLeftColor:"colors",caretColor:"colors",color:"colors",columnRuleColor:"colors",outlineColor:"colors",fill:"colors",stroke:"colors",fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:"sizes",minBlockSize:"sizes",maxBlockSize:"sizes",inlineSize:"sizes",minInlineSize:"sizes",maxInlineSize:"sizes",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderLeftWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",transition:"transitions"},X=function(t){return{content:t.content,cssRules:t.cssRules,insertRule:function(e,n){try{return t.insertRule(e,n),n}catch(i){return-1}}}},H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(t&&t.document){var i=t.document.querySelector("head");if(!i)throw new Error("There is no HEAD element on this document");var r=Array.from(i.querySelectorAll("style")),o=r.filter((function(t){return Boolean(t.textContent&&t.textContent.startsWith("/* STITCHES"))}));return{tags:n,sheets:["__variables__","__keyframes__",J].concat(Object.keys(e)).reduce((function(e,r,a){var s=o[a];return s||(s=t.document.createElement("style"),i.appendChild(s)),n.push(s),e[r]=X(s.sheet),e}),{})}}return{tags:n,sheets:["__variables__","__keyframes__",J].concat(Object.keys(e)).reduce((function(t,e){return t[e]=X({content:"",cssRules:[],insertRule:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.cssRules.splice(e,0,t)}}),t}),{})}},Q={border:T,boxShadow:function(t,e){return{boxShadow:h(e).map((function(e){return e.map((function(e){return t.colors[e]||e})).join(" ")})).join(", ")}},overflow:function(t,e){return{overflowX:e,overflowY:e}},margin:j,padding:D,borderRadius:q,borderColor:N,borderStyle:z,borderWidth:G,background:V,animation:P,transition:O,font:M,borderBottom:F,borderLeft:E,borderTop:L,borderRight:R,textDecoration:U,gap:I,flex:function(t,e){var n=h(e)[0];return 2===n.length?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({flexGrow:n[0]},isNaN(Number(n[1]))?{flexShrink:"1",flexBasis:n[1]}:{flexShrink:n[1],flexBasis:"0%"}):3===n.length?{flexGrow:n[0],flexShrink:n[1],flexBasis:n[2]}:isNaN(Number(n[0]))?{flexGrow:"1",flexShrink:"1",flexBasis:n[0]}:{flexGrow:n[0],flexShrink:"1",flexBasis:"0%"}}},$=function(t){var e=t.getComputedStyle(t.document.documentElement),n=Array.from(e).filter((function(t){return"-"===t[0]})),i=(n.join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{vendorPrefix:"-".concat(i,"-"),vendorProps:n}},Z=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return function(t){var e,n="";for(e=Math.abs(t);e>Y;e=e/Y|0)n=tt(e%Y)+n;return(tt(e%Y)+n).replace(K,"$1-$2")}(e>>>0)},K=/(a)(d)/gi,Y=52,tt=function(t){return String.fromCharCode(t+(t>25?39:97))};function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=at(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function it(t){return(it="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t){return function(t){if(Array.isArray(t))return st(t)}(t)||ut(t)||at(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(t){return function(t){if(Array.isArray(t))return t}(t)||ut(t)||at(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(t,e){if(t){if("string"===typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(t,e):void 0}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ut(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var lt=new Map,ct=function(t){return t.replace(/(\/\*X\*\/|\\([^-_a-zA-Z\d]*))/g,"$2")},ht=function(t){return"/*X*/".concat(t.replace(/[^-_a-zA-Z\d]/g,"\\$&"),"/*X*/")},ft=function(t,e){var n=t?".".concat(t):"";return e&&e.includes("%")?e.replace(/\%/gi,n):e?"".concat(n).concat(e):n},mt=function(t,e,n){var i=W[t];return i?Array.isArray(i)&&Array.isArray(e)?i.map((function(t,r){return i&&n[t]&&n[t][e[r]]?n[t][e[r]]:e[r]})):i&&n[i]&&n[i][e]?n[i][e]:e:e},dt=function(t,e){var n="&"===e[0]&&":"===e[1]?e.substr(1):e;return!t&&n.indexOf("&")>-1?n.replace(/&/g,"%".concat(t)):n.indexOf("&")>-1?n.replace(/&/g,t):":"===n[0]?n.replace(":","".concat(t,":")):"".concat(t," ").concat(n.trim())},_t=function(t){var e,n,i,r,o,a=t;"%"!==a[0]&&a.match("%")||((null===(e=a)||void 0===e?void 0:e.match(/\:hover/))?a="%".concat(a):(null===(n=a)||void 0===n?void 0:n.match(/\:active/))?a="%%".concat(a):(null===(i=a)||void 0===i?void 0:i.match(/\:focus|\:focus-visible/))?a="%%%".concat(a):(null===(r=a)||void 0===r?void 0:r.match(/\:read-only/))?a="%%%%".concat(a):(null===(o=a)||void 0===o?void 0:o.match(/\:disabled/))&&(a="%%%%%".concat(a)));return a},pt=function t(e){var n=ot(e),i=n[0],r=n.slice(1);if(0===r.length)return i||[];for(var o=[],a=t(r),s=0;s<a.length;s++)for(var u=0;u<i.length;u++)o.push(dt(i[u],a[s]));return o},vt=function t(e,n,i){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"%",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:J,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],h=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],f=0,m=Object.keys(e);f<m.length;f++){var d=m[f],_=e[d];if(d in n.breakpoints)t(_,n,i,r,o,d,l);else if("@"!==d[0])if(c&&d in n.utils){var p=n.utils[d](_,n);t(p,n,i,r,o,u,l,!1)}else if(!(d in n.utils)&&h&&d in Q){var v=Q[d](n.tokens,_);t(v,n,i,r,o,u,l,!1,!1)}else if("object"!==it(_)){var y=r?[].concat(rt(o),[[r]]):o,b=pt(y).map(_t).join(",");"number"!==typeof _?void 0!==_&&i(d,mt(d,_,n.tokens),u,l,b):i(d,"".concat(s[d]?_:_+"px"),u,l,b)}else{if(_[a]){i(d,_,u,l,r);continue}if(d.indexOf(",")>-1){var g=[].concat(rt(o),[d.split(",").map((function(t){return dt(r,t)}))]);t(_,n,i,"",g,u,l);continue}t(_,n,i,dt(r,d),o,u,l)}else t(_,n,i,r,o,u,[].concat(rt(l),[d]))}},yt=function(t,e,n){var i=/^[A-Z]/.test(t),r=t.split(/(?=[A-Z])/).map((function(t){return t.toLowerCase()})).join("-");return i?r="-".concat(r):e.includes("".concat(n).concat(r))&&(r="".concat(n).concat(r)),r},bt=function(){return this._className},gt=function(){var t=this.atoms.map((function(t){return t.toString()})).join(" ");return this._className=t,o||(this.toString=bt),t},xt=function(t,e,n){var i="";if(e.inlineMediaQueries&&e.inlineMediaQueries.length){var r="",o="";e.inlineMediaQueries.forEach((function(t){r+="".concat(t,"{"),o+="}"})),i="".concat(r).concat(ft(n,e.selector),"{").concat(e.cssHyphenProp,":").concat(e.value,";}").concat(o)}else i="".concat(ft(n,e.selector),"{").concat(e.cssHyphenProp,":").concat(e.value,";}");return e.breakpoint!==J?t[e.breakpoint](i):i},St=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return function(){var r=n(this);if(!i.size||!i.has(".".concat(r))){var o=t[this.breakpoint];o.insertRule(xt(e,this,r),this.inlineMediaQueries.length?o.cssRules.length:0)}return this.cssHyphenProp=this.value=this.pseudo=this.breakpoint=this.inlineMediaQueries=void 0,this._className=r,this.toString=bt,r}},wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(){var i=n(this),r=t[this.breakpoint];return t[this.breakpoint].insertRule(xt(e,this,i.length?ht(i):""),this.inlineMediaQueries.length?r.cssRules.length:0),this._className=i,this.toString=bt,i}},Ct=function(t,e){return function(){var n=this,i="".concat(t?"".concat(t,"-"):"","theme-").concat(this.name);return e.insertRule(".".concat(i,"{").concat(Object.keys(this.definition).reduce((function(t,e){return"".concat(t).concat(Object.keys(n.definition[e]).reduce((function(t,i){return"".concat(t,"--").concat(e,"-").concat(i.replace(/[^\w\s-]/gi,""),":").concat(n.definition[e][i],";")}),t))}),""),"}")),this.toString=function(){return i},i}},At=function(t){return function(){var e=this;return this._cssRuleString&&t.insertRule(this._cssRuleString),this.toString=function(){return e.id},this.id}},Bt=function t(e,n){for(var i=n.length-1;i>=0;i--){var r=n[i];r&&r[a]&&"atoms"in r?t(e,r.atoms):r&&r[a]?e.has(r.id)||e.set(r.id,r):r&&e.set(r,r)}},kt=n(0);function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||Tt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(t){return(Pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t){return function(t){if(Array.isArray(t))return Lt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(t,e){if(t){if("string"===typeof t)return Lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(t,e):void 0}}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Rt=function(t,e){var n=new Map;return n.set(J,Dt((null===e||void 0===e?void 0:e.get(J))||[])),Object.keys(t).forEach((function(t){return n.set(t,Dt((null===e||void 0===e?void 0:e.get(t))||[]))})),n},Et=function(t){var e,n=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window||(null===(e=window)||void 0===e?void 0:e.Deno)?null:window,i=Object.assign({tokens:{},utils:{},breakpoints:{}},t);r.forEach((function(t){return i.tokens[t]=i.tokens[t]||{}}));var o=i.tokens,s=i.breakpoints,u="boolean"===typeof i.showFriendlyClassnames&&i.showFriendlyClassnames,l=i.prefix||"",c=n?$(n):{vendorPrefix:"-node-",vendorProps:[]},h=c.vendorPrefix,f=c.vendorProps;if(n&&lt.has(l)){lt.get(l).dispose()}var m,d=l?u?"".concat(l,"_"):l:"",_=function(t){var e;if(t._isGlobal)return"";var n=Z("".concat(t.breakpoint||"").concat(t.cssHyphenProp.replace(/-(moz|webkit|ms)-/,"")).concat(t.selector||"").concat((null===(e=t.inlineMediaQueries)||void 0===e?void 0:e.join(""))||"").concat(t.value)),i=u?"".concat(t.breakpoint?"_".concat(t.breakpoint,"_"):"").concat(t.cssHyphenProp.replace(/-(moz|webkit|ms)-/,"").split("-").map((function(t){return t[0]})).join(""),"_").concat(n):"_".concat(n);return"".concat(d).concat(i)},p=H(n,i.breakpoints),v=p.tags,y=p.sheets,b=new Set,g=nt(v);try{for(g.s();!(m=g.n()).done;){((m.value.textContent||"").match(/\/\*\X\*\/.*?\/\*\X\*\//g)||[]).forEach((function(t){b.add("."+ct(t))}))}}catch(G){g.e(G)}finally{g.f()}var x=n?St(y,i.breakpoints,_,b):wt(y,i.breakpoints,_),S=Ct(d,y.__variables__),w=At(y.__keyframes__),C=function(){for(var t=new Map,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Bt(t,n),et({atoms:Array.from(t.values()),toString:gt},a,!0)},A=function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,u=o?o.join(""):"",l=t.toLowerCase()+r+(o?o.join(""):"")+i,c=l+e;if(L.has(c))return u.match(/@media.*\((min|max)?.*(width|height).*\)/),L.get(c);var m=(et(n={id:l,cssHyphenProp:yt(t,f,h),value:e,selector:r,inlineMediaQueries:o,breakpoint:i,toString:x},a,!0),et(n,"_isGlobal",s),n);return L.set(c,m),m},B=":root{";for(var k in o)for(var V=k.match(/^(sizes|space|letterSpacings|zIndices)$/),P=Object.keys(o[k]),M=0;M<P.length;M++){var O=P[M],I=O.replace(/[^\w\s-]/gi,""),j="--".concat(k,"-").concat(I);B+="".concat(j,":").concat(o[k][O],";"),o[k][O]="var(".concat(j,")");var D="-"+O,T="-"===O[0]&&!!o[k][O.substring(1)];!V||o[k][D]||T||(o[k][D]="calc(var(".concat(j,") * -1)"))}B+="}",b.has(":root")||y.__variables__.insertRule(B);var L=new Map,R=new Map,E=new Map,F=function(){for(var t=[],e=0,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var s=0;s<r.length;s++)r[s]&&("string"===typeof r[s]||r[s][a]?t[e++]=r[s]:vt(r[s],i,(function(n,i,r,o,a){t[e++]=A(n,i,r,a,o)})));return C.apply(void 0,t)};return F.dispose=function(){L.clear(),v.forEach((function(t){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)}))},F._config=function(){return i},F.theme=function(t){if(E.has(t))return E.get(t);var e=et({name:String(E.size),definition:t,toString:S},a,!0);return E.set(t,e),e},F.global=function(t){var e=[];return vt(t,i,(function(t,n,i,r,o){if("%"===o)throw new Error("Global styles need to be nested within a selector");e.push(A(t,n,i,o,r,!0))})),function(){return C.apply(void 0,e).toString()}},F.keyframes=function(t){var e="",n="";vt(t,i,(function(t,i,r,a,s){s!==n&&(e&&(e+="}"),n=s,e+="".concat(s.substr(2)," {")),e+="".concat(yt(t,f,h),": ").concat(mt(t,i,o),";")}));var r=Z(e+="}"),s=R.get(r);if(s)return s;e="@keyframes ".concat(r," {").concat(e,"}");var u=et({id:String(r),_cssRuleString:e,toString:w},a,!0);return R.set(r,u),u},F.getStyles=function(t){for(var e in y)"__keyframes__"!==e&&(y[e].cssRules.length=0);return B&&y.__variables__.insertRule(B),x=wt(y,i.breakpoints,_),w=At(y[J]),S=Ct(d,y.__variables__),L.forEach((function(t){t.toString=x})),R.forEach((function(t){t.toString=w})),E.forEach((function(t){t.toString=S})),{result:t(),styles:Object.keys(s).reduce((function(t,e){return t.concat("/* STITCHES:".concat(e," */\n").concat(y[e].cssRules.join("\n")))}),["/* STITCHES:__variables__ */\n".concat(y.__variables__.cssRules.join("\n")),"/* STITCHES:__keyframes__ */\n".concat(y.__keyframes__.cssRules.join("\n")),"/* STITCHES */\n".concat(y[J].cssRules.join("\n"))])}},n&&lt.set(l,F),F}(t),i=Object(kt.forwardRef)((function(t,e){var n=t.as||"div";return Object(kt.createElement)(n,It(It({ref:e},t),{},{as:void 0}))})),o=t.breakpoints||{},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t.compose()},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=0,s=e,u=t.variants,l=void 0===u?{}:u,c=Mt(t,["variants"]),h=n(c),f=[],m=Rt(o),d=new Map,_=new Map;for(var p in l){var v=new Map;for(var y in l[p]){var b=Ft(l[p][y],o,n);v.set(y,b)}d.set(p,v)}var g="scid-".concat(Z(JSON.stringify(t))),x=Object(kt.forwardRef)((function(t,e){var i=[h],u={},c=Rt(o,m),p={current:a},v=function(e){if(e in l){var n=d.get(e),r=t[e]&&"object"===Pt(t[e])?t[e]:jt({},J,t[e]),o=function(t){var o,a=String(r[t]);n&&n.get(a)&&i.push(null===(o=n.get(a))||void 0===o?void 0:o[t]);p.current&&f.forEach((function(n,r){var o;(a===String(n[e])&&c.get(t)[r]--,0===c.get(t)[r])&&(p.current--,i.push(null===(o=_.get(n))||void 0===o?void 0:o[t]))}))};for(var a in r)o(a)}else u[e]=t[e]};for(var y in t)v(y);u.css&&(i.push(u.css),u.css=void 0);var b=n.apply(void 0,[g].concat(i,[t.className]));return r.__isStitchesComponent||(b=b.toString()),Object(kt.createElement)(r,It(It({},u),{},{as:t.as||s,ref:e,className:b}))}));return x.__isStitchesComponent=!0,x.displayName="string"===typeof e?"styled(".concat(e,")"):r&&r.displayName?"styled(".concat(r.displayName,")"):"styled(Component)",x.toString=function(){return".".concat(g)},x.compoundVariant=function(t,e){a++,f.push(t),m.forEach((function(e,n){e.push(Object.keys(t).length)}));var i=Ft(e,o,n);return _.set(t,i),x},x};return{styled:new Proxy((function(){}),{get:function(t,n){return"Box"===n?i:(e=String(n),s)},apply:function(t,n,i){var r=Vt(i,2),o=r[0],a=r[1];return"string"===typeof o?(e=o,s(a)):(e=void 0,s(a,o))}}),css:n}};function Ft(t,e,n){var i=jt({},J,n(t));if(e)for(var r in e)i[r]=n(jt({},r,t));return i}},,,,,,function(t,e,n){"use strict";n(56);var i=n(0),r=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),e.Fragment=o("react.fragment")}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var i,o={},l=null,c=null;for(i in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,i)&&!u.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:l,ref:c,props:o,_owner:a.current}}e.jsx=l,e.jsxs=l},function(t,e,n){"use strict";var i=n(56),r=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;r=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function p(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||d}function v(){}function y(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||d}p.prototype.isReactComponent={},p.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},p.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=p.prototype;var b=y.prototype=new v;b.constructor=y,i(b,p.prototype),b.isPureReactComponent=!0;var g={current:null},x=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function w(t,e,n){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,i)&&!S.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:r,type:t,key:a,ref:s,props:o,_owner:g.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var A=/\/+/g;function B(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function k(t,e,n,i,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case r:case o:u=!0}}if(u)return a=a(u=t),t=""===i?"."+B(u,0):i,Array.isArray(a)?(n="",null!=t&&(n=t.replace(A,"$&/")+"/"),k(a,e,n,"",(function(t){return t}))):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+t)),e.push(a)),1;if(u=0,i=""===i?".":i+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=i+B(s=t[l],l);u+=k(s,e,n,c,a)}else if("function"===typeof(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=c.call(t),l=0;!(s=t.next()).done;)u+=k(s=s.value,e,n,c=i+B(s,l++),a);else if("object"===s)throw e=""+t,Error(m(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function V(t,e,n){if(null==t)return t;var i=[],r=0;return k(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function P(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var M={current:null};function O(){var t=M.current;if(null===t)throw Error(m(321));return t}var I={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:g,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:V,forEach:function(t,e,n){V(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return V(t,(function(){e++})),e},toArray:function(t){return V(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error(m(143));return t}},e.Component=p,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(m(267,t));var o=i({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=g.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:r,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=w,e.createFactory=function(t){var e=w.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return O().useCallback(t,e)},e.useContext=function(t,e){return O().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return O().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return O().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return O().useLayoutEffect(t,e)},e.useMemo=function(t,e){return O().useMemo(t,e)},e.useReducer=function(t,e,n){return O().useReducer(t,e,n)},e.useRef=function(t){return O().useRef(t)},e.useState=function(t){return O().useState(t)},e.version="17.0.1"},function(t,e,n){"use strict";var i=n(0),r=n(56),o=n(88);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));var s=new Set,u={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m=Object.prototype.hasOwnProperty,d={},_={};function p(t,e,n,i,r,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new p(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new p(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new p(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new p(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new p(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new p(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new p(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new p(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new p(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function g(t,e,n,i){var r=v.hasOwnProperty(e)?v[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!m.call(_,t)||!m.call(d,t)&&(f.test(t)?_[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,b);v[e]=new p(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,b);v[e]=new p(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,b);v[e]=new p(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new p(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new p(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,w=60106,C=60107,A=60108,B=60114,k=60109,V=60110,P=60112,M=60113,O=60120,I=60115,j=60116,D=60121,T=60128,L=60129,R=60130,E=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;S=F("react.element"),w=F("react.portal"),C=F("react.fragment"),A=F("react.strict_mode"),B=F("react.profiler"),k=F("react.provider"),V=F("react.context"),P=F("react.forward_ref"),M=F("react.suspense"),O=F("react.suspense_list"),I=F("react.memo"),j=F("react.lazy"),D=F("react.block"),F("react.scope"),T=F("react.opaque.id"),L=F("react.debug_trace_mode"),R=F("react.offscreen"),E=F("react.legacy_hidden")}var G,N="function"===typeof Symbol&&Symbol.iterator;function z(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}function q(t){if(void 0===G)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);G=e&&e[1]||""}return"\n"+G+t}var U=!1;function J(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s])return"\n"+r[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?q(t):""}function W(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=J(t.type,!1);case 11:return t=J(t.type.render,!1);case 22:return t=J(t.type._render,!1);case 1:return t=J(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case C:return"Fragment";case w:return"Portal";case B:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case P:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return X(t.type);case D:return X(t._render);case j:e=t._payload,t=t._init;try{return X(t(e))}catch(n){}}return null}function H(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function $(t){t._valueTracker||(t._valueTracker=function(t){var e=Q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Z(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&g(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=H(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?rt(t,e.type,n):e.hasOwnProperty("defaultValue")&&rt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function it(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function rt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function lt(t,e){var n=H(e.value),i=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function mt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?mt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var _t,pt,vt=(pt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((_t=_t||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_t.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return pt(t,e)}))}:pt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function xt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function St(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=xt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(bt).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var wt=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(t,e){if(e){if(wt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function At(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,Vt=null,Pt=null;function Mt(t){if(t=tr(t)){if("function"!==typeof kt)throw Error(a(280));var e=t.stateNode;e&&(e=nr(e),kt(t.stateNode,t.type,e))}}function Ot(t){Vt?Pt?Pt.push(t):Pt=[t]:Vt=t}function It(){if(Vt){var t=Vt,e=Pt;if(Pt=Vt=null,Mt(t),e)for(t=0;t<e.length;t++)Mt(e[t])}}function jt(t,e){return t(e)}function Dt(t,e,n,i,r){return t(e,n,i,r)}function Tt(){}var Lt=jt,Rt=!1,Et=!1;function Ft(){null===Vt&&null===Pt||(Tt(),It())}function Gt(t,e){var n=t.stateNode;if(null===n)return null;var i=nr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Nt=!1;if(h)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(pt){Nt=!1}function qt(t,e,n,i,r,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Ut=!1,Jt=null,Wt=!1,Xt=null,Ht={onError:function(t){Ut=!0,Jt=t}};function Qt(t,e,n,i,r,o,a,s,u){Ut=!1,Jt=null,qt.apply(Ht,arguments)}function $t(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Kt(t){if($t(t)!==t)throw Error(a(188))}function Yt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=$t(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Kt(r),t;if(o===i)return Kt(r),e;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,i=o;break}if(u===i){s=!0,i=r,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=r;break}if(u===i){s=!0,i=o,n=r;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,ie,re,oe=!1,ae=[],se=null,ue=null,le=null,ce=new Map,he=new Map,fe=[],me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,i,r){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[i]}}function _e(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function pe(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t=de(e,n,i,r,o),null!==e&&(null!==(e=tr(e))&&ne(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function ve(t){var e=Yi(t.target);if(null!==e){var n=$t(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Zt(n)))return t.blockedOn=e,void re(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ie(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=tr(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){ye(t)&&n.delete(e)}function ge(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=tr(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&ye(se)&&(se=null),null!==ue&&ye(ue)&&(ue=null),null!==le&&ye(le)&&(le=null),ce.forEach(be),he.forEach(be)}function xe(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ge)))}function Se(t){function e(e){return xe(e,t)}if(0<ae.length){xe(ae[0],t);for(var n=1;n<ae.length;n++){var i=ae[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==se&&xe(se,t),null!==ue&&xe(ue,t),null!==le&&xe(le,t),ce.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(i=fe[n]).blockedOn===t&&(i.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ve(n),null===n.blockedOn&&fe.shift()}function we(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ce={animationend:we("Animation","AnimationEnd"),animationiteration:we("Animation","AnimationIteration"),animationstart:we("Animation","AnimationStart"),transitionend:we("Transition","TransitionEnd")},Ae={},Be={};function ke(t){if(Ae[t])return Ae[t];if(!Ce[t])return t;var e,n=Ce[t];for(e in n)if(n.hasOwnProperty(e)&&e in Be)return Ae[t]=n[e];return t}h&&(Be=document.createElement("div").style,"AnimationEvent"in window||(delete Ce.animationend.animation,delete Ce.animationiteration.animation,delete Ce.animationstart.animation),"TransitionEvent"in window||delete Ce.transitionend.transition);var Ve=ke("animationend"),Pe=ke("animationiteration"),Me=ke("animationstart"),Oe=ke("transitionend"),Ie=new Map,je=new Map,De=["abort","abort",Ve,"animationEnd",Pe,"animationIteration",Me,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Oe,"transitionEnd","waiting","waiting"];function Te(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),je.set(i,e),Ie.set(i,r),l(r,[i])}}(0,o.unstable_now)();var Le=8;function Re(t){if(0!==(1&t))return Le=15,1;if(0!==(2&t))return Le=14,2;if(0!==(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!==(32&t)?(Le=11,32):0!==(e=192&t)?(Le=10,e):0!==(256&t)?(Le=9,256):0!==(e=3584&t)?(Le=8,e):0!==(4096&t)?(Le=7,4096):0!==(e=4186112&t)?(Le=6,e):0!==(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!==(134217728&t)?(Le=3,134217728):0!==(e=805306368&t)?(Le=2,e):0!==(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function Ee(t,e){var n=t.pendingLanes;if(0===n)return Le=0;var i=0,r=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)i=o,r=Le=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(i=Re(u),r=Le):0!==(s&=o)&&(i=Re(s),r=Le)}else 0!==(o=n&~a)?(i=Re(o),r=Le):0!==s&&(i=Re(s),r=Le);if(0===i)return 0;if(i=n&((0>(i=31-Ue(i))?0:1<<i)<<1)-1,0!==e&&e!==i&&0===(e&a)){if(Re(e),r<=Le)return e;Le=r}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-Ue(e)),i|=t[n],e&=~r;return i}function Fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ge(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ne(24&~e))?Ge(10,e):t;case 10:return 0===(t=Ne(192&~e))?Ge(8,e):t;case 8:return 0===(t=Ne(3584&~e))&&(0===(t=Ne(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ne(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ne(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qe(t,e,n){t.pendingLanes|=e;var i=e-1;t.suspendedLanes&=i,t.pingedLanes&=i,(t=t.eventTimes)[e=31-Ue(e)]=n}var Ue=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Je(t)/We|0)|0},Je=Math.log,We=Math.LN2;var Xe=o.unstable_UserBlockingPriority,He=o.unstable_runWithPriority,Qe=!0;function $e(t,e,n,i){Rt||Tt();var r=Ke,o=Rt;Rt=!0;try{Dt(r,t,e,n,i)}finally{(Rt=o)||Ft()}}function Ze(t,e,n,i){He(Xe,Ke.bind(null,t,e,n,i))}function Ke(t,e,n,i){var r;if(Qe)if((r=0===(4&e))&&0<ae.length&&-1<me.indexOf(t))t=de(null,t,e,n,i),ae.push(t);else{var o=Ye(t,e,n,i);if(null===o)r&&_e(t,i);else{if(r){if(-1<me.indexOf(t))return t=de(o,t,e,n,i),void ae.push(t);if(function(t,e,n,i,r){switch(e){case"focusin":return se=pe(se,t,e,n,i,r),!0;case"dragenter":return ue=pe(ue,t,e,n,i,r),!0;case"mouseover":return le=pe(le,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return ce.set(o,pe(ce.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,he.set(o,pe(he.get(o)||null,t,e,n,i,r)),!0}return!1}(o,t,e,n,i))return;_e(t,i)}Ii(t,e,i,null,n)}}}function Ye(t,e,n,i){var r=Bt(i);if(null!==(r=Yi(r))){var o=$t(r);if(null===o)r=null;else{var a=o.tag;if(13===a){if(null!==(r=Zt(o)))return r;r=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ii(t,e,i,r,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,i=n.length,r="value"in tn?tn.value:tn.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===r[o-e];e++);return nn=r.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,i,r,o){for(var a in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?an:sn,this.isPropagationStopped=sn,this}return r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var ln,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mn=un(fn),dn=r({},fn,{view:0,detail:0}),_n=un(dn),pn=r({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(ln=t.screenX-hn.screenX,cn=t.screenY-hn.screenY):cn=ln=0,hn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),vn=un(pn),yn=un(r({},pn,{dataTransfer:0})),bn=un(r({},dn,{relatedTarget:0})),gn=un(r({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=un(r({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),Sn=un(r({},fn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=An[t])&&!!e[t]}function kn(){return Bn}var Vn=un(r({},dn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Cn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Pn=un(r({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=un(r({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=un(r({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=un(r({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),jn=[9,13,27,32],Dn=h&&"CompositionEvent"in window,Tn=null;h&&"documentMode"in document&&(Tn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Tn,Rn=h&&(!Dn||Tn&&8<Tn&&11>=Tn),En=String.fromCharCode(32),Fn=!1;function Gn(t,e){switch(t){case"keyup":return-1!==jn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!qn[t.type]:"textarea"===e}function Jn(t,e,n,i){Ot(i),0<(e=Di(e,"onChange")).length&&(n=new mn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Wn=null,Xn=null;function Hn(t){Bi(t,0)}function Qn(t){if(Z(er(t)))return t}function $n(t,e){if("change"===t)return e}var Zn=!1;if(h){var Kn;if(h){var Yn="oninput"in document;if(!Yn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Yn="function"===typeof ti.oninput}Kn=Yn}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function ei(){Wn&&(Wn.detachEvent("onpropertychange",ni),Xn=Wn=null)}function ni(t){if("value"===t.propertyName&&Qn(Xn)){var e=[];if(Jn(e,Xn,t,Bt(t)),t=Hn,Rt)t(e);else{Rt=!0;try{jt(t,e)}finally{Rt=!1,Ft()}}}}function ii(t,e,n){"focusin"===t?(ei(),Xn=n,(Wn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Xn)}function oi(t,e){if("click"===t)return Qn(e)}function ai(t,e){if("input"===t||"change"===t)return Qn(e)}var si="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ui=Object.prototype.hasOwnProperty;function li(t,e){if(si(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ui.call(e,n[i])||!si(t[n[i]],e[n[i]]))return!1;return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hi(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function fi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mi(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function di(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var _i=h&&"documentMode"in document&&11>=document.documentMode,pi=null,vi=null,yi=null,bi=!1;function gi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==pi||pi!==K(i)||("selectionStart"in(i=pi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Di(vi,"onSelect")).length&&(e=new mn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=pi)))}Te("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Te("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Te(De,2);for(var xi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Si=0;Si<xi.length;Si++)je.set(xi[Si],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function Ai(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,s,u,l){if(Qt.apply(this,arguments),Ut){if(!Ut)throw Error(a(198));var c=Jt;Ut=!1,Jt=null,Wt||(Wt=!0,Xt=c)}}(i,e,void 0,t),t.currentTarget=null}function Bi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var s=i[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&r.isPropagationStopped())break t;Ai(r,s,l),o=u}else for(a=0;a<i.length;a++){if(u=(s=i[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&r.isPropagationStopped())break t;Ai(r,s,l),o=u}}}if(Wt)throw t=Xt,Wt=!1,Xt=null,t}function ki(t,e){var n=ir(e),i=t+"__bubble";n.has(i)||(Oi(e,t,2,!1),n.add(i))}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Pi(t){t[Vi]||(t[Vi]=!0,s.forEach((function(e){Ci.has(e)||Mi(e,!1,t,null),Mi(e,!0,t,null)})))}function Mi(t,e,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==i&&!e&&Ci.has(t)){if("scroll"!==t)return;r|=2,o=i}var a=ir(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(r|=4),Oi(o,t,r,e),a.add(s))}function Oi(t,e,n,i){var r=je.get(e);switch(void 0===r?2:r){case 0:r=$e;break;case 1:r=Ze;break;default:r=Ke}n=r.bind(null,e,n,t),r=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ii(t,e,n,i,r){var o=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===r||8===u.nodeType&&u.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=Yi(s)))return;if(5===(u=a.tag)||6===u){i=o=a;continue t}s=s.parentNode}}i=i.return}!function(t,e,n){if(Et)return t(e,n);Et=!0;try{Lt(t,e,n)}finally{Et=!1,Ft()}}((function(){var i=o,r=Bt(n),a=[];t:{var s=Ie.get(t);if(void 0!==s){var u=mn,l=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=Vn;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case Ve:case Pe:case Me:u=gn;break;case Oe:u=On;break;case"scroll":u=_n;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var m,d=i;null!==d;){var _=(m=d).stateNode;if(5===m.tag&&null!==_&&(m=_,null!==f&&(null!=(_=Gt(d,f))&&c.push(ji(d,_,m)))),h)break;d=d.return}0<c.length&&(s=new u(s,l,null,n,r),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(l=n.relatedTarget||n.fromElement)||!Yi(l)&&!l[Zi])&&(u||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=i,null!==(l=(l=n.relatedTarget||n.toElement)?Yi(l):null)&&(l!==(h=$t(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=i),u!==l)){if(c=vn,_="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(c=Pn,_="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:er(u),m=null==l?s:er(l),(s=new c(_,d+"leave",u,n,r)).target=h,s.relatedTarget=m,_=null,Yi(r)===i&&((c=new c(f,d+"enter",l,n,r)).target=m,c.relatedTarget=h,_=c),h=_,u&&l)t:{for(f=l,d=0,m=c=u;m;m=Ti(m))d++;for(m=0,_=f;_;_=Ti(_))m++;for(;0<d-m;)c=Ti(c),d--;for(;0<m-d;)f=Ti(f),m--;for(;d--;){if(c===f||null!==f&&c===f.alternate)break t;c=Ti(c),f=Ti(f)}c=null}else c=null;null!==u&&Li(a,s,u,c,!1),null!==l&&null!==h&&Li(a,h,l,c,!0)}if("select"===(u=(s=i?er(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var p=$n;else if(Un(s))if(Zn)p=ai;else{p=ri;var v=ii}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(p=oi);switch(p&&(p=p(t,i))?Jn(a,p,n,r):(v&&v(t,s,i),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&rt(s,"number",s.value)),v=i?er(i):window,t){case"focusin":(Un(v)||"true"===v.contentEditable)&&(pi=v,vi=i,yi=null);break;case"focusout":yi=vi=pi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,gi(a,n,r);break;case"selectionchange":if(_i)break;case"keydown":case"keyup":gi(a,n,r)}var y;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else zn?Gn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=rn()):(en="value"in(tn=r)?tn.value:tn.textContent,zn=!0)),0<(v=Di(i,b)).length&&(b=new Sn(b,t,null,n,r),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Nn(n))&&(b.data=y))),(y=Ln?function(t,e){switch(t){case"compositionend":return Nn(e);case"keypress":return 32!==e.which?null:(Fn=!0,En);case"textInput":return(t=e.data)===En&&Fn?null:t;default:return null}}(t,n):function(t,e){if(zn)return"compositionend"===t||!Dn&&Gn(t,e)?(t=rn(),nn=en=tn=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(i=Di(i,"onBeforeInput")).length&&(r=new Sn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y))}Bi(a,e)}))}function ji(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Di(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Gt(t,n))&&i.unshift(ji(t,o,r)),null!=(o=Gt(t,e))&&i.push(ji(t,o,r))),t=t.return}return i}function Ti(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Li(t,e,n,i,r){for(var o=e._reactName,a=[];null!==n&&n!==i;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===i)break;5===s.tag&&null!==l&&(s=l,r?null!=(u=Gt(n,o))&&a.unshift(ji(n,u,s)):r||null!=(u=Gt(n,o))&&a.push(ji(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Ri(){}var Ei=null,Fi=null;function Gi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ni(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var zi="function"===typeof setTimeout?setTimeout:void 0,qi="function"===typeof clearTimeout?clearTimeout:void 0;function Ui(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Ji(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Wi(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Xi=0;var Hi=Math.random().toString(36).slice(2),Qi="__reactFiber$"+Hi,$i="__reactProps$"+Hi,Zi="__reactContainer$"+Hi,Ki="__reactEvents$"+Hi;function Yi(t){var e=t[Qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zi]||n[Qi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Wi(t);null!==t;){if(n=t[Qi])return n;t=Wi(t)}return e}n=(t=n).parentNode}return null}function tr(t){return!(t=t[Qi]||t[Zi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function er(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function nr(t){return t[$i]||null}function ir(t){var e=t[Ki];return void 0===e&&(e=t[Ki]=new Set),e}var rr=[],or=-1;function ar(t){return{current:t}}function sr(t){0>or||(t.current=rr[or],rr[or]=null,or--)}function ur(t,e){or++,rr[or]=t.current,t.current=e}var lr={},cr=ar(lr),hr=ar(!1),fr=lr;function mr(t,e){var n=t.type.contextTypes;if(!n)return lr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function dr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function _r(){sr(hr),sr(cr)}function pr(t,e,n){if(cr.current!==lr)throw Error(a(168));ur(cr,e),ur(hr,n)}function vr(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(a(108,X(e)||"Unknown",o));return r({},n,i)}function yr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,fr=cr.current,ur(cr,t),ur(hr,hr.current),!0}function br(t,e,n){var i=t.stateNode;if(!i)throw Error(a(169));n?(t=vr(t,e,fr),i.__reactInternalMemoizedMergedChildContext=t,sr(hr),sr(cr),ur(cr,t)):sr(hr),ur(hr,n)}var gr=null,xr=null,Sr=o.unstable_runWithPriority,wr=o.unstable_scheduleCallback,Cr=o.unstable_cancelCallback,Ar=o.unstable_shouldYield,Br=o.unstable_requestPaint,kr=o.unstable_now,Vr=o.unstable_getCurrentPriorityLevel,Pr=o.unstable_ImmediatePriority,Mr=o.unstable_UserBlockingPriority,Or=o.unstable_NormalPriority,Ir=o.unstable_LowPriority,jr=o.unstable_IdlePriority,Dr={},Tr=void 0!==Br?Br:function(){},Lr=null,Rr=null,Er=!1,Fr=kr(),Gr=1e4>Fr?kr:function(){return kr()-Fr};function Nr(){switch(Vr()){case Pr:return 99;case Mr:return 98;case Or:return 97;case Ir:return 96;case jr:return 95;default:throw Error(a(332))}}function zr(t){switch(t){case 99:return Pr;case 98:return Mr;case 97:return Or;case 96:return Ir;case 95:return jr;default:throw Error(a(332))}}function qr(t,e){return t=zr(t),Sr(t,e)}function Ur(t,e,n){return t=zr(t),wr(t,e,n)}function Jr(){if(null!==Rr){var t=Rr;Rr=null,Cr(t)}Wr()}function Wr(){if(!Er&&null!==Lr){Er=!0;var t=0;try{var e=Lr;qr(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Lr=null}catch(n){throw null!==Lr&&(Lr=Lr.slice(t+1)),wr(Pr,Jr),n}finally{Er=!1}}}var Xr=x.ReactCurrentBatchConfig;function Hr(t,e){if(t&&t.defaultProps){for(var n in e=r({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Qr=ar(null),$r=null,Zr=null,Kr=null;function Yr(){Kr=Zr=$r=null}function to(t){var e=Qr.current;sr(Qr),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function no(t,e){$r=t,Kr=Zr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Da=!0),t.firstContext=null)}function io(t,e){if(Kr!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Kr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Zr){if(null===$r)throw Error(a(308));Zr=e,$r.dependencies={lanes:0,firstContext:e,responders:null}}else Zr=Zr.next=e;return t._currentValue}var ro=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function lo(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function co(t,e,n,i){var o=t.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,h=c=l=null;;){u=a.lane;var m=a.eventTime;if((i&u)===u){null!==h&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,_=a;switch(u=e,m=n,_.tag){case 1:if("function"===typeof(d=_.payload)){f=d.call(m,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=_.payload)?d.call(m,f,u):d)||void 0===u)break t;f=r({},f,u);break t;case 2:ro=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else m={eventTime:m,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=m,l=f):h=h.next=m,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Es|=s,t.lanes=s,t.memoizedState=f}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var fo=(new i.Component).refs;function mo(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:r({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var _o={isMounted:function(t){return!!(t=t._reactInternals)&&$t(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=lu(),r=cu(t),o=so(i,r);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,r,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=lu(),r=cu(t),o=so(i,r);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,r,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lu(),i=cu(t),r=so(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),uo(t,r),hu(t,i,n)}};function po(t,e,n,i,r,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function vo(t,e,n){var i=!1,r=lr,o=e.contextType;return"object"===typeof o&&null!==o?o=io(o):(r=dr(e)?fr:cr.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?mr(t,r):lr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=_o,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function yo(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&_o.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=fo,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=io(o):(o=dr(e)?fr:cr.current,r.context=mr(t,o)),co(t,n,r,i),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&_o.enqueueReplaceState(r,r.state,null),co(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4)}var go=Array.isArray;function xo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=i.refs;e===fo&&(e=i.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function wo(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=qu(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags=2,n):i:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,i){return null===e||6!==e.tag?((e=Xu(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function l(t,e,n,i){return null!==e&&e.elementType===n.type?((i=r(e,n.props)).ref=xo(t,e,n),i.return=t,i):((i=Uu(n.type,n.key,n.props,null,t.mode,i)).ref=xo(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hu(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=Ju(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Xu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case S:return(n=Uu(e.type,e.key,e.props,null,t.mode,n)).ref=xo(t,null,e),n.return=t,n;case w:return(e=Hu(e,t.mode,n)).return=t,e}if(go(e)||z(e))return(e=Ju(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function m(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===r?n.type===C?h(t,e,n.props.children,i,r):l(t,e,n,i):null;case w:return n.key===r?c(t,e,n,i):null}if(go(n)||z(n))return null!==r?null:h(t,e,n,i,null);So(t,n)}return null}function d(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return u(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return t=t.get(null===i.key?n:i.key)||null,i.type===C?h(e,t,i.props.children,r,i.key):l(e,t,i,r);case w:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(go(i)||z(i))return h(e,t=t.get(n)||null,i,r,null);So(e,i)}return null}function _(r,a,s,u){for(var l=null,c=null,h=a,_=a=0,p=null;null!==h&&_<s.length;_++){h.index>_?(p=h,h=null):p=h.sibling;var v=m(r,h,s[_],u);if(null===v){null===h&&(h=p);break}t&&h&&null===v.alternate&&e(r,h),a=o(v,a,_),null===c?l=v:c.sibling=v,c=v,h=p}if(_===s.length)return n(r,h),l;if(null===h){for(;_<s.length;_++)null!==(h=f(r,s[_],u))&&(a=o(h,a,_),null===c?l=h:c.sibling=h,c=h);return l}for(h=i(r,h);_<s.length;_++)null!==(p=d(h,r,_,s[_],u))&&(t&&null!==p.alternate&&h.delete(null===p.key?_:p.key),a=o(p,a,_),null===c?l=p:c.sibling=p,c=p);return t&&h.forEach((function(t){return e(r,t)})),l}function p(r,s,u,l){var c=z(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,_=s,p=s=0,v=null,y=u.next();null!==_&&!y.done;p++,y=u.next()){_.index>p?(v=_,_=null):v=_.sibling;var b=m(r,_,y.value,l);if(null===b){null===_&&(_=v);break}t&&_&&null===b.alternate&&e(r,_),s=o(b,s,p),null===h?c=b:h.sibling=b,h=b,_=v}if(y.done)return n(r,_),c;if(null===_){for(;!y.done;p++,y=u.next())null!==(y=f(r,y.value,l))&&(s=o(y,s,p),null===h?c=y:h.sibling=y,h=y);return c}for(_=i(r,_);!y.done;p++,y=u.next())null!==(y=d(_,r,p,y.value,l))&&(t&&null!==y.alternate&&_.delete(null===y.key?p:y.key),s=o(y,s,p),null===h?c=y:h.sibling=y,h=y);return t&&_.forEach((function(t){return e(r,t)})),c}return function(t,i,o,u){var l="object"===typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case S:t:{for(c=o.key,l=i;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===C){n(t,l.sibling),(i=r(l,o.props.children)).return=t,t=i;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),(i=r(l,o.props)).ref=xo(t,l,o),i.return=t,t=i;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===C?((i=Ju(o.props.children,t.mode,u,o.key)).return=t,t=i):((u=Uu(o.type,o.key,o.props,null,t.mode,u)).ref=xo(t,i,o),u.return=t,t=u)}return s(t);case w:t:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling),(i=r(i,o.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Hu(o,t.mode,u)).return=t,t=i}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(t,i.sibling),(i=r(i,o)).return=t,t=i):(n(t,i),(i=Xu(o,t.mode,u)).return=t,t=i),s(t);if(go(o))return _(t,i,o,u);if(z(o))return p(t,i,o,u);if(c&&So(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(t.type)||"Component"))}return n(t,i)}}var Co=wo(!0),Ao=wo(!1),Bo={},ko=ar(Bo),Vo=ar(Bo),Po=ar(Bo);function Mo(t){if(t===Bo)throw Error(a(174));return t}function Oo(t,e){switch(ur(Po,e),ur(Vo,t),ur(ko,Bo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}sr(ko),ur(ko,e)}function Io(){sr(ko),sr(Vo),sr(Po)}function jo(t){Mo(Po.current);var e=Mo(ko.current),n=dt(e,t.type);e!==n&&(ur(Vo,t),ur(ko,n))}function Do(t){Vo.current===t&&(sr(ko),sr(Vo))}var To=ar(0);function Lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ro=null,Eo=null,Fo=!1;function Go(t,e){var n=Nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function No(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function zo(t){if(Fo){var e=Eo;if(e){var n=e;if(!No(t,e)){if(!(e=Ji(n.nextSibling))||!No(t,e))return t.flags=-1025&t.flags|2,Fo=!1,void(Ro=t);Go(Ro,n)}Ro=t,Eo=Ji(e.firstChild)}else t.flags=-1025&t.flags|2,Fo=!1,Ro=t}}function qo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ro=t}function Uo(t){if(t!==Ro)return!1;if(!Fo)return qo(t),Fo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ni(e,t.memoizedProps))for(e=Eo;e;)Go(t,e),e=Ji(e.nextSibling);if(qo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Eo=Ji(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Eo=null}}else Eo=Ro?Ji(t.stateNode.nextSibling):null;return!0}function Jo(){Eo=Ro=null,Fo=!1}var Wo=[];function Xo(){for(var t=0;t<Wo.length;t++)Wo[t]._workInProgressVersionPrimary=null;Wo.length=0}var Ho=x.ReactCurrentDispatcher,Qo=x.ReactCurrentBatchConfig,$o=0,Zo=null,Ko=null,Yo=null,ta=!1,ea=!1;function na(){throw Error(a(321))}function ia(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!si(t[n],e[n]))return!1;return!0}function ra(t,e,n,i,r,o){if($o=o,Zo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ho.current=null===t||null===t.memoizedState?Ma:Oa,t=n(i,r),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Yo=Ko=null,e.updateQueue=null,Ho.current=Ia,t=n(i,r)}while(ea)}if(Ho.current=Pa,e=null!==Ko&&null!==Ko.next,$o=0,Yo=Ko=Zo=null,ta=!1,e)throw Error(a(300));return t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Zo.memoizedState=Yo=t:Yo=Yo.next=t,Yo}function aa(){if(null===Ko){var t=Zo.alternate;t=null!==t?t.memoizedState:null}else t=Ko.next;var e=null===Yo?Zo.memoizedState:Yo.next;if(null!==e)Yo=e,Ko=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Ko=t).memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},null===Yo?Zo.memoizedState=Yo=t:Yo=Yo.next=t}return Yo}function sa(t,e){return"function"===typeof e?e(t):e}function ua(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var i=Ko,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var u=s=o=null,l=r;do{var c=l.lane;if(($o&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),i=l.eagerReducer===t?l.eagerState:t(i,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=i):u=u.next=h,Zo.lanes|=c,Es|=c}l=l.next}while(null!==l&&l!==r);null===u?o=i:u.next=s,si(i,e.memoizedState)||(Da=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function la(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=t(o,s.action),s=s.next}while(s!==r);si(o,e.memoizedState)||(Da=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ca(t,e,n){var i=e._getVersion;i=i(e._source);var r=e._workInProgressVersionPrimary;if(null!==r?t=r===i:(t=t.mutableReadLanes,(t=($o&t)===t)&&(e._workInProgressVersionPrimary=i,Wo.push(e))),t)return n(e._source);throw Wo.push(e),Error(a(350))}function ha(t,e,n,i){var r=Ms;if(null===r)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Ho.current,l=u.useState((function(){return ca(r,e,n)})),c=l[1],h=l[0];l=Yo;var f=t.memoizedState,m=f.refs,d=m.getSnapshot,_=f.source;f=f.subscribe;var p=Zo;return t.memoizedState={refs:m,source:e,subscribe:i},u.useEffect((function(){m.getSnapshot=n,m.setSnapshot=c;var t=o(e._source);if(!si(s,t)){t=n(e._source),si(h,t)||(c(t),t=cu(p),r.mutableReadLanes|=t&r.pendingLanes),t=r.mutableReadLanes,r.entangledLanes|=t;for(var i=r.entanglements,a=t;0<a;){var u=31-Ue(a),l=1<<u;i[u]|=t,a&=~l}}}),[n,e,i]),u.useEffect((function(){return i(e._source,(function(){var t=m.getSnapshot,n=m.setSnapshot;try{n(t(e._source));var i=cu(p);r.mutableReadLanes|=i&r.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,i]),si(d,n)&&si(_,e)&&si(f,i)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=c=Va.bind(null,Zo,t),l.queue=t,l.baseQueue=null,h=ca(r,e,n),l.memoizedState=l.baseState=h),h}function fa(t,e,n){return ha(aa(),t,e,n)}function ma(t){var e=oa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=Va.bind(null,Zo,t),[e.memoizedState,t]}function da(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=Zo.updateQueue)?(e={lastEffect:null},Zo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function _a(t){return t={current:t},oa().memoizedState=t}function pa(){return aa().memoizedState}function va(t,e,n,i){var r=oa();Zo.flags|=t,r.memoizedState=da(1|e,n,void 0,void 0===i?null:i)}function ya(t,e,n,i){var r=aa();i=void 0===i?null:i;var o=void 0;if(null!==Ko){var a=Ko.memoizedState;if(o=a.destroy,null!==i&&ia(i,a.deps))return void da(e,n,o,i)}Zo.flags|=t,r.memoizedState=da(1|e,n,o,i)}function ba(t,e){return va(516,4,t,e)}function ga(t,e){return ya(516,4,t,e)}function xa(t,e){return ya(4,2,t,e)}function Sa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function wa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ya(4,2,Sa.bind(null,e,t),n)}function Ca(){}function Aa(t,e){var n=aa();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ia(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ba(t,e){var n=aa();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ia(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ka(t,e){var n=Nr();qr(98>n?98:n,(function(){t(!0)})),qr(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{t(!1),e()}finally{Qo.transition=n}}))}function Va(t,e,n){var i=lu(),r=cu(t),o={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Zo||null!==a&&a===Zo)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,si(u,s))return}catch(l){}hu(t,r,i)}}var Pa={readContext:io,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Ma={readContext:io,useCallback:function(t,e){return oa().memoizedState=[t,void 0===e?null:e],t},useContext:io,useEffect:ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,va(4,2,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return va(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=oa();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Va.bind(null,Zo,t),[i.memoizedState,t]},useRef:_a,useState:ma,useDebugValue:Ca,useDeferredValue:function(t){var e=ma(t),n=e[0],i=e[1];return ba((function(){var e=Qo.transition;Qo.transition=1;try{i(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ma(!1),e=t[0];return _a(t=ka.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var i=oa();return i.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ha(i,t,e,n)},useOpaqueIdentifier:function(){if(Fo){var t=!1,e=function(t){return{$$typeof:T,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Xi++).toString(36))),Error(a(355))})),n=ma(e)[1];return 0===(2&Zo.mode)&&(Zo.flags|=516,da(5,(function(){n("r:"+(Xi++).toString(36))}),void 0,null)),e}return ma(e="r:"+(Xi++).toString(36)),e},unstable_isNewReconciler:!1},Oa={readContext:io,useCallback:Aa,useContext:io,useEffect:ga,useImperativeHandle:wa,useLayoutEffect:xa,useMemo:Ba,useReducer:ua,useRef:pa,useState:function(){return ua(sa)},useDebugValue:Ca,useDeferredValue:function(t){var e=ua(sa),n=e[0],i=e[1];return ga((function(){var e=Qo.transition;Qo.transition=1;try{i(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ua(sa)[0];return[pa().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Ia={readContext:io,useCallback:Aa,useContext:io,useEffect:ga,useImperativeHandle:wa,useLayoutEffect:xa,useMemo:Ba,useReducer:la,useRef:pa,useState:function(){return la(sa)},useDebugValue:Ca,useDeferredValue:function(t){var e=la(sa),n=e[0],i=e[1];return ga((function(){var e=Qo.transition;Qo.transition=1;try{i(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=la(sa)[0];return[pa().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},ja=x.ReactCurrentOwner,Da=!1;function Ta(t,e,n,i){e.child=null===t?Ao(e,null,n,i):Co(e,t.child,n,i)}function La(t,e,n,i,r){n=n.render;var o=e.ref;return no(e,r),i=ra(t,e,n,i,o,r),null===t||Da?(e.flags|=1,Ta(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~r,ns(t,e,r))}function Ra(t,e,n,i,r,o){if(null===t){var a=n.type;return"function"!==typeof a||zu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Uu(n.type,null,i,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ea(t,e,a,i,r,o))}return a=t.child,0===(r&o)&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:li)(r,i)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=qu(a,i)).ref=e.ref,t.return=e,e.child=t)}function Ea(t,e,n,i,r,o){if(null!==t&&li(t.memoizedProps,i)&&t.ref===e.ref){if(Da=!1,0===(o&r))return e.lanes=t.lanes,ns(t,e,o);0!==(16384&t.flags)&&(Da=!0)}return Na(t,e,n,i,o)}function Fa(t,e,n){var i=e.pendingProps,r=i.children,o=null!==t?t.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},bu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bu(e,t),null;e.memoizedState={baseLanes:0},bu(e,null!==o?o.baseLanes:n)}else null!==o?(i=o.baseLanes|n,e.memoizedState=null):i=n,bu(e,i);return Ta(t,e,r,n),e.child}function Ga(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Na(t,e,n,i,r){var o=dr(n)?fr:cr.current;return o=mr(e,o),no(e,r),n=ra(t,e,n,i,o,r),null===t||Da?(e.flags|=1,Ta(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~r,ns(t,e,r))}function za(t,e,n,i,r){if(dr(n)){var o=!0;yr(e)}else o=!1;if(no(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),vo(e,n,i),bo(e,n,i,r),i=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=io(l):l=mr(e,l=dr(n)?fr:cr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==l)&&yo(e,a,i,l),ro=!1;var f=e.memoizedState;a.state=f,co(e,i,a,r),u=e.memoizedState,s!==i||f!==u||hr.current||ro?("function"===typeof c&&(mo(e,n,c,i),u=e.memoizedState),(s=ro||po(e,n,s,i,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=l,i=s):("function"===typeof a.componentDidMount&&(e.flags|=4),i=!1)}else{a=e.stateNode,ao(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Hr(e.type,s),a.props=l,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=io(u):u=mr(e,u=dr(n)?fr:cr.current);var m=n.getDerivedStateFromProps;(c="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&yo(e,a,i,u),ro=!1,f=e.memoizedState,a.state=f,co(e,i,a,r);var d=e.memoizedState;s!==h||f!==d||hr.current||ro?("function"===typeof m&&(mo(e,n,m,i),d=e.memoizedState),(l=ro||po(e,n,l,i,f,d,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=i,e.memoizedState=d),a.props=i,a.state=d,a.context=u,i=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),i=!1)}return qa(t,e,n,i,o,r)}function qa(t,e,n,i,r,o){Ga(t,e);var a=0!==(64&e.flags);if(!i&&!a)return r&&br(e,n,!1),ns(t,e,o);i=e.stateNode,ja.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&a?(e.child=Co(e,t.child,null,o),e.child=Co(e,null,s,o)):Ta(t,e,s,o),e.memoizedState=i.state,r&&br(e,n,!0),e.child}function Ua(t){var e=t.stateNode;e.pendingContext?pr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&pr(0,e.context,!1),Oo(t,e.containerInfo)}var Ja,Wa,Xa,Ha={dehydrated:null,retryLane:0};function Qa(t,e,n){var i,r=e.pendingProps,o=To.current,a=!1;return(i=0!==(64&e.flags))||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=1),ur(To,1&o),null===t?(void 0!==r.fallback&&zo(e),t=r.children,o=r.fallback,a?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ha,t):"number"===typeof r.unstable_expectedLoadTime?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ha,e.lanes=33554432,t):((n=Wu({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(r=Ka(t,e,r.children,r.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Ha,r):(n=Za(t,e,r.children,n),e.memoizedState=null,n))}function $a(t,e,n,i){var r=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&r)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Wu(e,r,0,null),n=Ju(n,r,i,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Za(t,e,n,i){var r=t.child;return t=r.sibling,n=qu(r,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=i),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Ka(t,e,n,i,r){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=qu(a,s),null!==t?i=qu(t,i):(i=Ju(i,o,r,null)).flags|=2,i.return=e,n.return=e,n.sibling=i,e.child=n,i}function Ya(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),eo(t.return,e)}function ts(t,e,n,i,r,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.lastEffect=o)}function es(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ta(t,e,i.children,n),0!==(2&(i=To.current)))i=1&i|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ya(t,n);else if(19===t.tag)Ya(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ur(To,i),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===Lo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ts(e,!1,r,n,o,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Lo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Es|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=qu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=qu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function is(t,e){if(!Fo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function rs(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return dr(e.type)&&_r(),null;case 3:return Io(),sr(hr),sr(cr),Xo(),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(Uo(e)?e.flags|=4:i.hydrate||(e.flags|=256)),null;case 5:Do(e);var o=Mo(Po.current);if(n=e.type,null!==t&&null!=e.stateNode)Wa(t,e,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(null===e.stateNode)throw Error(a(166));return null}if(t=Mo(ko.current),Uo(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Qi]=e,i[$i]=s,n){case"dialog":ki("cancel",i),ki("close",i);break;case"iframe":case"object":case"embed":ki("load",i);break;case"video":case"audio":for(t=0;t<wi.length;t++)ki(wi[t],i);break;case"source":ki("error",i);break;case"img":case"image":case"link":ki("error",i),ki("load",i);break;case"details":ki("toggle",i);break;case"input":tt(i,s),ki("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ki("invalid",i);break;case"textarea":ut(i,s),ki("invalid",i)}for(var l in Ct(n,s),t=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?i.textContent!==o&&(t=["children",o]):"number"===typeof o&&i.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&ki("scroll",i));switch(n){case"input":$(i),it(i,s,!0);break;case"textarea":$(i),ct(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Ri)}i=t,e.updateQueue=i,null!==i&&(e.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=mt(n)),t===ht?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Qi]=e,t[$i]=i,Ja(t,e),e.stateNode=t,l=At(n,i),n){case"dialog":ki("cancel",t),ki("close",t),o=i;break;case"iframe":case"object":case"embed":ki("load",t),o=i;break;case"video":case"audio":for(o=0;o<wi.length;o++)ki(wi[o],t);o=i;break;case"source":ki("error",t),o=i;break;case"img":case"image":case"link":ki("error",t),ki("load",t),o=i;break;case"details":ki("toggle",t),o=i;break;case"input":tt(t,i),o=Y(t,i),ki("invalid",t);break;case"option":o=ot(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=r({},i,{value:void 0}),ki("invalid",t);break;case"textarea":ut(t,i),o=st(t,i),ki("invalid",t);break;default:o=i}Ct(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?St(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&vt(t,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&yt(t,h):"number"===typeof h&&yt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&ki("scroll",t):null!=h&&g(t,s,h,l))}switch(n){case"input":$(t),it(t,i,!1);break;case"textarea":$(t),ct(t);break;case"option":null!=i.value&&t.setAttribute("value",""+H(i.value));break;case"select":t.multiple=!!i.multiple,null!=(s=i.value)?at(t,!!i.multiple,s,!1):null!=i.defaultValue&&at(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Ri)}Gi(n,i)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Xa(0,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(a(166));n=Mo(Po.current),Mo(ko.current),Uo(e)?(i=e.stateNode,n=e.memoizedProps,i[Qi]=e,i.nodeValue!==n&&(e.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Qi]=e,e.stateNode=i)}return null;case 13:return sr(To),i=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(i=null!==i,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Uo(e):n=null!==t.memoizedState,i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&To.current)?0===Ts&&(Ts=3):(0!==Ts&&3!==Ts||(Ts=4),null===Ms||0===(134217727&Es)&&0===(134217727&Fs)||_u(Ms,Is))),(i||n)&&(e.flags|=4),null);case 4:return Io(),null===t&&Pi(e.stateNode.containerInfo),null;case 10:return to(e),null;case 17:return dr(e.type)&&_r(),null;case 19:if(sr(To),null===(i=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(l=i.rendering))if(s)is(i,!1);else{if(0!==Ts||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=Lo(t))){for(e.flags|=64,is(i,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=n,n=e.child;null!==n;)t=i,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ur(To,1&To.current|2),e.child}t=t.sibling}null!==i.tail&&Gr()>qs&&(e.flags|=64,s=!0,is(i,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Lo(l))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),is(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!Fo)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*Gr()-i.renderingStartTime>qs&&1073741824!==n&&(e.flags|=64,s=!0,is(i,!1),e.lanes=33554432);i.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=i.last)?n.sibling=l:e.child=l,i.last=l)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=Gr(),n.sibling=null,e=To.current,ur(To,s?1&e|2:1&e),n):null;case 23:case 24:return gu(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:dr(t.type)&&_r();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Io(),sr(hr),sr(cr),Xo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Do(t),null;case 13:return sr(To),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return sr(To),null;case 4:return Io(),null;case 10:return to(t),null;case 23:case 24:return gu(),null;default:return null}}function as(t,e){try{var n="",i=e;do{n+=W(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Ja=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,Mo(ko.current);var a,s=null;switch(n){case"input":o=Y(t,o),i=Y(t,i),s=[];break;case"option":o=ot(t,o),i=ot(t,i),s=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),s=[];break;case"textarea":o=st(t,o),i=st(t,i),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(t.onclick=Ri)}for(h in Ct(n,i),n=null,o)if(!i.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var c=i[h];if(l=null!=o?o[h]:void 0,i.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&ki("scroll",t),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===T?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Xa=function(t,e,n,i){n!==i&&(e.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ls(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Xs||(Xs=!0,Hs=i),ss(0,e)},n}function cs(t,e,n){(n=so(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return ss(0,e),i(r)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Qs?Qs=new Set([this]):Qs.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function fs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Ru(t,n)}else e.current=null}function ms(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Hr(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Ui(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var r=t;i=r.next,0!==(4&(r=r.tag))&&0!==(1&r)&&(Du(n,t),ju(n,t)),t=i}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:Hr(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Gi(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Se(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function _s(t,e){for(var n=t;;){if(5===n.tag){var i=n.stateNode;if(e)"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,i.style.display=xt("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ps(t,e){if(xr&&"function"===typeof xr.onCommitFiberUnmount)try{xr.onCommitFiberUnmount(gr,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var i=n,r=i.destroy;if(i=i.tag,void 0!==r)if(0!==(4&i))Du(e,n);else{i=e;try{r()}catch(o){Ru(i,o)}}n=n.next}while(n!==t)}break;case 1:if(fs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Ru(e,o)}break;case 5:fs(e);break;case 4:Ss(t,e)}}function vs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ys(t){return 5===t.tag||3===t.tag||4===t.tag}function bs(t){t:{for(var e=t.return;null!==e;){if(ys(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}i?gs(t,n,e):xs(t,n,e)}function gs(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Ri));else if(4!==i&&null!==(t=t.child))for(gs(t,e,n),t=t.sibling;null!==t;)gs(t,e,n),t=t.sibling}function xs(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(xs(t,e,n),t=t.sibling;null!==t;)xs(t,e,n),t=t.sibling}function Ss(t,e){for(var n,i,r=e,o=!1;;){if(!o){o=r.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:i=!1;break t;case 3:case 4:n=n.containerInfo,i=!0;break t}o=o.return}o=!0}if(5===r.tag||6===r.tag){t:for(var s=t,u=r,l=u;;)if(ps(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break t;for(;null===l.sibling;){if(null===l.return||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(s=n,u=r.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(ps(t,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;4===(r=r.return).tag&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function ws(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(t=i.destroy,i.destroy=void 0,void 0!==t&&t()),i=i.next}while(i!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){i=e.memoizedProps;var r=null!==t?t.memoizedProps:i;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[$i]=i,"input"===t&&"radio"===i.type&&null!=i.name&&et(n,i),At(t,r),e=At(t,i),r=0;r<o.length;r+=2){var s=o[r],u=o[r+1];"style"===s?St(n,u):"dangerouslySetInnerHTML"===s?vt(n,u):"children"===s?yt(n,u):g(n,s,u,e)}switch(t){case"input":nt(n,i);break;case"textarea":lt(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(o=i.value)?at(n,!!i.multiple,o,!1):t!==!!i.multiple&&(null!=i.defaultValue?at(n,!!i.multiple,i.defaultValue,!0):at(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Se(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(zs=Gr(),_s(e.child,!0)),void Cs(e);case 19:return void Cs(e);case 17:return;case 23:case 24:return void _s(e,null!==e.memoizedState)}throw Error(a(163))}function Cs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new hs),e.forEach((function(e){var i=Fu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function As(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Bs=Math.ceil,ks=x.ReactCurrentDispatcher,Vs=x.ReactCurrentOwner,Ps=0,Ms=null,Os=null,Is=0,js=0,Ds=ar(0),Ts=0,Ls=null,Rs=0,Es=0,Fs=0,Gs=0,Ns=null,zs=0,qs=1/0;function Us(){qs=Gr()+500}var Js,Ws=null,Xs=!1,Hs=null,Qs=null,$s=!1,Zs=null,Ks=90,Ys=[],tu=[],eu=null,nu=0,iu=null,ru=-1,ou=0,au=0,su=null,uu=!1;function lu(){return 0!==(48&Ps)?Gr():-1!==ru?ru:ru=Gr()}function cu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Nr()?1:2;if(0===ou&&(ou=Rs),0!==Xr.transition){0!==au&&(au=null!==Ns?Ns.pendingLanes:0),t=ou;var e=4186112&~au;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Nr(),0!==(4&Ps)&&98===t?t=Ge(12,ou):t=Ge(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ou),t}function hu(t,e,n){if(50<nu)throw nu=0,iu=null,Error(a(185));if(null===(t=fu(t,e)))return null;qe(t,e,n),t===Ms&&(Fs|=e,4===Ts&&_u(t,Is));var i=Nr();1===e?0!==(8&Ps)&&0===(48&Ps)?pu(t):(mu(t,n),0===Ps&&(Us(),Jr())):(0===(4&Ps)||98!==i&&99!==i||(null===eu?eu=new Set([t]):eu.add(t)),mu(t,n)),Ns=t}function fu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function mu(t,e){for(var n=t.callbackNode,i=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ue(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&i)||0!==(l&r)){c=e,Re(l);var h=Le;o[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);s&=~l}if(i=Ee(t,t===Ms?Is:0),e=Le,0===i)null!==n&&(n!==Dr&&Cr(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Dr&&Cr(n)}15===e?(n=pu.bind(null,t),null===Lr?(Lr=[n],Rr=wr(Pr,Wr)):Lr.push(n),n=Dr):14===e?n=Ur(99,pu.bind(null,t)):n=Ur(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),du.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function du(t){if(ru=-1,au=ou=0,0!==(48&Ps))throw Error(a(327));var e=t.callbackNode;if(Iu()&&t.callbackNode!==e)return null;var n=Ee(t,t===Ms?Is:0);if(0===n)return null;var i=n,r=Ps;Ps|=16;var o=wu();for(Ms===t&&Is===i||(Us(),xu(t,i));;)try{Bu();break}catch(u){Su(t,u)}if(Yr(),ks.current=o,Ps=r,null!==Os?i=0:(Ms=null,Is=0,i=Ts),0!==(Rs&Fs))xu(t,0);else if(0!==i){if(2===i&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Ui(t.containerInfo)),0!==(n=Fe(t))&&(i=Cu(t,n))),1===i)throw e=Ls,xu(t,0),_u(t,n),mu(t,Gr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,i){case 0:case 1:throw Error(a(345));case 2:Pu(t);break;case 3:if(_u(t,n),(62914560&n)===n&&10<(i=zs+500-Gr())){if(0!==Ee(t,0))break;if(((r=t.suspendedLanes)&n)!==n){lu(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=zi(Pu.bind(null,t),i);break}Pu(t);break;case 4:if(_u(t,n),(4186112&n)===n)break;for(i=t.eventTimes,r=-1;0<n;){var s=31-Ue(n);o=1<<s,(s=i[s])>r&&(r=s),n&=~o}if(n=r,10<(n=(120>(n=Gr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bs(n/1960))-n)){t.timeoutHandle=zi(Pu.bind(null,t),n);break}Pu(t);break;case 5:Pu(t);break;default:throw Error(a(329))}}return mu(t,Gr()),t.callbackNode===e?du.bind(null,t):null}function _u(t,e){for(e&=~Gs,e&=~Fs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ue(e),i=1<<n;t[n]=-1,e&=~i}}function pu(t){if(0!==(48&Ps))throw Error(a(327));if(Iu(),t===Ms&&0!==(t.expiredLanes&Is)){var e=Is,n=Cu(t,e);0!==(Rs&Fs)&&(n=Cu(t,e=Ee(t,e)))}else n=Cu(t,e=Ee(t,0));if(0!==t.tag&&2===n&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Ui(t.containerInfo)),0!==(e=Fe(t))&&(n=Cu(t,e))),1===n)throw n=Ls,xu(t,0),_u(t,e),mu(t,Gr()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pu(t),mu(t,Gr()),null}function vu(t,e){var n=Ps;Ps|=1;try{return t(e)}finally{0===(Ps=n)&&(Us(),Jr())}}function yu(t,e){var n=Ps;Ps&=-2,Ps|=8;try{return t(e)}finally{0===(Ps=n)&&(Us(),Jr())}}function bu(t,e){ur(Ds,js),js|=e,Rs|=e}function gu(){js=Ds.current,sr(Ds)}function xu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,qi(n)),null!==Os)for(n=Os.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&_r();break;case 3:Io(),sr(hr),sr(cr),Xo();break;case 5:Do(i);break;case 4:Io();break;case 13:case 19:sr(To);break;case 10:to(i);break;case 23:case 24:gu()}n=n.return}Ms=t,Os=qu(t.current,null),Is=js=Rs=e,Ts=0,Ls=null,Gs=Fs=Es=0}function Su(t,e){for(;;){var n=Os;try{if(Yr(),Ho.current=Pa,ta){for(var i=Zo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ta=!1}if($o=0,Yo=Ko=Zo=null,ea=!1,Vs.current=null,null===n||null===n.return){Ts=1,Ls=e,Os=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&To.current),f=a;do{var m;if(m=13===f.tag){var d=f.memoizedState;if(null!==d)m=null!==d.dehydrated;else{var _=f.memoizedProps;m=void 0!==_.fallback&&(!0!==_.unstable_avoidThisFallback||!h)}}if(m){var p=f.updateQueue;if(null===p){var v=new Set;v.add(l),f.updateQueue=v}else p.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=so(-1,1);y.tag=2,uo(s,y)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var g=Eu.bind(null,o,l,s);l.then(g,g)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ts&&(Ts=2),u=as(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,lo(f,ls(0,o,e));break t;case 1:o=u;var x=f.type,S=f.stateNode;if(0===(64&f.flags)&&("function"===typeof x.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Qs||!Qs.has(S)))){f.flags|=4096,e&=-e,f.lanes|=e,lo(f,cs(f,o,e));break t}}f=f.return}while(null!==f)}Vu(n)}catch(w){e=w,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function wu(){var t=ks.current;return ks.current=Pa,null===t?Pa:t}function Cu(t,e){var n=Ps;Ps|=16;var i=wu();for(Ms===t&&Is===e||xu(t,e);;)try{Au();break}catch(r){Su(t,r)}if(Yr(),Ps=n,ks.current=i,null!==Os)throw Error(a(261));return Ms=null,Is=0,Ts}function Au(){for(;null!==Os;)ku(Os)}function Bu(){for(;null!==Os&&!Ar();)ku(Os)}function ku(t){var e=Js(t.alternate,t,js);t.memoizedProps=t.pendingProps,null===e?Vu(t):Os=e,Vs.current=null}function Vu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=rs(n,e,js)))return void(Os=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var i=0,r=n.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(Os=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Os=e);Os=e=t}while(null!==e);0===Ts&&(Ts=5)}function Pu(t){var e=Nr();return qr(99,Mu.bind(null,t,e)),null}function Mu(t,e){do{Iu()}while(null!==Zs);if(0!==(48&Ps))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var i=n.lanes|n.childLanes,r=i,o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var l=31-Ue(o),c=1<<l;r[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==eu&&0===(24&i)&&eu.has(t)&&eu.delete(t),t===Ms&&(Os=Ms=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(r=Ps,Ps|=32,Vs.current=null,Ei=Qe,di(s=mi())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(B){u=null;break t}var h=0,f=-1,m=-1,d=0,_=0,p=s,v=null;e:for(;;){for(var y;p!==u||0!==o&&3!==p.nodeType||(f=h+o),p!==l||0!==c&&3!==p.nodeType||(m=h+c),3===p.nodeType&&(h+=p.nodeValue.length),null!==(y=p.firstChild);)v=p,p=y;for(;;){if(p===s)break e;if(v===u&&++d===o&&(f=h),v===l&&++_===c&&(m=h),null!==(y=p.nextSibling))break;v=(p=v).parentNode}p=y}u=-1===f||-1===m?null:{start:f,end:m}}else u=null;u=u||{start:0,end:0}}else u=null;Fi={focusedElem:s,selectionRange:u},Qe=!1,su=null,uu=!1,Ws=i;do{try{Ou()}catch(B){if(null===Ws)throw Error(a(330));Ru(Ws,B),Ws=Ws.nextEffect}}while(null!==Ws);su=null,Ws=i;do{try{for(s=t;null!==Ws;){var b=Ws.flags;if(16&b&&yt(Ws.stateNode,""),128&b){var g=Ws.alternate;if(null!==g){var x=g.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:bs(Ws),Ws.flags&=-3;break;case 6:bs(Ws),Ws.flags&=-3,ws(Ws.alternate,Ws);break;case 1024:Ws.flags&=-1025;break;case 1028:Ws.flags&=-1025,ws(Ws.alternate,Ws);break;case 4:ws(Ws.alternate,Ws);break;case 8:Ss(s,u=Ws);var S=u.alternate;vs(u),null!==S&&vs(S)}Ws=Ws.nextEffect}}catch(B){if(null===Ws)throw Error(a(330));Ru(Ws,B),Ws=Ws.nextEffect}}while(null!==Ws);if(x=Fi,g=mi(),b=x.focusedElem,s=x.selectionRange,g!==b&&b&&b.ownerDocument&&fi(b.ownerDocument.documentElement,b)){null!==s&&di(b)&&(g=s.start,void 0===(x=s.end)&&(x=g),"selectionStart"in b?(b.selectionStart=g,b.selectionEnd=Math.min(x,b.value.length)):(x=(g=b.ownerDocument||document)&&g.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!x.extend&&S>s&&(u=s,s=S,S=u),u=hi(b,S),o=hi(b,s),u&&o&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((g=g.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),S>s?(x.addRange(g),x.extend(o.node,o.offset)):(g.setEnd(o.node,o.offset),x.addRange(g))))),g=[];for(x=b;x=x.parentNode;)1===x.nodeType&&g.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<g.length;b++)(x=g[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Qe=!!Ei,Fi=Ei=null,t.current=n,Ws=i;do{try{for(b=t;null!==Ws;){var w=Ws.flags;if(36&w&&ds(b,Ws.alternate,Ws),128&w){g=void 0;var C=Ws.ref;if(null!==C){var A=Ws.stateNode;switch(Ws.tag){case 5:g=A;break;default:g=A}"function"===typeof C?C(g):C.current=g}}Ws=Ws.nextEffect}}catch(B){if(null===Ws)throw Error(a(330));Ru(Ws,B),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Tr(),Ps=r}else t.current=n;if($s)$s=!1,Zs=t,Ks=e;else for(Ws=i;null!==Ws;)e=Ws.nextEffect,Ws.nextEffect=null,8&Ws.flags&&((w=Ws).sibling=null,w.stateNode=null),Ws=e;if(0===(i=t.pendingLanes)&&(Qs=null),1===i?t===iu?nu++:(nu=0,iu=t):nu=0,n=n.stateNode,xr&&"function"===typeof xr.onCommitFiberRoot)try{xr.onCommitFiberRoot(gr,n,void 0,64===(64&n.current.flags))}catch(B){}if(mu(t,Gr()),Xs)throw Xs=!1,t=Hs,Hs=null,t;return 0!==(8&Ps)||Jr(),null}function Ou(){for(;null!==Ws;){var t=Ws.alternate;uu||null===su||(0!==(8&Ws.flags)?te(Ws,su)&&(uu=!0):13===Ws.tag&&As(t,Ws)&&te(Ws,su)&&(uu=!0));var e=Ws.flags;0!==(256&e)&&ms(t,Ws),0===(512&e)||$s||($s=!0,Ur(97,(function(){return Iu(),null}))),Ws=Ws.nextEffect}}function Iu(){if(90!==Ks){var t=97<Ks?97:Ks;return Ks=90,qr(t,Tu)}return!1}function ju(t,e){Ys.push(e,t),$s||($s=!0,Ur(97,(function(){return Iu(),null})))}function Du(t,e){tu.push(e,t),$s||($s=!0,Ur(97,(function(){return Iu(),null})))}function Tu(){if(null===Zs)return!1;var t=Zs;if(Zs=null,0!==(48&Ps))throw Error(a(331));var e=Ps;Ps|=32;var n=tu;tu=[];for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1],s=r.destroy;if(r.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));Ru(o,l)}}for(n=Ys,Ys=[],i=0;i<n.length;i+=2){r=n[i],o=n[i+1];try{var u=r.create;r.destroy=u()}catch(l){if(null===o)throw Error(a(330));Ru(o,l)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ps=e,Jr(),!0}function Lu(t,e,n){uo(t,e=ls(0,e=as(n,e),1)),e=lu(),null!==(t=fu(t,1))&&(qe(t,1,e),mu(t,e))}function Ru(t,e){if(3===t.tag)Lu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Lu(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Qs||!Qs.has(i))){var r=cs(n,t=as(e,t),1);if(uo(n,r),r=lu(),null!==(n=fu(n,1)))qe(n,1,r),mu(n,r);else if("function"===typeof i.componentDidCatch&&(null===Qs||!Qs.has(i)))try{i.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Eu(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=lu(),t.pingedLanes|=t.suspendedLanes&n,Ms===t&&(Is&n)===n&&(4===Ts||3===Ts&&(62914560&Is)===Is&&500>Gr()-zs?xu(t,0):Gs|=n),mu(t,e)}function Fu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Nr()?1:2:(0===ou&&(ou=Rs),0===(e=Ne(62914560&~ou))&&(e=4194304))),n=lu(),null!==(t=fu(t,e))&&(qe(t,e,n),mu(t,n))}function Gu(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(t,e,n,i){return new Gu(t,e,n,i)}function zu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function qu(t,e){var n=t.alternate;return null===n?((n=Nu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uu(t,e,n,i,r,o){var s=2;if(i=t,"function"===typeof t)zu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case C:return Ju(n.children,r,o,e);case L:s=8,r|=16;break;case A:s=8,r|=1;break;case B:return(t=Nu(12,n,e,8|r)).elementType=B,t.type=B,t.lanes=o,t;case M:return(t=Nu(13,n,e,r)).type=M,t.elementType=M,t.lanes=o,t;case O:return(t=Nu(19,n,e,r)).elementType=O,t.lanes=o,t;case R:return Wu(n,r,o,e);case E:return(t=Nu(24,n,e,r)).elementType=E,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case V:s=9;break t;case P:s=11;break t;case I:s=14;break t;case j:s=16,i=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Nu(s,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Ju(t,e,n,i){return(t=Nu(7,t,i,e)).lanes=n,t}function Wu(t,e,n,i){return(t=Nu(23,t,i,e)).elementType=R,t.lanes=n,t}function Xu(t,e,n){return(t=Nu(6,t,null,e)).lanes=n,t}function Hu(t,e,n){return(e=Nu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function $u(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function Zu(t,e,n,i){var r=e.current,o=lu(),s=cu(r);t:if(n){e:{if($t(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(dr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(dr(l)){n=vr(n,l,u);break t}}n=u}else n=lr;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),uo(r,e),hu(r,s,o),s}function Ku(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Yu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tl(t,e){Yu(t,e),(t=t.alternate)&&Yu(t,e)}function el(t,e,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qu(t,e,null!=n&&!0===n.hydrate),e=Nu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,oo(e),t[Zi]=n.current,Pi(8===t.nodeType?t.parentNode:t),i)for(t=0;t<i.length;t++){var r=(e=i[t])._getVersion;r=r(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,r]:n.mutableSourceEagerHydrationData.push(e,r)}this._internalRoot=n}function nl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function il(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof r){var s=r;r=function(){var t=Ku(a);s.call(t)}}Zu(e,a,t,r)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new el(t,0,e?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"===typeof r){var u=r;r=function(){var t=Ku(a);u.call(t)}}yu((function(){Zu(e,a,t,r)}))}return Ku(a)}function rl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(e))throw Error(a(200));return $u(t,e,null,n)}Js=function(t,e,n){var i=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||hr.current)Da=!0;else{if(0===(n&i)){switch(Da=!1,e.tag){case 3:Ua(e),Jo();break;case 5:jo(e);break;case 1:dr(e.type)&&yr(e);break;case 4:Oo(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var r=e.type._context;ur(Qr,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Qa(t,e,n):(ur(To,1&To.current),null!==(e=ns(t,e,n))?e.sibling:null);ur(To,1&To.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(64&t.flags)){if(i)return es(t,e,n);e.flags|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),ur(To,To.current),i)break;return null;case 23:case 24:return e.lanes=0,Fa(t,e,n)}return ns(t,e,n)}Da=0!==(16384&t.flags)}else Da=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,r=mr(e,cr.current),no(e,n),r=ra(null,e,i,t,r,n),e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(i)){var o=!0;yr(e)}else o=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(e);var s=i.getDerivedStateFromProps;"function"===typeof s&&mo(e,i,s,t),r.updater=_o,e.stateNode=r,r._reactInternals=e,bo(e,i,t,n),e=qa(null,e,i,!0,o,n)}else e.tag=0,Ta(null,e,r,n),e=e.child;return e;case 16:r=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,r=(o=r._init)(r._payload),e.type=r,o=e.tag=function(t){if("function"===typeof t)return zu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===P)return 11;if(t===I)return 14}return 2}(r),t=Hr(r,t),o){case 0:e=Na(null,e,r,t,n);break t;case 1:e=za(null,e,r,t,n);break t;case 11:e=La(null,e,r,t,n);break t;case 14:e=Ra(null,e,r,Hr(r.type,t),i,n);break t}throw Error(a(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,Na(t,e,i,r=e.elementType===i?r:Hr(i,r),n);case 1:return i=e.type,r=e.pendingProps,za(t,e,i,r=e.elementType===i?r:Hr(i,r),n);case 3:if(Ua(e),i=e.updateQueue,null===t||null===i)throw Error(a(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,ao(t,e),co(e,i,null,n),(i=e.memoizedState.element)===r)Jo(),e=ns(t,e,n);else{if((o=(r=e.stateNode).hydrate)&&(Eo=Ji(e.stateNode.containerInfo.firstChild),Ro=e,o=Fo=!0),o){if(null!=(t=r.mutableSourceEagerHydrationData))for(r=0;r<t.length;r+=2)(o=t[r])._workInProgressVersionPrimary=t[r+1],Wo.push(o);for(n=Ao(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ta(t,e,i,n),Jo();e=e.child}return e;case 5:return jo(e),null===t&&zo(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,s=r.children,Ni(i,r)?s=null:null!==o&&Ni(i,o)&&(e.flags|=16),Ga(t,e),Ta(t,e,s,n),e.child;case 6:return null===t&&zo(e),null;case 13:return Qa(t,e,n);case 4:return Oo(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Co(e,null,i,n):Ta(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,La(t,e,i,r=e.elementType===i?r:Hr(i,r),n);case 7:return Ta(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ta(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value;var u=e.type._context;if(ur(Qr,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=si(u,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,o):1073741823))){if(s.children===r.children&&!hr.current){e=ns(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===u.tag&&((c=so(-1,n&-n)).tag=2,uo(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),eo(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ta(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(o=e.pendingProps).children,no(e,n),i=i(r=io(r,o.unstable_observedBits)),e.flags|=1,Ta(t,e,i,n),e.child;case 14:return o=Hr(r=e.type,e.pendingProps),Ra(t,e,r,o=Hr(r.type,o),i,n);case 15:return Ea(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hr(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,dr(i)?(t=!0,yr(e)):t=!1,no(e,n),vo(e,i,r),bo(e,i,r,n),qa(null,e,i,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return Fa(t,e,n)}throw Error(a(156,e.tag))},el.prototype.render=function(t){Zu(t,this._internalRoot,null,null)},el.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Zu(null,t,null,(function(){e[Zi]=null}))},ee=function(t){13===t.tag&&(hu(t,4,lu()),tl(t,4))},ne=function(t){13===t.tag&&(hu(t,67108864,lu()),tl(t,67108864))},ie=function(t){if(13===t.tag){var e=lu(),n=cu(t);hu(t,n,e),tl(t,n)}},re=function(t,e){return e()},kt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=nr(i);if(!r)throw Error(a(90));Z(i),nt(i,r)}}}break;case"textarea":lt(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},jt=vu,Dt=function(t,e,n,i,r){var o=Ps;Ps|=4;try{return qr(98,t.bind(null,e,n,i,r))}finally{0===(Ps=o)&&(Us(),Jr())}},Tt=function(){0===(49&Ps)&&(function(){if(null!==eu){var t=eu;eu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,mu(t,Gr())}))}Jr()}(),Iu())},Lt=function(t,e){var n=Ps;Ps|=2;try{return t(e)}finally{0===(Ps=n)&&(Us(),Jr())}};var ol={Events:[tr,er,nr,Ot,It,Iu,{current:!1}]},al={findFiberByHostInstance:Yi,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Yt(t))?null:t.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{gr=ul.inject(sl),xr=ul}catch(pt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,e.createPortal=rl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Yt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ps;if(0!==(48&n))return t(e);Ps|=1;try{if(t)return qr(99,t.bind(null,e))}finally{Ps=n,Jr()}},e.hydrate=function(t,e,n){if(!nl(e))throw Error(a(200));return il(null,t,e,!0,n)},e.render=function(t,e,n){if(!nl(e))throw Error(a(200));return il(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nl(t))throw Error(a(40));return!!t._reactRootContainer&&(yu((function(){il(null,null,t,!1,(function(){t._reactRootContainer=null,t[Zi]=null}))})),!0)},e.unstable_batchedUpdates=vu,e.unstable_createPortal=function(t,e){return rl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!nl(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return il(t,e,n,!1,i)},e.version="17.0.1"},function(t,e,n){"use strict";t.exports=n(89)},function(t,e,n){"use strict";var i,r,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,h=null,f=function t(){if(null!==c)try{var n=e.unstable_now();c(!0,n),c=null}catch(i){throw setTimeout(t,0),i}};i=function(t){null!==c?setTimeout(i,0,t):(c=t,setTimeout(f,0))},r=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var _=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,y=-1,b=5,g=0;e.unstable_shouldYield=function(){return e.unstable_now()>=g},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,S=x.port2;x.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();g=t+b;try{v(!0,t)?S.postMessage(null):(p=!1,v=null)}catch(n){throw S.postMessage(null),n}}else p=!1},i=function(t){v=t,p||(p=!0,S.postMessage(null))},r=function(t,n){y=m((function(){t(e.unstable_now())}),n)},o=function(){d(y),y=-1}}function w(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,r=t[i];if(!(void 0!==r&&0<B(r,e)))break t;t[i]=e,t[n]=r,n=i}}function C(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length;i<r;){var o=2*(i+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>B(a,n))void 0!==u&&0>B(u,a)?(t[i]=u,t[s]=n,i=s):(t[i]=a,t[o]=n,i=o);else{if(!(void 0!==u&&0>B(u,n)))break t;t[i]=u,t[s]=n,i=s}}}return e}return null}function B(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var k=[],V=[],P=1,M=null,O=3,I=!1,j=!1,D=!1;function T(t){for(var e=C(V);null!==e;){if(null===e.callback)A(V);else{if(!(e.startTime<=t))break;A(V),e.sortIndex=e.expirationTime,w(k,e)}e=C(V)}}function L(t){if(D=!1,T(t),!j)if(null!==C(k))j=!0,i(R);else{var e=C(V);null!==e&&r(L,e.startTime-t)}}function R(t,n){j=!1,D&&(D=!1,o()),I=!0;var i=O;try{for(T(n),M=C(k);null!==M&&(!(M.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=M.callback;if("function"===typeof a){M.callback=null,O=M.priorityLevel;var s=a(M.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?M.callback=s:M===C(k)&&A(k),T(n)}else A(k);M=C(k)}if(null!==M)var u=!0;else{var l=C(V);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{M=null,O=i,I=!1}}var E=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){j||I||(j=!0,i(R))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return C(k)},e.unstable_next=function(t){switch(O){case 1:case 2:case 3:var e=3;break;default:e=O}var n=O;O=e;try{return t()}finally{O=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=E,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=O;O=t;try{return e()}finally{O=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:P++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,w(V,t),null===C(k)&&t===C(V)&&(D?o():D=!0,r(L,a-s))):(t.sortIndex=u,w(k,t),j||I||(j=!0,i(R))),t},e.unstable_wrapCallback=function(t){var e=O;return function(){var n=O;O=e;try{return t.apply(this,arguments)}finally{O=n}}}},,function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){"use strict";t.exports=n(93)},function(t,e,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,m=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,_=i?Symbol.for("react.suspense_list"):60120,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,g=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function S(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case m:case v:case p:case l:return t;default:return e}}case o:return e}}}function w(t){return S(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=m,e.Fragment=a,e.Lazy=v,e.Memo=p,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return w(t)||S(t)===h},e.isConcurrentMode=w,e.isContextConsumer=function(t){return S(t)===c},e.isContextProvider=function(t){return S(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return S(t)===m},e.isFragment=function(t){return S(t)===a},e.isLazy=function(t){return S(t)===v},e.isMemo=function(t){return S(t)===p},e.isPortal=function(t){return S(t)===o},e.isProfiler=function(t){return S(t)===u},e.isStrictMode=function(t){return S(t)===s},e.isSuspense=function(t){return S(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===_||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===p||t.$$typeof===l||t.$$typeof===c||t.$$typeof===m||t.$$typeof===b||t.$$typeof===g||t.$$typeof===x||t.$$typeof===y)},e.typeOf=S},function(t,e,n){"use strict";(function(t){var e=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),r="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],a="undefined"!==typeof MutationObserver,s=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,o=0;function a(){n&&(n=!1,t()),i&&u()}function s(){r(a)}function u(){var t=Date.now();if(n){if(t-o<2)return;i=!0}else n=!0,i=!1,setTimeout(s,e);o=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;o.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),u=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},l=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},c=p(0,0,0,0);function h(t){return parseFloat(t)||0}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+h(t["border-"+n+"-width"])}),0)}function m(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return c;var i=l(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=t["padding-"+r];e[r]=h(o)}return e}(i),o=r.left+r.right,a=r.top+r.bottom,s=h(i.width),u=h(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==e&&(s-=f(i,"left","right")+o),Math.round(u+a)!==n&&(u-=f(i,"top","bottom")+a)),!function(t){return t===l(t).document.documentElement}(t)){var m=Math.round(s+o)-e,d=Math.round(u+a)-n;1!==Math.abs(m)&&(s-=m),1!==Math.abs(d)&&(u-=d)}return p(r.left,r.top,s,u)}var d="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof l(t).SVGGraphicsElement}:function(t){return t instanceof l(t).SVGElement&&"function"===typeof t.getBBox};function _(t){return n?d(t)?function(t){var e=t.getBBox();return p(0,0,e.width,e.height)}(t):m(t):c}function p(t,e,n,i){return{x:t,y:e,width:n,height:i}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=p(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=_(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),y=function(t,e){var n=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return u(a,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),a}(e);u(this,{target:t,contentRect:n})},b=function(){function t(t,n,i){if(this.activeObservations_=[],this.observations_=new e,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new y(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),g="undefined"!==typeof WeakMap?new WeakMap:new e,x=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=s.getInstance(),i=new b(e,n,this);g.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){x.prototype[t]=function(){var e;return(e=g.get(this))[t].apply(e,arguments)}}));"undefined"!==typeof i.ResizeObserver&&i.ResizeObserver}).call(this,n(95))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),a=new V(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===m)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return M()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var u=c(t,e,n);if("normal"===u.type){if(i=n.done?d:f,u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",m="executing",d="completed",_={};function p(){}function v(){}function y(){}var b={};b[o]=function(){return this};var g=Object.getPrototypeOf,x=g&&g(g(P([])));x&&x!==n&&i.call(x,o)&&(b=x);var S=y.prototype=p.prototype=Object.create(b);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function A(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,_;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,_):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return v.prototype=S.constructor=y,y.constructor=v,v.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},w(C.prototype),C.prototype[a]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new C(l(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(S),u(S,s,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=P,V.prototype={constructor:V,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:P(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),_}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){t.exports=n(98)},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),a=new V(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===m)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return M()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var u=c(t,e,n);if("normal"===u.type){if(i=n.done?d:f,u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",m="executing",d="completed",_={};function p(){}function v(){}function y(){}var b={};b[o]=function(){return this};var g=Object.getPrototypeOf,x=g&&g(g(P([])));x&&x!==n&&i.call(x,o)&&(b=x);var S=y.prototype=p.prototype=Object.create(b);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function A(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,_;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,_):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return v.prototype=S.constructor=y,y.constructor=v,v.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},w(C.prototype),C.prototype[a]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new C(l(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(S),u(S,s,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=P,V.prototype={constructor:V,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:P(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),_}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(t,e){function n(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var a=t.apply(e,i);function s(t){n(a,r,o,s,u,"next",t)}function u(t){n(a,r,o,s,u,"throw",t)}s(void 0)}))}}},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){var i=n(102);t.exports=function(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(t,e,n){var i=n(103);t.exports=function(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},function(t,e,n){var i=n(105);function r(e,n,o){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=r=Reflect.get:t.exports=r=function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},r(e,n,o||e)}t.exports=r},function(t,e,n){var i=n(58);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}},function(t,e,n){var i=n(71);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){var i=n(58),r=n(72),o=n(108);t.exports=function(t){var e=r();return function(){var n,r=i(t);if(e){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}}},function(t,e,n){var i=n(109),r=n(110);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?r(t):e}},function(t,e){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){var i=n(71),r=n(72);function o(e,n,a){return r()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},o.apply(null,arguments)}t.exports=o}]]);
//# sourceMappingURL=2.fa482c7c.chunk.js.map